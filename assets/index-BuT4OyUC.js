var _a=Object.defineProperty;var ba=($,j,_e)=>j in $?_a($,j,{enumerable:!0,configurable:!0,writable:!0,value:_e}):$[j]=_e;var Ps=($,j,_e)=>ba($,typeof j!="symbol"?j+"":j,_e);function _mergeNamespaces($,j){for(var _e=0;_e<j.length;_e++){const et=j[_e];if(typeof et!="string"&&!Array.isArray(et)){for(const tt in et)if(tt!=="default"&&!(tt in $)){const nt=Object.getOwnPropertyDescriptor(et,tt);nt&&Object.defineProperty($,tt,nt.get?nt:{enumerable:!0,get:()=>et[tt]})}}}return Object.freeze(Object.defineProperty($,Symbol.toStringTag,{value:"Module"}))}(function(){const j=document.createElement("link").relList;if(j&&j.supports&&j.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))et(tt);new MutationObserver(tt=>{for(const nt of tt)if(nt.type==="childList")for(const rt of nt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&et(rt)}).observe(document,{childList:!0,subtree:!0});function _e(tt){const nt={};return tt.integrity&&(nt.integrity=tt.integrity),tt.referrerPolicy&&(nt.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?nt.credentials="include":tt.crossOrigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function et(tt){if(tt.ep)return;tt.ep=!0;const nt=_e(tt);fetch(tt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs($){return $&&$.__esModule&&Object.prototype.hasOwnProperty.call($,"default")?$.default:$}function getAugmentedNamespace($){if($.__esModule)return $;var j=$.default;if(typeof j=="function"){var _e=function et(){return this instanceof et?Reflect.construct(j,arguments,this.constructor):j.apply(this,arguments)};_e.prototype=j.prototype}else _e={};return Object.defineProperty(_e,"__esModule",{value:!0}),Object.keys($).forEach(function(et){var tt=Object.getOwnPropertyDescriptor($,et);Object.defineProperty(_e,et,tt.get?tt:{enumerable:!0,get:function(){return $[et]}})}),_e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$2={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$2($){return $===null||typeof $!="object"?null:($=z$1&&$[z$1]||$["@@iterator"],typeof $=="function"?$:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$1={};function E$2($,j,_e){this.props=$,this.context=j,this.refs=D$1,this.updater=_e||B$1}E$2.prototype.isReactComponent={};E$2.prototype.setState=function($,j){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,j,"setState")};E$2.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function F(){}F.prototype=E$2.prototype;function G$1($,j,_e){this.props=$,this.context=j,this.refs=D$1,this.updater=_e||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$2(H$1,E$2.prototype);H$1.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2($,j,_e){var et,tt={},nt=null,rt=null;if(j!=null)for(et in j.ref!==void 0&&(rt=j.ref),j.key!==void 0&&(nt=""+j.key),j)J.call(j,et)&&!L$1.hasOwnProperty(et)&&(tt[et]=j[et]);var st=arguments.length-2;if(st===1)tt.children=_e;else if(1<st){for(var at=Array(st),ut=0;ut<st;ut++)at[ut]=arguments[ut+2];tt.children=at}if($&&$.defaultProps)for(et in st=$.defaultProps,st)tt[et]===void 0&&(tt[et]=st[et]);return{$$typeof:l$3,type:$,key:nt,ref:rt,props:tt,_owner:K$1.current}}function N$1($,j){return{$$typeof:l$3,type:$.type,key:j,ref:$.ref,props:$.props,_owner:$._owner}}function O$2($){return typeof $=="object"&&$!==null&&$.$$typeof===l$3}function escape$1($){var j={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(_e){return j[_e]})}var P$1=/\/+/g;function Q$1($,j){return typeof $=="object"&&$!==null&&$.key!=null?escape$1(""+$.key):j.toString(36)}function R$1($,j,_e,et,tt){var nt=typeof $;(nt==="undefined"||nt==="boolean")&&($=null);var rt=!1;if($===null)rt=!0;else switch(nt){case"string":case"number":rt=!0;break;case"object":switch($.$$typeof){case l$3:case n$5:rt=!0}}if(rt)return rt=$,tt=tt(rt),$=et===""?"."+Q$1(rt,0):et,I$2(tt)?(_e="",$!=null&&(_e=$.replace(P$1,"$&/")+"/"),R$1(tt,j,_e,"",function(ut){return ut})):tt!=null&&(O$2(tt)&&(tt=N$1(tt,_e+(!tt.key||rt&&rt.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+$)),j.push(tt)),1;if(rt=0,et=et===""?".":et+":",I$2($))for(var st=0;st<$.length;st++){nt=$[st];var at=et+Q$1(nt,st);rt+=R$1(nt,j,_e,at,tt)}else if(at=A$2($),typeof at=="function")for($=at.call($),st=0;!(nt=$.next()).done;)nt=nt.value,at=et+Q$1(nt,st++),rt+=R$1(nt,j,_e,at,tt);else if(nt==="object")throw j=String($),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$2($,j,_e){if($==null)return $;var et=[],tt=0;return R$1($,et,"","",function(nt){return j.call(_e,nt,tt++)}),et}function T$2($){if($._status===-1){var j=$._result;j=j(),j.then(function(_e){($._status===0||$._status===-1)&&($._status=1,$._result=_e)},function(_e){($._status===0||$._status===-1)&&($._status=2,$._result=_e)}),$._status===-1&&($._status=0,$._result=j)}if($._status===1)return $._result.default;throw $._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function($,j,_e){S$2($,function(){j.apply(this,arguments)},_e)},count:function($){var j=0;return S$2($,function(){j++}),j},toArray:function($){return S$2($,function(j){return j})||[]},only:function($){if(!O$2($))throw Error("React.Children.only expected to receive a single React element child.");return $}};react_production_min.Component=E$2;react_production_min.Fragment=p$4;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$2;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function($,j,_e){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var et=C$2({},$.props),tt=$.key,nt=$.ref,rt=$._owner;if(j!=null){if(j.ref!==void 0&&(nt=j.ref,rt=K$1.current),j.key!==void 0&&(tt=""+j.key),$.type&&$.type.defaultProps)var st=$.type.defaultProps;for(at in j)J.call(j,at)&&!L$1.hasOwnProperty(at)&&(et[at]=j[at]===void 0&&st!==void 0?st[at]:j[at])}var at=arguments.length-2;if(at===1)et.children=_e;else if(1<at){st=Array(at);for(var ut=0;ut<at;ut++)st[ut]=arguments[ut+2];et.children=st}return{$$typeof:l$3,type:$.type,key:tt,ref:nt,props:et,_owner:rt}};react_production_min.createContext=function($){return $={$$typeof:u$2,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:t$4,_context:$},$.Consumer=$};react_production_min.createElement=M$2;react_production_min.createFactory=function($){var j=M$2.bind(null,$);return j.type=$,j};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function($){return{$$typeof:v$1,render:$}};react_production_min.isValidElement=O$2;react_production_min.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:T$2}};react_production_min.memo=function($,j){return{$$typeof:x,type:$,compare:j===void 0?null:j}};react_production_min.startTransition=function($){var j=V$1.transition;V$1.transition={};try{$()}finally{V$1.transition=j}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function($,j){return U$1.current.useCallback($,j)};react_production_min.useContext=function($){return U$1.current.useContext($)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function($){return U$1.current.useDeferredValue($)};react_production_min.useEffect=function($,j){return U$1.current.useEffect($,j)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function($,j,_e){return U$1.current.useImperativeHandle($,j,_e)};react_production_min.useInsertionEffect=function($,j){return U$1.current.useInsertionEffect($,j)};react_production_min.useLayoutEffect=function($,j){return U$1.current.useLayoutEffect($,j)};react_production_min.useMemo=function($,j){return U$1.current.useMemo($,j)};react_production_min.useReducer=function($,j,_e){return U$1.current.useReducer($,j,_e)};react_production_min.useRef=function($){return U$1.current.useRef($)};react_production_min.useState=function($){return U$1.current.useState($)};react_production_min.useSyncExternalStore=function($,j,_e){return U$1.current.useSyncExternalStore($,j,_e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react$2.exports=react_production_min;var reactExports=react$2.exports;const React$1=getDefaultExportFromCjs(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$4=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$1($,j,_e){var et,tt={},nt=null,rt=null;_e!==void 0&&(nt=""+_e),j.key!==void 0&&(nt=""+j.key),j.ref!==void 0&&(rt=j.ref);for(et in j)m$3.call(j,et)&&!p$3.hasOwnProperty(et)&&(tt[et]=j[et]);if($&&$.defaultProps)for(et in j=$.defaultProps,j)tt[et]===void 0&&(tt[et]=j[et]);return{$$typeof:k$1,type:$,key:nt,ref:rt,props:tt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function($){function j(Kt,Qt){var sn=Kt.length;Kt.push(Qt);e:for(;0<sn;){var tn=sn-1>>>1,dn=Kt[tn];if(0<tt(dn,Qt))Kt[tn]=Qt,Kt[sn]=dn,sn=tn;else break e}}function _e(Kt){return Kt.length===0?null:Kt[0]}function et(Kt){if(Kt.length===0)return null;var Qt=Kt[0],sn=Kt.pop();if(sn!==Qt){Kt[0]=sn;e:for(var tn=0,dn=Kt.length,wn=dn>>>1;tn<wn;){var bn=2*(tn+1)-1,_n=Kt[bn],Sn=bn+1,yn=Kt[Sn];if(0>tt(_n,sn))Sn<dn&&0>tt(yn,_n)?(Kt[tn]=yn,Kt[Sn]=sn,tn=Sn):(Kt[tn]=_n,Kt[bn]=sn,tn=bn);else if(Sn<dn&&0>tt(yn,sn))Kt[tn]=yn,Kt[Sn]=sn,tn=Sn;else break e}}return Qt}function tt(Kt,Qt){var sn=Kt.sortIndex-Qt.sortIndex;return sn!==0?sn:Kt.id-Qt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;$.unstable_now=function(){return nt.now()}}else{var rt=Date,st=rt.now();$.unstable_now=function(){return rt.now()-st}}var at=[],ut=[],dt=1,ot=null,lt=3,ft=!1,ht=!1,vt=!1,bt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Et(Kt){for(var Qt=_e(ut);Qt!==null;){if(Qt.callback===null)et(ut);else if(Qt.startTime<=Kt)et(ut),Qt.sortIndex=Qt.expirationTime,j(at,Qt);else break;Qt=_e(ut)}}function At(Kt){if(vt=!1,Et(Kt),!ht)if(_e(at)!==null)ht=!0,on(kt);else{var Qt=_e(ut);Qt!==null&&hn(At,Qt.startTime-Kt)}}function kt(Kt,Qt){ht=!1,vt&&(vt=!1,mt(Pt),Pt=-1),ft=!0;var sn=lt;try{for(Et(Qt),ot=_e(at);ot!==null&&(!(ot.expirationTime>Qt)||Kt&&!Xt());){var tn=ot.callback;if(typeof tn=="function"){ot.callback=null,lt=ot.priorityLevel;var dn=tn(ot.expirationTime<=Qt);Qt=$.unstable_now(),typeof dn=="function"?ot.callback=dn:ot===_e(at)&&et(at),Et(Qt)}else et(at);ot=_e(at)}if(ot!==null)var wn=!0;else{var bn=_e(ut);bn!==null&&hn(At,bn.startTime-Qt),wn=!1}return wn}finally{ot=null,lt=sn,ft=!1}}var Lt=!1,wt=null,Pt=-1,Bt=5,Vt=-1;function Xt(){return!($.unstable_now()-Vt<Bt)}function pn(){if(wt!==null){var Kt=$.unstable_now();Vt=Kt;var Qt=!0;try{Qt=wt(!0,Kt)}finally{Qt?En():(Lt=!1,wt=null)}}else Lt=!1}var En;if(typeof xt=="function")En=function(){xt(pn)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,rn=Yt.port2;Yt.port1.onmessage=pn,En=function(){rn.postMessage(null)}}else En=function(){bt(pn,0)};function on(Kt){wt=Kt,Lt||(Lt=!0,En())}function hn(Kt,Qt){Pt=bt(function(){Kt($.unstable_now())},Qt)}$.unstable_IdlePriority=5,$.unstable_ImmediatePriority=1,$.unstable_LowPriority=4,$.unstable_NormalPriority=3,$.unstable_Profiling=null,$.unstable_UserBlockingPriority=2,$.unstable_cancelCallback=function(Kt){Kt.callback=null},$.unstable_continueExecution=function(){ht||ft||(ht=!0,on(kt))},$.unstable_forceFrameRate=function(Kt){0>Kt||125<Kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Bt=0<Kt?Math.floor(1e3/Kt):5},$.unstable_getCurrentPriorityLevel=function(){return lt},$.unstable_getFirstCallbackNode=function(){return _e(at)},$.unstable_next=function(Kt){switch(lt){case 1:case 2:case 3:var Qt=3;break;default:Qt=lt}var sn=lt;lt=Qt;try{return Kt()}finally{lt=sn}},$.unstable_pauseExecution=function(){},$.unstable_requestPaint=function(){},$.unstable_runWithPriority=function(Kt,Qt){switch(Kt){case 1:case 2:case 3:case 4:case 5:break;default:Kt=3}var sn=lt;lt=Kt;try{return Qt()}finally{lt=sn}},$.unstable_scheduleCallback=function(Kt,Qt,sn){var tn=$.unstable_now();switch(typeof sn=="object"&&sn!==null?(sn=sn.delay,sn=typeof sn=="number"&&0<sn?tn+sn:tn):sn=tn,Kt){case 1:var dn=-1;break;case 2:dn=250;break;case 5:dn=1073741823;break;case 4:dn=1e4;break;default:dn=5e3}return dn=sn+dn,Kt={id:dt++,callback:Qt,priorityLevel:Kt,startTime:sn,expirationTime:dn,sortIndex:-1},sn>tn?(Kt.sortIndex=sn,j(ut,Kt),_e(at)===null&&Kt===_e(ut)&&(vt?(mt(Pt),Pt=-1):vt=!0,hn(At,sn-tn))):(Kt.sortIndex=dn,j(at,Kt),ht||ft||(ht=!0,on(kt))),Kt},$.unstable_shouldYield=Xt,$.unstable_wrapCallback=function(Kt){var Qt=lt;return function(){var sn=lt;lt=Qt;try{return Kt.apply(this,arguments)}finally{lt=sn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2($){for(var j="https://reactjs.org/docs/error-decoder.html?invariant="+$,_e=1;_e<arguments.length;_e++)j+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+$+"; visit "+j+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa($,j){ha($,j),ha($+"Capture",j)}function ha($,j){for(ea[$]=j,$=0;$<j.length;$++)da.add(j[$])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa($){return ja.call(ma,$)?!0:ja.call(la,$)?!1:ka.test($)?ma[$]=!0:(la[$]=!0,!1)}function pa($,j,_e,et){if(_e!==null&&_e.type===0)return!1;switch(typeof j){case"function":case"symbol":return!0;case"boolean":return et?!1:_e!==null?!_e.acceptsBooleans:($=$.toLowerCase().slice(0,5),$!=="data-"&&$!=="aria-");default:return!1}}function qa($,j,_e,et){if(j===null||typeof j>"u"||pa($,j,_e,et))return!0;if(et)return!1;if(_e!==null)switch(_e.type){case 3:return!j;case 4:return j===!1;case 5:return isNaN(j);case 6:return isNaN(j)||1>j}return!1}function v($,j,_e,et,tt,nt,rt){this.acceptsBooleans=j===2||j===3||j===4,this.attributeName=et,this.attributeNamespace=tt,this.mustUseProperty=_e,this.propertyName=$,this.type=j,this.sanitizeURL=nt,this.removeEmptyString=rt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function($){z[$]=new v($,0,!1,$,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function($){var j=$[0];z[j]=new v(j,1,!1,$[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function($){z[$]=new v($,2,!1,$.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function($){z[$]=new v($,2,!1,$,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function($){z[$]=new v($,3,!1,$.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function($){z[$]=new v($,3,!0,$,null,!1,!1)});["capture","download"].forEach(function($){z[$]=new v($,4,!1,$,null,!1,!1)});["cols","rows","size","span"].forEach(function($){z[$]=new v($,6,!1,$,null,!1,!1)});["rowSpan","start"].forEach(function($){z[$]=new v($,5,!1,$.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa($){return $[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function($){var j=$.replace(ra,sa);z[j]=new v(j,1,!1,$,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function($){var j=$.replace(ra,sa);z[j]=new v(j,1,!1,$,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function($){var j=$.replace(ra,sa);z[j]=new v(j,1,!1,$,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function($){z[$]=new v($,1,!1,$.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function($){z[$]=new v($,1,!1,$.toLowerCase(),null,!0,!0)});function ta($,j,_e,et){var tt=z.hasOwnProperty(j)?z[j]:null;(tt!==null?tt.type!==0:et||!(2<j.length)||j[0]!=="o"&&j[0]!=="O"||j[1]!=="n"&&j[1]!=="N")&&(qa(j,_e,tt,et)&&(_e=null),et||tt===null?oa(j)&&(_e===null?$.removeAttribute(j):$.setAttribute(j,""+_e)):tt.mustUseProperty?$[tt.propertyName]=_e===null?tt.type===3?!1:"":_e:(j=tt.attributeName,et=tt.attributeNamespace,_e===null?$.removeAttribute(j):(tt=tt.type,_e=tt===3||tt===4&&_e===!0?"":""+_e,et?$.setAttributeNS(et,j,_e):$.setAttribute(j,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka($){return $===null||typeof $!="object"?null:($=Ja&&$[Ja]||$["@@iterator"],typeof $=="function"?$:null)}var A$1=Object.assign,La;function Ma($){if(La===void 0)try{throw Error()}catch(_e){var j=_e.stack.trim().match(/\n( *(at )?)/);La=j&&j[1]||""}return`
`+La+$}var Na=!1;function Oa($,j){if(!$||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(j)if(j=function(){throw Error()},Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(ut){var et=ut}Reflect.construct($,[],j)}else{try{j.call()}catch(ut){et=ut}$.call(j.prototype)}else{try{throw Error()}catch(ut){et=ut}$()}}catch(ut){if(ut&&et&&typeof ut.stack=="string"){for(var tt=ut.stack.split(`
`),nt=et.stack.split(`
`),rt=tt.length-1,st=nt.length-1;1<=rt&&0<=st&&tt[rt]!==nt[st];)st--;for(;1<=rt&&0<=st;rt--,st--)if(tt[rt]!==nt[st]){if(rt!==1||st!==1)do if(rt--,st--,0>st||tt[rt]!==nt[st]){var at=`
`+tt[rt].replace(" at new "," at ");return $.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",$.displayName)),at}while(1<=rt&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return($=$?$.displayName||$.name:"")?Ma($):""}function Pa($){switch($.tag){case 5:return Ma($.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return $=Oa($.type,!1),$;case 11:return $=Oa($.type.render,!1),$;case 1:return $=Oa($.type,!0),$;default:return""}}function Qa($){if($==null)return null;if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $;switch($){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof $=="object")switch($.$$typeof){case Ca:return($.displayName||"Context")+".Consumer";case Ba:return($._context.displayName||"Context")+".Provider";case Da:var j=$.render;return $=$.displayName,$||($=j.displayName||j.name||"",$=$!==""?"ForwardRef("+$+")":"ForwardRef"),$;case Ga:return j=$.displayName||null,j!==null?j:Qa($.type)||"Memo";case Ha:j=$._payload,$=$._init;try{return Qa($(j))}catch{}}return null}function Ra($){var j=$.type;switch($.tag){case 24:return"Cache";case 9:return(j.displayName||"Context")+".Consumer";case 10:return(j._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return $=j.render,$=$.displayName||$.name||"",j.displayName||($!==""?"ForwardRef("+$+")":"ForwardRef");case 7:return"Fragment";case 5:return j;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(j);case 8:return j===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof j=="function")return j.displayName||j.name||null;if(typeof j=="string")return j}return null}function Sa($){switch(typeof $){case"boolean":case"number":case"string":case"undefined":return $;case"object":return $;default:return""}}function Ta($){var j=$.type;return($=$.nodeName)&&$.toLowerCase()==="input"&&(j==="checkbox"||j==="radio")}function Ua($){var j=Ta($)?"checked":"value",_e=Object.getOwnPropertyDescriptor($.constructor.prototype,j),et=""+$[j];if(!$.hasOwnProperty(j)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var tt=_e.get,nt=_e.set;return Object.defineProperty($,j,{configurable:!0,get:function(){return tt.call(this)},set:function(rt){et=""+rt,nt.call(this,rt)}}),Object.defineProperty($,j,{enumerable:_e.enumerable}),{getValue:function(){return et},setValue:function(rt){et=""+rt},stopTracking:function(){$._valueTracker=null,delete $[j]}}}}function Va($){$._valueTracker||($._valueTracker=Ua($))}function Wa($){if(!$)return!1;var j=$._valueTracker;if(!j)return!0;var _e=j.getValue(),et="";return $&&(et=Ta($)?$.checked?"true":"false":$.value),$=et,$!==_e?(j.setValue($),!0):!1}function Xa($){if($=$||(typeof document<"u"?document:void 0),typeof $>"u")return null;try{return $.activeElement||$.body}catch{return $.body}}function Ya($,j){var _e=j.checked;return A$1({},j,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??$._wrapperState.initialChecked})}function Za($,j){var _e=j.defaultValue==null?"":j.defaultValue,et=j.checked!=null?j.checked:j.defaultChecked;_e=Sa(j.value!=null?j.value:_e),$._wrapperState={initialChecked:et,initialValue:_e,controlled:j.type==="checkbox"||j.type==="radio"?j.checked!=null:j.value!=null}}function ab($,j){j=j.checked,j!=null&&ta($,"checked",j,!1)}function bb($,j){ab($,j);var _e=Sa(j.value),et=j.type;if(_e!=null)et==="number"?(_e===0&&$.value===""||$.value!=_e)&&($.value=""+_e):$.value!==""+_e&&($.value=""+_e);else if(et==="submit"||et==="reset"){$.removeAttribute("value");return}j.hasOwnProperty("value")?cb($,j.type,_e):j.hasOwnProperty("defaultValue")&&cb($,j.type,Sa(j.defaultValue)),j.checked==null&&j.defaultChecked!=null&&($.defaultChecked=!!j.defaultChecked)}function db($,j,_e){if(j.hasOwnProperty("value")||j.hasOwnProperty("defaultValue")){var et=j.type;if(!(et!=="submit"&&et!=="reset"||j.value!==void 0&&j.value!==null))return;j=""+$._wrapperState.initialValue,_e||j===$.value||($.value=j),$.defaultValue=j}_e=$.name,_e!==""&&($.name=""),$.defaultChecked=!!$._wrapperState.initialChecked,_e!==""&&($.name=_e)}function cb($,j,_e){(j!=="number"||Xa($.ownerDocument)!==$)&&(_e==null?$.defaultValue=""+$._wrapperState.initialValue:$.defaultValue!==""+_e&&($.defaultValue=""+_e))}var eb=Array.isArray;function fb($,j,_e,et){if($=$.options,j){j={};for(var tt=0;tt<_e.length;tt++)j["$"+_e[tt]]=!0;for(_e=0;_e<$.length;_e++)tt=j.hasOwnProperty("$"+$[_e].value),$[_e].selected!==tt&&($[_e].selected=tt),tt&&et&&($[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),j=null,tt=0;tt<$.length;tt++){if($[tt].value===_e){$[tt].selected=!0,et&&($[tt].defaultSelected=!0);return}j!==null||$[tt].disabled||(j=$[tt])}j!==null&&(j.selected=!0)}}function gb($,j){if(j.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},j,{value:void 0,defaultValue:void 0,children:""+$._wrapperState.initialValue})}function hb($,j){var _e=j.value;if(_e==null){if(_e=j.children,j=j.defaultValue,_e!=null){if(j!=null)throw Error(p$2(92));if(eb(_e)){if(1<_e.length)throw Error(p$2(93));_e=_e[0]}j=_e}j==null&&(j=""),_e=j}$._wrapperState={initialValue:Sa(_e)}}function ib($,j){var _e=Sa(j.value),et=Sa(j.defaultValue);_e!=null&&(_e=""+_e,_e!==$.value&&($.value=_e),j.defaultValue==null&&$.defaultValue!==_e&&($.defaultValue=_e)),et!=null&&($.defaultValue=""+et)}function jb($){var j=$.textContent;j===$._wrapperState.initialValue&&j!==""&&j!==null&&($.value=j)}function kb($){switch($){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb($,j){return $==null||$==="http://www.w3.org/1999/xhtml"?kb(j):$==="http://www.w3.org/2000/svg"&&j==="foreignObject"?"http://www.w3.org/1999/xhtml":$}var mb,nb=function($){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(j,_e,et,tt){MSApp.execUnsafeLocalFunction(function(){return $(j,_e,et,tt)})}:$}(function($,j){if($.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in $)$.innerHTML=j;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+j.valueOf().toString()+"</svg>",j=mb.firstChild;$.firstChild;)$.removeChild($.firstChild);for(;j.firstChild;)$.appendChild(j.firstChild)}});function ob($,j){if(j){var _e=$.firstChild;if(_e&&_e===$.lastChild&&_e.nodeType===3){_e.nodeValue=j;return}}$.textContent=j}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function($){qb.forEach(function(j){j=j+$.charAt(0).toUpperCase()+$.substring(1),pb[j]=pb[$]})});function rb($,j,_e){return j==null||typeof j=="boolean"||j===""?"":_e||typeof j!="number"||j===0||pb.hasOwnProperty($)&&pb[$]?(""+j).trim():j+"px"}function sb($,j){$=$.style;for(var _e in j)if(j.hasOwnProperty(_e)){var et=_e.indexOf("--")===0,tt=rb(_e,j[_e],et);_e==="float"&&(_e="cssFloat"),et?$.setProperty(_e,tt):$[_e]=tt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub($,j){if(j){if(tb[$]&&(j.children!=null||j.dangerouslySetInnerHTML!=null))throw Error(p$2(137,$));if(j.dangerouslySetInnerHTML!=null){if(j.children!=null)throw Error(p$2(60));if(typeof j.dangerouslySetInnerHTML!="object"||!("__html"in j.dangerouslySetInnerHTML))throw Error(p$2(61))}if(j.style!=null&&typeof j.style!="object")throw Error(p$2(62))}}function vb($,j){if($.indexOf("-")===-1)return typeof j.is=="string";switch($){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb($){return $=$.target||$.srcElement||window,$.correspondingUseElement&&($=$.correspondingUseElement),$.nodeType===3?$.parentNode:$}var yb=null,zb=null,Ab=null;function Bb($){if($=Cb($)){if(typeof yb!="function")throw Error(p$2(280));var j=$.stateNode;j&&(j=Db(j),yb($.stateNode,$.type,j))}}function Eb($){zb?Ab?Ab.push($):Ab=[$]:zb=$}function Fb(){if(zb){var $=zb,j=Ab;if(Ab=zb=null,Bb($),j)for($=0;$<j.length;$++)Bb(j[$])}}function Gb($,j){return $(j)}function Hb(){}var Ib=!1;function Jb($,j,_e){if(Ib)return $(j,_e);Ib=!0;try{return Gb($,j,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb($,j){var _e=$.stateNode;if(_e===null)return null;var et=Db(_e);if(et===null)return null;_e=et[j];e:switch(j){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||($=$.type,et=!($==="button"||$==="input"||$==="select"||$==="textarea")),$=!et;break e;default:$=!1}if($)return null;if(_e&&typeof _e!="function")throw Error(p$2(231,j,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb($,j,_e,et,tt,nt,rt,st,at){var ut=Array.prototype.slice.call(arguments,3);try{j.apply(_e,ut)}catch(dt){this.onError(dt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function($){Ob=!0,Pb=$}};function Tb($,j,_e,et,tt,nt,rt,st,at){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub($,j,_e,et,tt,nt,rt,st,at){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ut)}}function Vb($){var j=$,_e=$;if($.alternate)for(;j.return;)j=j.return;else{$=j;do j=$,j.flags&4098&&(_e=j.return),$=j.return;while($)}return j.tag===3?_e:null}function Wb($){if($.tag===13){var j=$.memoizedState;if(j===null&&($=$.alternate,$!==null&&(j=$.memoizedState)),j!==null)return j.dehydrated}return null}function Xb($){if(Vb($)!==$)throw Error(p$2(188))}function Yb($){var j=$.alternate;if(!j){if(j=Vb($),j===null)throw Error(p$2(188));return j!==$?null:$}for(var _e=$,et=j;;){var tt=_e.return;if(tt===null)break;var nt=tt.alternate;if(nt===null){if(et=tt.return,et!==null){_e=et;continue}break}if(tt.child===nt.child){for(nt=tt.child;nt;){if(nt===_e)return Xb(tt),$;if(nt===et)return Xb(tt),j;nt=nt.sibling}throw Error(p$2(188))}if(_e.return!==et.return)_e=tt,et=nt;else{for(var rt=!1,st=tt.child;st;){if(st===_e){rt=!0,_e=tt,et=nt;break}if(st===et){rt=!0,et=tt,_e=nt;break}st=st.sibling}if(!rt){for(st=nt.child;st;){if(st===_e){rt=!0,_e=nt,et=tt;break}if(st===et){rt=!0,et=nt,_e=tt;break}st=st.sibling}if(!rt)throw Error(p$2(189))}}if(_e.alternate!==et)throw Error(p$2(190))}if(_e.tag!==3)throw Error(p$2(188));return _e.stateNode.current===_e?$:j}function Zb($){return $=Yb($),$!==null?$b($):null}function $b($){if($.tag===5||$.tag===6)return $;for($=$.child;$!==null;){var j=$b($);if(j!==null)return j;$=$.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc($){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,$,void 0,($.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc($){return $>>>=0,$===0?32:31-(pc($)/qc|0)|0}var rc=64,sc=4194304;function tc($){switch($&-$){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return $&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return $}}function uc($,j){var _e=$.pendingLanes;if(_e===0)return 0;var et=0,tt=$.suspendedLanes,nt=$.pingedLanes,rt=_e&268435455;if(rt!==0){var st=rt&~tt;st!==0?et=tc(st):(nt&=rt,nt!==0&&(et=tc(nt)))}else rt=_e&~tt,rt!==0?et=tc(rt):nt!==0&&(et=tc(nt));if(et===0)return 0;if(j!==0&&j!==et&&!(j&tt)&&(tt=et&-et,nt=j&-j,tt>=nt||tt===16&&(nt&4194240)!==0))return j;if(et&4&&(et|=_e&16),j=$.entangledLanes,j!==0)for($=$.entanglements,j&=et;0<j;)_e=31-oc(j),tt=1<<_e,et|=$[_e],j&=~tt;return et}function vc($,j){switch($){case 1:case 2:case 4:return j+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return j+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc($,j){for(var _e=$.suspendedLanes,et=$.pingedLanes,tt=$.expirationTimes,nt=$.pendingLanes;0<nt;){var rt=31-oc(nt),st=1<<rt,at=tt[rt];at===-1?(!(st&_e)||st&et)&&(tt[rt]=vc(st,j)):at<=j&&($.expiredLanes|=st),nt&=~st}}function xc($){return $=$.pendingLanes&-1073741825,$!==0?$:$&1073741824?1073741824:0}function yc(){var $=rc;return rc<<=1,!(rc&4194240)&&(rc=64),$}function zc($){for(var j=[],_e=0;31>_e;_e++)j.push($);return j}function Ac($,j,_e){$.pendingLanes|=j,j!==536870912&&($.suspendedLanes=0,$.pingedLanes=0),$=$.eventTimes,j=31-oc(j),$[j]=_e}function Bc($,j){var _e=$.pendingLanes&~j;$.pendingLanes=j,$.suspendedLanes=0,$.pingedLanes=0,$.expiredLanes&=j,$.mutableReadLanes&=j,$.entangledLanes&=j,j=$.entanglements;var et=$.eventTimes;for($=$.expirationTimes;0<_e;){var tt=31-oc(_e),nt=1<<tt;j[tt]=0,et[tt]=-1,$[tt]=-1,_e&=~nt}}function Cc($,j){var _e=$.entangledLanes|=j;for($=$.entanglements;_e;){var et=31-oc(_e),tt=1<<et;tt&j|$[et]&j&&($[et]|=j),_e&=~tt}}var C$1=0;function Dc($){return $&=-$,1<$?4<$?$&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc($,j){switch($){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(j.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(j.pointerId)}}function Tc($,j,_e,et,tt,nt){return $===null||$.nativeEvent!==nt?($={blockedOn:j,domEventName:_e,eventSystemFlags:et,nativeEvent:nt,targetContainers:[tt]},j!==null&&(j=Cb(j),j!==null&&Fc(j)),$):($.eventSystemFlags|=et,j=$.targetContainers,tt!==null&&j.indexOf(tt)===-1&&j.push(tt),$)}function Uc($,j,_e,et,tt){switch(j){case"focusin":return Lc=Tc(Lc,$,j,_e,et,tt),!0;case"dragenter":return Mc=Tc(Mc,$,j,_e,et,tt),!0;case"mouseover":return Nc=Tc(Nc,$,j,_e,et,tt),!0;case"pointerover":var nt=tt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,$,j,_e,et,tt)),!0;case"gotpointercapture":return nt=tt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,$,j,_e,et,tt)),!0}return!1}function Vc($){var j=Wc($.target);if(j!==null){var _e=Vb(j);if(_e!==null){if(j=_e.tag,j===13){if(j=Wb(_e),j!==null){$.blockedOn=j,Ic($.priority,function(){Gc(_e)});return}}else if(j===3&&_e.stateNode.current.memoizedState.isDehydrated){$.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}$.blockedOn=null}function Xc($){if($.blockedOn!==null)return!1;for(var j=$.targetContainers;0<j.length;){var _e=Yc($.domEventName,$.eventSystemFlags,j[0],$.nativeEvent);if(_e===null){_e=$.nativeEvent;var et=new _e.constructor(_e.type,_e);wb=et,_e.target.dispatchEvent(et),wb=null}else return j=Cb(_e),j!==null&&Fc(j),$.blockedOn=_e,!1;j.shift()}return!0}function Zc($,j,_e){Xc($)&&_e.delete(j)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad($,j){$.blockedOn===j&&($.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd($){function j(tt){return ad(tt,$)}if(0<Kc.length){ad(Kc[0],$);for(var _e=1;_e<Kc.length;_e++){var et=Kc[_e];et.blockedOn===$&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,$),Mc!==null&&ad(Mc,$),Nc!==null&&ad(Nc,$),Oc.forEach(j),Pc.forEach(j),_e=0;_e<Qc.length;_e++)et=Qc[_e],et.blockedOn===$&&(et.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed($,j,_e,et){var tt=C$1,nt=cd.transition;cd.transition=null;try{C$1=1,fd($,j,_e,et)}finally{C$1=tt,cd.transition=nt}}function gd($,j,_e,et){var tt=C$1,nt=cd.transition;cd.transition=null;try{C$1=4,fd($,j,_e,et)}finally{C$1=tt,cd.transition=nt}}function fd($,j,_e,et){if(dd){var tt=Yc($,j,_e,et);if(tt===null)hd($,j,et,id,_e),Sc($,et);else if(Uc(tt,$,j,_e,et))et.stopPropagation();else if(Sc($,et),j&4&&-1<Rc.indexOf($)){for(;tt!==null;){var nt=Cb(tt);if(nt!==null&&Ec(nt),nt=Yc($,j,_e,et),nt===null&&hd($,j,et,id,_e),nt===tt)break;tt=nt}tt!==null&&et.stopPropagation()}else hd($,j,et,null,_e)}}var id=null;function Yc($,j,_e,et){if(id=null,$=xb(et),$=Wc($),$!==null)if(j=Vb($),j===null)$=null;else if(_e=j.tag,_e===13){if($=Wb(j),$!==null)return $;$=null}else if(_e===3){if(j.stateNode.current.memoizedState.isDehydrated)return j.tag===3?j.stateNode.containerInfo:null;$=null}else j!==$&&($=null);return id=$,null}function jd($){switch($){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var $,j=ld,_e=j.length,et,tt="value"in kd?kd.value:kd.textContent,nt=tt.length;for($=0;$<_e&&j[$]===tt[$];$++);var rt=_e-$;for(et=1;et<=rt&&j[_e-et]===tt[nt-et];et++);return md=tt.slice($,1<et?1-et:void 0)}function od($){var j=$.keyCode;return"charCode"in $?($=$.charCode,$===0&&j===13&&($=13)):$=j,$===10&&($=13),32<=$||$===13?$:0}function pd(){return!0}function qd(){return!1}function rd($){function j(_e,et,tt,nt,rt){this._reactName=_e,this._targetInst=tt,this.type=et,this.nativeEvent=nt,this.target=rt,this.currentTarget=null;for(var st in $)$.hasOwnProperty(st)&&(_e=$[st],this[st]=_e?_e(nt):nt[st]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(j.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),j}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($){return $.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function($){return $.relatedTarget===void 0?$.fromElement===$.srcElement?$.toElement:$.fromElement:$.relatedTarget},movementX:function($){return"movementX"in $?$.movementX:($!==yd&&(yd&&$.type==="mousemove"?(wd=$.screenX-yd.screenX,xd=$.screenY-yd.screenY):xd=wd=0,yd=$),wd)},movementY:function($){return"movementY"in $?$.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function($){return"clipboardData"in $?$.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd($){var j=this.nativeEvent;return j.getModifierState?j.getModifierState($):($=Od[$])?!!j[$]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function($){if($.key){var j=Md[$.key]||$.key;if(j!=="Unidentified")return j}return $.type==="keypress"?($=od($),$===13?"Enter":String.fromCharCode($)):$.type==="keydown"||$.type==="keyup"?Nd[$.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function($){return $.type==="keypress"?od($):0},keyCode:function($){return $.type==="keydown"||$.type==="keyup"?$.keyCode:0},which:function($){return $.type==="keypress"?od($):$.type==="keydown"||$.type==="keyup"?$.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function($){return"deltaX"in $?$.deltaX:"wheelDeltaX"in $?-$.wheelDeltaX:0},deltaY:function($){return"deltaY"in $?$.deltaY:"wheelDeltaY"in $?-$.wheelDeltaY:"wheelDelta"in $?-$.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge($,j){switch($){case"keyup":return $d.indexOf(j.keyCode)!==-1;case"keydown":return j.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he($){return $=$.detail,typeof $=="object"&&"data"in $?$.data:null}var ie=!1;function je($,j){switch($){case"compositionend":return he(j);case"keypress":return j.which!==32?null:(fe=!0,ee);case"textInput":return $=j.data,$===ee&&fe?null:$;default:return null}}function ke($,j){if(ie)return $==="compositionend"||!ae&&ge($,j)?($=nd(),md=ld=kd=null,ie=!1,$):null;switch($){case"paste":return null;case"keypress":if(!(j.ctrlKey||j.altKey||j.metaKey)||j.ctrlKey&&j.altKey){if(j.char&&1<j.char.length)return j.char;if(j.which)return String.fromCharCode(j.which)}return null;case"compositionend":return de&&j.locale!=="ko"?null:j.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me($){var j=$&&$.nodeName&&$.nodeName.toLowerCase();return j==="input"?!!le[$.type]:j==="textarea"}function ne($,j,_e,et){Eb(et),j=oe(j,"onChange"),0<j.length&&(_e=new td("onChange","change",null,_e,et),$.push({event:_e,listeners:j}))}var pe=null,qe=null;function re($){se($,0)}function te($){var j=ue($);if(Wa(j))return $}function ve($,j){if($==="change")return j}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be($){if($.propertyName==="value"&&te(qe)){var j=[];ne(j,qe,$,xb($)),Jb(re,j)}}function Ce($,j,_e){$==="focusin"?(Ae(),pe=j,qe=_e,pe.attachEvent("onpropertychange",Be)):$==="focusout"&&Ae()}function De($){if($==="selectionchange"||$==="keyup"||$==="keydown")return te(qe)}function Ee($,j){if($==="click")return te(j)}function Fe($,j){if($==="input"||$==="change")return te(j)}function Ge($,j){return $===j&&($!==0||1/$===1/j)||$!==$&&j!==j}var He=typeof Object.is=="function"?Object.is:Ge;function Ie($,j){if(He($,j))return!0;if(typeof $!="object"||$===null||typeof j!="object"||j===null)return!1;var _e=Object.keys($),et=Object.keys(j);if(_e.length!==et.length)return!1;for(et=0;et<_e.length;et++){var tt=_e[et];if(!ja.call(j,tt)||!He($[tt],j[tt]))return!1}return!0}function Je($){for(;$&&$.firstChild;)$=$.firstChild;return $}function Ke($,j){var _e=Je($);$=0;for(var et;_e;){if(_e.nodeType===3){if(et=$+_e.textContent.length,$<=j&&et>=j)return{node:_e,offset:j-$};$=et}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le($,j){return $&&j?$===j?!0:$&&$.nodeType===3?!1:j&&j.nodeType===3?Le($,j.parentNode):"contains"in $?$.contains(j):$.compareDocumentPosition?!!($.compareDocumentPosition(j)&16):!1:!1}function Me(){for(var $=window,j=Xa();j instanceof $.HTMLIFrameElement;){try{var _e=typeof j.contentWindow.location.href=="string"}catch{_e=!1}if(_e)$=j.contentWindow;else break;j=Xa($.document)}return j}function Ne($){var j=$&&$.nodeName&&$.nodeName.toLowerCase();return j&&(j==="input"&&($.type==="text"||$.type==="search"||$.type==="tel"||$.type==="url"||$.type==="password")||j==="textarea"||$.contentEditable==="true")}function Oe($){var j=Me(),_e=$.focusedElem,et=$.selectionRange;if(j!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(et!==null&&Ne(_e)){if(j=et.start,$=et.end,$===void 0&&($=j),"selectionStart"in _e)_e.selectionStart=j,_e.selectionEnd=Math.min($,_e.value.length);else if($=(j=_e.ownerDocument||document)&&j.defaultView||window,$.getSelection){$=$.getSelection();var tt=_e.textContent.length,nt=Math.min(et.start,tt);et=et.end===void 0?nt:Math.min(et.end,tt),!$.extend&&nt>et&&(tt=et,et=nt,nt=tt),tt=Ke(_e,nt);var rt=Ke(_e,et);tt&&rt&&($.rangeCount!==1||$.anchorNode!==tt.node||$.anchorOffset!==tt.offset||$.focusNode!==rt.node||$.focusOffset!==rt.offset)&&(j=j.createRange(),j.setStart(tt.node,tt.offset),$.removeAllRanges(),nt>et?($.addRange(j),$.extend(rt.node,rt.offset)):(j.setEnd(rt.node,rt.offset),$.addRange(j)))}}for(j=[],$=_e;$=$.parentNode;)$.nodeType===1&&j.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<j.length;_e++)$=j[_e],$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue($,j,_e){var et=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&(j=new td("onSelect","select",null,j,_e),$.push({event:j,listeners:et}),j.target=Qe)))}function Ve($,j){var _e={};return _e[$.toLowerCase()]=j.toLowerCase(),_e["Webkit"+$]="webkit"+j,_e["Moz"+$]="moz"+j,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze($){if(Xe[$])return Xe[$];if(!We[$])return $;var j=We[$],_e;for(_e in j)if(j.hasOwnProperty(_e)&&_e in Ye)return Xe[$]=j[_e];return $}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff($,j){df.set($,j),fa(j,[$])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf($,j,_e){var et=$.type||"unknown-event";$.currentTarget=_e,Ub(et,j,void 0,$),$.currentTarget=null}function se($,j){j=(j&4)!==0;for(var _e=0;_e<$.length;_e++){var et=$[_e],tt=et.event;et=et.listeners;e:{var nt=void 0;if(j)for(var rt=et.length-1;0<=rt;rt--){var st=et[rt],at=st.instance,ut=st.currentTarget;if(st=st.listener,at!==nt&&tt.isPropagationStopped())break e;nf(tt,st,ut),nt=at}else for(rt=0;rt<et.length;rt++){if(st=et[rt],at=st.instance,ut=st.currentTarget,st=st.listener,at!==nt&&tt.isPropagationStopped())break e;nf(tt,st,ut),nt=at}}}if(Qb)throw $=Rb,Qb=!1,Rb=null,$}function D($,j){var _e=j[of];_e===void 0&&(_e=j[of]=new Set);var et=$+"__bubble";_e.has(et)||(pf(j,$,2,!1),_e.add(et))}function qf($,j,_e){var et=0;j&&(et|=4),pf(_e,$,et,j)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf($){if(!$[rf]){$[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,$),qf(_e,!0,$))});var j=$.nodeType===9?$:$.ownerDocument;j===null||j[rf]||(j[rf]=!0,qf("selectionchange",!1,j))}}function pf($,j,_e,et){switch(jd(j)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_e=tt.bind(null,j,_e,$),tt=void 0,!Lb||j!=="touchstart"&&j!=="touchmove"&&j!=="wheel"||(tt=!0),et?tt!==void 0?$.addEventListener(j,_e,{capture:!0,passive:tt}):$.addEventListener(j,_e,!0):tt!==void 0?$.addEventListener(j,_e,{passive:tt}):$.addEventListener(j,_e,!1)}function hd($,j,_e,et,tt){var nt=et;if(!(j&1)&&!(j&2)&&et!==null)e:for(;;){if(et===null)return;var rt=et.tag;if(rt===3||rt===4){var st=et.stateNode.containerInfo;if(st===tt||st.nodeType===8&&st.parentNode===tt)break;if(rt===4)for(rt=et.return;rt!==null;){var at=rt.tag;if((at===3||at===4)&&(at=rt.stateNode.containerInfo,at===tt||at.nodeType===8&&at.parentNode===tt))return;rt=rt.return}for(;st!==null;){if(rt=Wc(st),rt===null)return;if(at=rt.tag,at===5||at===6){et=nt=rt;continue e}st=st.parentNode}}et=et.return}Jb(function(){var ut=nt,dt=xb(_e),ot=[];e:{var lt=df.get($);if(lt!==void 0){var ft=td,ht=$;switch($){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":ft=Rd;break;case"focusin":ht="focus",ft=Fd;break;case"focusout":ht="blur",ft=Fd;break;case"beforeblur":case"afterblur":ft=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Vd;break;case $e:case af:case bf:ft=Hd;break;case cf:ft=Xd;break;case"scroll":ft=vd;break;case"wheel":ft=Zd;break;case"copy":case"cut":case"paste":ft=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Td}var vt=(j&4)!==0,bt=!vt&&$==="scroll",mt=vt?lt!==null?lt+"Capture":null:lt;vt=[];for(var xt=ut,Et;xt!==null;){Et=xt;var At=Et.stateNode;if(Et.tag===5&&At!==null&&(Et=At,mt!==null&&(At=Kb(xt,mt),At!=null&&vt.push(tf(xt,At,Et)))),bt)break;xt=xt.return}0<vt.length&&(lt=new ft(lt,ht,null,_e,dt),ot.push({event:lt,listeners:vt}))}}if(!(j&7)){e:{if(lt=$==="mouseover"||$==="pointerover",ft=$==="mouseout"||$==="pointerout",lt&&_e!==wb&&(ht=_e.relatedTarget||_e.fromElement)&&(Wc(ht)||ht[uf]))break e;if((ft||lt)&&(lt=dt.window===dt?dt:(lt=dt.ownerDocument)?lt.defaultView||lt.parentWindow:window,ft?(ht=_e.relatedTarget||_e.toElement,ft=ut,ht=ht?Wc(ht):null,ht!==null&&(bt=Vb(ht),ht!==bt||ht.tag!==5&&ht.tag!==6)&&(ht=null)):(ft=null,ht=ut),ft!==ht)){if(vt=Bd,At="onMouseLeave",mt="onMouseEnter",xt="mouse",($==="pointerout"||$==="pointerover")&&(vt=Td,At="onPointerLeave",mt="onPointerEnter",xt="pointer"),bt=ft==null?lt:ue(ft),Et=ht==null?lt:ue(ht),lt=new vt(At,xt+"leave",ft,_e,dt),lt.target=bt,lt.relatedTarget=Et,At=null,Wc(dt)===ut&&(vt=new vt(mt,xt+"enter",ht,_e,dt),vt.target=Et,vt.relatedTarget=bt,At=vt),bt=At,ft&&ht)t:{for(vt=ft,mt=ht,xt=0,Et=vt;Et;Et=vf(Et))xt++;for(Et=0,At=mt;At;At=vf(At))Et++;for(;0<xt-Et;)vt=vf(vt),xt--;for(;0<Et-xt;)mt=vf(mt),Et--;for(;xt--;){if(vt===mt||mt!==null&&vt===mt.alternate)break t;vt=vf(vt),mt=vf(mt)}vt=null}else vt=null;ft!==null&&wf(ot,lt,ft,vt,!1),ht!==null&&bt!==null&&wf(ot,bt,ht,vt,!0)}}e:{if(lt=ut?ue(ut):window,ft=lt.nodeName&&lt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&lt.type==="file")var kt=ve;else if(me(lt))if(we)kt=Fe;else{kt=De;var Lt=Ce}else(ft=lt.nodeName)&&ft.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(kt=Ee);if(kt&&(kt=kt($,ut))){ne(ot,kt,_e,dt);break e}Lt&&Lt($,lt,ut),$==="focusout"&&(Lt=lt._wrapperState)&&Lt.controlled&&lt.type==="number"&&cb(lt,"number",lt.value)}switch(Lt=ut?ue(ut):window,$){case"focusin":(me(Lt)||Lt.contentEditable==="true")&&(Qe=Lt,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ot,_e,dt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ot,_e,dt)}var wt;if(ae)e:{switch($){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else ie?ge($,_e)&&(Pt="onCompositionEnd"):$==="keydown"&&_e.keyCode===229&&(Pt="onCompositionStart");Pt&&(de&&_e.locale!=="ko"&&(ie||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ie&&(wt=nd()):(kd=dt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Lt=oe(ut,Pt),0<Lt.length&&(Pt=new Ld(Pt,$,null,_e,dt),ot.push({event:Pt,listeners:Lt}),wt?Pt.data=wt:(wt=he(_e),wt!==null&&(Pt.data=wt)))),(wt=ce?je($,_e):ke($,_e))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(dt=new Ld("onBeforeInput","beforeinput",null,_e,dt),ot.push({event:dt,listeners:ut}),dt.data=wt))}se(ot,j)})}function tf($,j,_e){return{instance:$,listener:j,currentTarget:_e}}function oe($,j){for(var _e=j+"Capture",et=[];$!==null;){var tt=$,nt=tt.stateNode;tt.tag===5&&nt!==null&&(tt=nt,nt=Kb($,_e),nt!=null&&et.unshift(tf($,nt,tt)),nt=Kb($,j),nt!=null&&et.push(tf($,nt,tt))),$=$.return}return et}function vf($){if($===null)return null;do $=$.return;while($&&$.tag!==5);return $||null}function wf($,j,_e,et,tt){for(var nt=j._reactName,rt=[];_e!==null&&_e!==et;){var st=_e,at=st.alternate,ut=st.stateNode;if(at!==null&&at===et)break;st.tag===5&&ut!==null&&(st=ut,tt?(at=Kb(_e,nt),at!=null&&rt.unshift(tf(_e,at,st))):tt||(at=Kb(_e,nt),at!=null&&rt.push(tf(_e,at,st)))),_e=_e.return}rt.length!==0&&$.push({event:j,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf($){return(typeof $=="string"?$:""+$).replace(xf,`
`).replace(yf,"")}function Af($,j,_e){if(j=zf(j),zf($)!==j&&_e)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef($,j){return $==="textarea"||$==="noscript"||typeof j.children=="string"||typeof j.children=="number"||typeof j.dangerouslySetInnerHTML=="object"&&j.dangerouslySetInnerHTML!==null&&j.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function($){return Hf.resolve(null).then($).catch(If)}:Ff;function If($){setTimeout(function(){throw $})}function Kf($,j){var _e=j,et=0;do{var tt=_e.nextSibling;if($.removeChild(_e),tt&&tt.nodeType===8)if(_e=tt.data,_e==="/$"){if(et===0){$.removeChild(tt),bd(j);return}et--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||et++;_e=tt}while(_e);bd(j)}function Lf($){for(;$!=null;$=$.nextSibling){var j=$.nodeType;if(j===1||j===3)break;if(j===8){if(j=$.data,j==="$"||j==="$!"||j==="$?")break;if(j==="/$")return null}}return $}function Mf($){$=$.previousSibling;for(var j=0;$;){if($.nodeType===8){var _e=$.data;if(_e==="$"||_e==="$!"||_e==="$?"){if(j===0)return $;j--}else _e==="/$"&&j++}$=$.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc($){var j=$[Of];if(j)return j;for(var _e=$.parentNode;_e;){if(j=_e[uf]||_e[Of]){if(_e=j.alternate,j.child!==null||_e!==null&&_e.child!==null)for($=Mf($);$!==null;){if(_e=$[Of])return _e;$=Mf($)}return j}$=_e,_e=$.parentNode}return null}function Cb($){return $=$[Of]||$[uf],!$||$.tag!==5&&$.tag!==6&&$.tag!==13&&$.tag!==3?null:$}function ue($){if($.tag===5||$.tag===6)return $.stateNode;throw Error(p$2(33))}function Db($){return $[Pf]||null}var Sf=[],Tf=-1;function Uf($){return{current:$}}function E$1($){0>Tf||($.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G($,j){Tf++,Sf[Tf]=$.current,$.current=j}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf($,j){var _e=$.type.contextTypes;if(!_e)return Vf;var et=$.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===j)return et.__reactInternalMemoizedMaskedChildContext;var tt={},nt;for(nt in _e)tt[nt]=j[nt];return et&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=j,$.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf($){return $=$.childContextTypes,$!=null}function $f(){E$1(Wf),E$1(H)}function ag($,j,_e){if(H.current!==Vf)throw Error(p$2(168));G(H,j),G(Wf,_e)}function bg($,j,_e){var et=$.stateNode;if(j=j.childContextTypes,typeof et.getChildContext!="function")return _e;et=et.getChildContext();for(var tt in et)if(!(tt in j))throw Error(p$2(108,Ra($)||"Unknown",tt));return A$1({},_e,et)}function cg($){return $=($=$.stateNode)&&$.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,$),G(Wf,Wf.current),!0}function dg($,j,_e){var et=$.stateNode;if(!et)throw Error(p$2(169));_e?($=bg($,j,Xf),et.__reactInternalMemoizedMergedChildContext=$,E$1(Wf),E$1(H),G(H,$)):E$1(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg($){eg===null?eg=[$]:eg.push($)}function ig($){fg=!0,hg($)}function jg(){if(!gg&&eg!==null){gg=!0;var $=0,j=C$1;try{var _e=eg;for(C$1=1;$<_e.length;$++){var et=_e[$];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice($+1)),ac(fc,jg),tt}finally{C$1=j,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg($,j){kg[lg++]=ng,kg[lg++]=mg,mg=$,ng=j}function ug($,j,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=$;var et=rg;$=sg;var tt=32-oc(et)-1;et&=~(1<<tt),_e+=1;var nt=32-oc(j)+tt;if(30<nt){var rt=tt-tt%5;nt=(et&(1<<rt)-1).toString(32),et>>=rt,tt-=rt,rg=1<<32-oc(j)+tt|_e<<tt|et,sg=nt+$}else rg=1<<nt|_e<<tt|et,sg=$}function vg($){$.return!==null&&(tg($,1),ug($,1,0))}function wg($){for(;$===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;$===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag($,j){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=j,_e.return=$,j=$.deletions,j===null?($.deletions=[_e],$.flags|=16):j.push(_e)}function Cg($,j){switch($.tag){case 5:var _e=$.type;return j=j.nodeType!==1||_e.toLowerCase()!==j.nodeName.toLowerCase()?null:j,j!==null?($.stateNode=j,xg=$,yg=Lf(j.firstChild),!0):!1;case 6:return j=$.pendingProps===""||j.nodeType!==3?null:j,j!==null?($.stateNode=j,xg=$,yg=null,!0):!1;case 13:return j=j.nodeType!==8?null:j,j!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,$.memoizedState={dehydrated:j,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=j,_e.return=$,$.child=_e,xg=$,yg=null,!0):!1;default:return!1}}function Dg($){return($.mode&1)!==0&&($.flags&128)===0}function Eg($){if(I$1){var j=yg;if(j){var _e=j;if(!Cg($,j)){if(Dg($))throw Error(p$2(418));j=Lf(_e.nextSibling);var et=xg;j&&Cg($,j)?Ag(et,_e):($.flags=$.flags&-4097|2,I$1=!1,xg=$)}}else{if(Dg($))throw Error(p$2(418));$.flags=$.flags&-4097|2,I$1=!1,xg=$}}}function Fg($){for($=$.return;$!==null&&$.tag!==5&&$.tag!==3&&$.tag!==13;)$=$.return;xg=$}function Gg($){if($!==xg)return!1;if(!I$1)return Fg($),I$1=!0,!1;var j;if((j=$.tag!==3)&&!(j=$.tag!==5)&&(j=$.type,j=j!=="head"&&j!=="body"&&!Ef($.type,$.memoizedProps)),j&&(j=yg)){if(Dg($))throw Hg(),Error(p$2(418));for(;j;)Ag($,j),j=Lf(j.nextSibling)}if(Fg($),$.tag===13){if($=$.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(p$2(317));e:{for($=$.nextSibling,j=0;$;){if($.nodeType===8){var _e=$.data;if(_e==="/$"){if(j===0){yg=Lf($.nextSibling);break e}j--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||j++}$=$.nextSibling}yg=null}}else yg=xg?Lf($.stateNode.nextSibling):null;return!0}function Hg(){for(var $=yg;$;)$=Lf($.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg($){zg===null?zg=[$]:zg.push($)}var Kg=ua.ReactCurrentBatchConfig;function Lg($,j,_e){if($=_e.ref,$!==null&&typeof $!="function"&&typeof $!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$2(309));var et=_e.stateNode}if(!et)throw Error(p$2(147,$));var tt=et,nt=""+$;return j!==null&&j.ref!==null&&typeof j.ref=="function"&&j.ref._stringRef===nt?j.ref:(j=function(rt){var st=tt.refs;rt===null?delete st[nt]:st[nt]=rt},j._stringRef=nt,j)}if(typeof $!="string")throw Error(p$2(284));if(!_e._owner)throw Error(p$2(290,$))}return $}function Mg($,j){throw $=Object.prototype.toString.call(j),Error(p$2(31,$==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$))}function Ng($){var j=$._init;return j($._payload)}function Og($){function j(mt,xt){if($){var Et=mt.deletions;Et===null?(mt.deletions=[xt],mt.flags|=16):Et.push(xt)}}function _e(mt,xt){if(!$)return null;for(;xt!==null;)j(mt,xt),xt=xt.sibling;return null}function et(mt,xt){for(mt=new Map;xt!==null;)xt.key!==null?mt.set(xt.key,xt):mt.set(xt.index,xt),xt=xt.sibling;return mt}function tt(mt,xt){return mt=Pg(mt,xt),mt.index=0,mt.sibling=null,mt}function nt(mt,xt,Et){return mt.index=Et,$?(Et=mt.alternate,Et!==null?(Et=Et.index,Et<xt?(mt.flags|=2,xt):Et):(mt.flags|=2,xt)):(mt.flags|=1048576,xt)}function rt(mt){return $&&mt.alternate===null&&(mt.flags|=2),mt}function st(mt,xt,Et,At){return xt===null||xt.tag!==6?(xt=Qg(Et,mt.mode,At),xt.return=mt,xt):(xt=tt(xt,Et),xt.return=mt,xt)}function at(mt,xt,Et,At){var kt=Et.type;return kt===ya?dt(mt,xt,Et.props.children,At,Et.key):xt!==null&&(xt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&Ng(kt)===xt.type)?(At=tt(xt,Et.props),At.ref=Lg(mt,xt,Et),At.return=mt,At):(At=Rg(Et.type,Et.key,Et.props,null,mt.mode,At),At.ref=Lg(mt,xt,Et),At.return=mt,At)}function ut(mt,xt,Et,At){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==Et.containerInfo||xt.stateNode.implementation!==Et.implementation?(xt=Sg(Et,mt.mode,At),xt.return=mt,xt):(xt=tt(xt,Et.children||[]),xt.return=mt,xt)}function dt(mt,xt,Et,At,kt){return xt===null||xt.tag!==7?(xt=Tg(Et,mt.mode,At,kt),xt.return=mt,xt):(xt=tt(xt,Et),xt.return=mt,xt)}function ot(mt,xt,Et){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=Qg(""+xt,mt.mode,Et),xt.return=mt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return Et=Rg(xt.type,xt.key,xt.props,null,mt.mode,Et),Et.ref=Lg(mt,null,xt),Et.return=mt,Et;case wa:return xt=Sg(xt,mt.mode,Et),xt.return=mt,xt;case Ha:var At=xt._init;return ot(mt,At(xt._payload),Et)}if(eb(xt)||Ka(xt))return xt=Tg(xt,mt.mode,Et,null),xt.return=mt,xt;Mg(mt,xt)}return null}function lt(mt,xt,Et,At){var kt=xt!==null?xt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number")return kt!==null?null:st(mt,xt,""+Et,At);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return Et.key===kt?at(mt,xt,Et,At):null;case wa:return Et.key===kt?ut(mt,xt,Et,At):null;case Ha:return kt=Et._init,lt(mt,xt,kt(Et._payload),At)}if(eb(Et)||Ka(Et))return kt!==null?null:dt(mt,xt,Et,At,null);Mg(mt,Et)}return null}function ft(mt,xt,Et,At,kt){if(typeof At=="string"&&At!==""||typeof At=="number")return mt=mt.get(Et)||null,st(xt,mt,""+At,kt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return mt=mt.get(At.key===null?Et:At.key)||null,at(xt,mt,At,kt);case wa:return mt=mt.get(At.key===null?Et:At.key)||null,ut(xt,mt,At,kt);case Ha:var Lt=At._init;return ft(mt,xt,Et,Lt(At._payload),kt)}if(eb(At)||Ka(At))return mt=mt.get(Et)||null,dt(xt,mt,At,kt,null);Mg(xt,At)}return null}function ht(mt,xt,Et,At){for(var kt=null,Lt=null,wt=xt,Pt=xt=0,Bt=null;wt!==null&&Pt<Et.length;Pt++){wt.index>Pt?(Bt=wt,wt=null):Bt=wt.sibling;var Vt=lt(mt,wt,Et[Pt],At);if(Vt===null){wt===null&&(wt=Bt);break}$&&wt&&Vt.alternate===null&&j(mt,wt),xt=nt(Vt,xt,Pt),Lt===null?kt=Vt:Lt.sibling=Vt,Lt=Vt,wt=Bt}if(Pt===Et.length)return _e(mt,wt),I$1&&tg(mt,Pt),kt;if(wt===null){for(;Pt<Et.length;Pt++)wt=ot(mt,Et[Pt],At),wt!==null&&(xt=nt(wt,xt,Pt),Lt===null?kt=wt:Lt.sibling=wt,Lt=wt);return I$1&&tg(mt,Pt),kt}for(wt=et(mt,wt);Pt<Et.length;Pt++)Bt=ft(wt,mt,Pt,Et[Pt],At),Bt!==null&&($&&Bt.alternate!==null&&wt.delete(Bt.key===null?Pt:Bt.key),xt=nt(Bt,xt,Pt),Lt===null?kt=Bt:Lt.sibling=Bt,Lt=Bt);return $&&wt.forEach(function(Xt){return j(mt,Xt)}),I$1&&tg(mt,Pt),kt}function vt(mt,xt,Et,At){var kt=Ka(Et);if(typeof kt!="function")throw Error(p$2(150));if(Et=kt.call(Et),Et==null)throw Error(p$2(151));for(var Lt=kt=null,wt=xt,Pt=xt=0,Bt=null,Vt=Et.next();wt!==null&&!Vt.done;Pt++,Vt=Et.next()){wt.index>Pt?(Bt=wt,wt=null):Bt=wt.sibling;var Xt=lt(mt,wt,Vt.value,At);if(Xt===null){wt===null&&(wt=Bt);break}$&&wt&&Xt.alternate===null&&j(mt,wt),xt=nt(Xt,xt,Pt),Lt===null?kt=Xt:Lt.sibling=Xt,Lt=Xt,wt=Bt}if(Vt.done)return _e(mt,wt),I$1&&tg(mt,Pt),kt;if(wt===null){for(;!Vt.done;Pt++,Vt=Et.next())Vt=ot(mt,Vt.value,At),Vt!==null&&(xt=nt(Vt,xt,Pt),Lt===null?kt=Vt:Lt.sibling=Vt,Lt=Vt);return I$1&&tg(mt,Pt),kt}for(wt=et(mt,wt);!Vt.done;Pt++,Vt=Et.next())Vt=ft(wt,mt,Pt,Vt.value,At),Vt!==null&&($&&Vt.alternate!==null&&wt.delete(Vt.key===null?Pt:Vt.key),xt=nt(Vt,xt,Pt),Lt===null?kt=Vt:Lt.sibling=Vt,Lt=Vt);return $&&wt.forEach(function(pn){return j(mt,pn)}),I$1&&tg(mt,Pt),kt}function bt(mt,xt,Et,At){if(typeof Et=="object"&&Et!==null&&Et.type===ya&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:e:{for(var kt=Et.key,Lt=xt;Lt!==null;){if(Lt.key===kt){if(kt=Et.type,kt===ya){if(Lt.tag===7){_e(mt,Lt.sibling),xt=tt(Lt,Et.props.children),xt.return=mt,mt=xt;break e}}else if(Lt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Ha&&Ng(kt)===Lt.type){_e(mt,Lt.sibling),xt=tt(Lt,Et.props),xt.ref=Lg(mt,Lt,Et),xt.return=mt,mt=xt;break e}_e(mt,Lt);break}else j(mt,Lt);Lt=Lt.sibling}Et.type===ya?(xt=Tg(Et.props.children,mt.mode,At,Et.key),xt.return=mt,mt=xt):(At=Rg(Et.type,Et.key,Et.props,null,mt.mode,At),At.ref=Lg(mt,xt,Et),At.return=mt,mt=At)}return rt(mt);case wa:e:{for(Lt=Et.key;xt!==null;){if(xt.key===Lt)if(xt.tag===4&&xt.stateNode.containerInfo===Et.containerInfo&&xt.stateNode.implementation===Et.implementation){_e(mt,xt.sibling),xt=tt(xt,Et.children||[]),xt.return=mt,mt=xt;break e}else{_e(mt,xt);break}else j(mt,xt);xt=xt.sibling}xt=Sg(Et,mt.mode,At),xt.return=mt,mt=xt}return rt(mt);case Ha:return Lt=Et._init,bt(mt,xt,Lt(Et._payload),At)}if(eb(Et))return ht(mt,xt,Et,At);if(Ka(Et))return vt(mt,xt,Et,At);Mg(mt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"?(Et=""+Et,xt!==null&&xt.tag===6?(_e(mt,xt.sibling),xt=tt(xt,Et),xt.return=mt,mt=xt):(_e(mt,xt),xt=Qg(Et,mt.mode,At),xt.return=mt,mt=xt),rt(mt)):_e(mt,xt)}return bt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah($){var j=Wg.current;E$1(Wg),$._currentValue=j}function bh($,j,_e){for(;$!==null;){var et=$.alternate;if(($.childLanes&j)!==j?($.childLanes|=j,et!==null&&(et.childLanes|=j)):et!==null&&(et.childLanes&j)!==j&&(et.childLanes|=j),$===_e)break;$=$.return}}function ch($,j){Xg=$,Zg=Yg=null,$=$.dependencies,$!==null&&$.firstContext!==null&&($.lanes&j&&(dh=!0),$.firstContext=null)}function eh($){var j=$._currentValue;if(Zg!==$)if($={context:$,memoizedValue:j,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=$,Xg.dependencies={lanes:0,firstContext:$}}else Yg=Yg.next=$;return j}var fh=null;function gh($){fh===null?fh=[$]:fh.push($)}function hh($,j,_e,et){var tt=j.interleaved;return tt===null?(_e.next=_e,gh(j)):(_e.next=tt.next,tt.next=_e),j.interleaved=_e,ih($,et)}function ih($,j){$.lanes|=j;var _e=$.alternate;for(_e!==null&&(_e.lanes|=j),_e=$,$=$.return;$!==null;)$.childLanes|=j,_e=$.alternate,_e!==null&&(_e.childLanes|=j),_e=$,$=$.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh($){$.updateQueue={baseState:$.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh($,j){$=$.updateQueue,j.updateQueue===$&&(j.updateQueue={baseState:$.baseState,firstBaseUpdate:$.firstBaseUpdate,lastBaseUpdate:$.lastBaseUpdate,shared:$.shared,effects:$.effects})}function mh($,j){return{eventTime:$,lane:j,tag:0,payload:null,callback:null,next:null}}function nh($,j,_e){var et=$.updateQueue;if(et===null)return null;if(et=et.shared,K&2){var tt=et.pending;return tt===null?j.next=j:(j.next=tt.next,tt.next=j),et.pending=j,ih($,_e)}return tt=et.interleaved,tt===null?(j.next=j,gh(et)):(j.next=tt.next,tt.next=j),et.interleaved=j,ih($,_e)}function oh($,j,_e){if(j=j.updateQueue,j!==null&&(j=j.shared,(_e&4194240)!==0)){var et=j.lanes;et&=$.pendingLanes,_e|=et,j.lanes=_e,Cc($,_e)}}function ph($,j){var _e=$.updateQueue,et=$.alternate;if(et!==null&&(et=et.updateQueue,_e===et)){var tt=null,nt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var rt={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};nt===null?tt=nt=rt:nt=nt.next=rt,_e=_e.next}while(_e!==null);nt===null?tt=nt=j:nt=nt.next=j}else tt=nt=j;_e={baseState:et.baseState,firstBaseUpdate:tt,lastBaseUpdate:nt,shared:et.shared,effects:et.effects},$.updateQueue=_e;return}$=_e.lastBaseUpdate,$===null?_e.firstBaseUpdate=j:$.next=j,_e.lastBaseUpdate=j}function qh($,j,_e,et){var tt=$.updateQueue;jh=!1;var nt=tt.firstBaseUpdate,rt=tt.lastBaseUpdate,st=tt.shared.pending;if(st!==null){tt.shared.pending=null;var at=st,ut=at.next;at.next=null,rt===null?nt=ut:rt.next=ut,rt=at;var dt=$.alternate;dt!==null&&(dt=dt.updateQueue,st=dt.lastBaseUpdate,st!==rt&&(st===null?dt.firstBaseUpdate=ut:st.next=ut,dt.lastBaseUpdate=at))}if(nt!==null){var ot=tt.baseState;rt=0,dt=ut=at=null,st=nt;do{var lt=st.lane,ft=st.eventTime;if((et&lt)===lt){dt!==null&&(dt=dt.next={eventTime:ft,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var ht=$,vt=st;switch(lt=j,ft=_e,vt.tag){case 1:if(ht=vt.payload,typeof ht=="function"){ot=ht.call(ft,ot,lt);break e}ot=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=vt.payload,lt=typeof ht=="function"?ht.call(ft,ot,lt):ht,lt==null)break e;ot=A$1({},ot,lt);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&($.flags|=64,lt=tt.effects,lt===null?tt.effects=[st]:lt.push(st))}else ft={eventTime:ft,lane:lt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},dt===null?(ut=dt=ft,at=ot):dt=dt.next=ft,rt|=lt;if(st=st.next,st===null){if(st=tt.shared.pending,st===null)break;lt=st,st=lt.next,lt.next=null,tt.lastBaseUpdate=lt,tt.shared.pending=null}}while(!0);if(dt===null&&(at=ot),tt.baseState=at,tt.firstBaseUpdate=ut,tt.lastBaseUpdate=dt,j=tt.shared.interleaved,j!==null){tt=j;do rt|=tt.lane,tt=tt.next;while(tt!==j)}else nt===null&&(tt.shared.lanes=0);rh|=rt,$.lanes=rt,$.memoizedState=ot}}function sh($,j,_e){if($=j.effects,j.effects=null,$!==null)for(j=0;j<$.length;j++){var et=$[j],tt=et.callback;if(tt!==null){if(et.callback=null,et=_e,typeof tt!="function")throw Error(p$2(191,tt));tt.call(et)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh($){if($===th)throw Error(p$2(174));return $}function yh($,j){switch(G(wh,j),G(vh,$),G(uh,th),$=j.nodeType,$){case 9:case 11:j=(j=j.documentElement)?j.namespaceURI:lb(null,"");break;default:$=$===8?j.parentNode:j,j=$.namespaceURI||null,$=$.tagName,j=lb(j,$)}E$1(uh),G(uh,j)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah($){xh(wh.current);var j=xh(uh.current),_e=lb(j,$.type);j!==_e&&(G(vh,$),G(uh,_e))}function Bh($){vh.current===$&&(E$1(uh),E$1(vh))}var L=Uf(0);function Ch($){for(var j=$;j!==null;){if(j.tag===13){var _e=j.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return j}else if(j.tag===19&&j.memoizedProps.revealOrder!==void 0){if(j.flags&128)return j}else if(j.child!==null){j.child.return=j,j=j.child;continue}if(j===$)break;for(;j.sibling===null;){if(j.return===null||j.return===$)return null;j=j.return}j.sibling.return=j.return,j=j.sibling}return null}var Dh=[];function Eh(){for(var $=0;$<Dh.length;$++)Dh[$]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$2(321))}function Mh($,j){if(j===null)return!1;for(var _e=0;_e<j.length&&_e<$.length;_e++)if(!He($[_e],j[_e]))return!1;return!0}function Nh($,j,_e,et,tt,nt){if(Hh=nt,M$1=j,j.memoizedState=null,j.updateQueue=null,j.lanes=0,Fh.current=$===null||$.memoizedState===null?Oh:Ph,$=_e(et,tt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$2(301));nt+=1,O$1=N=null,j.updateQueue=null,Fh.current=Qh,$=_e(et,tt)}while(Jh)}if(Fh.current=Rh,j=N!==null&&N.next!==null,Hh=0,O$1=N=M$1=null,Ih=!1,j)throw Error(p$2(300));return $}function Sh(){var $=Kh!==0;return Kh=0,$}function Th(){var $={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=$:O$1=O$1.next=$,O$1}function Uh(){if(N===null){var $=M$1.alternate;$=$!==null?$.memoizedState:null}else $=N.next;var j=O$1===null?M$1.memoizedState:O$1.next;if(j!==null)O$1=j,N=$;else{if($===null)throw Error(p$2(310));N=$,$={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O$1===null?M$1.memoizedState=O$1=$:O$1=O$1.next=$}return O$1}function Vh($,j){return typeof j=="function"?j($):j}function Wh($){var j=Uh(),_e=j.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=$;var et=N,tt=et.baseQueue,nt=_e.pending;if(nt!==null){if(tt!==null){var rt=tt.next;tt.next=nt.next,nt.next=rt}et.baseQueue=tt=nt,_e.pending=null}if(tt!==null){nt=tt.next,et=et.baseState;var st=rt=null,at=null,ut=nt;do{var dt=ut.lane;if((Hh&dt)===dt)at!==null&&(at=at.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),et=ut.hasEagerState?ut.eagerState:$(et,ut.action);else{var ot={lane:dt,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};at===null?(st=at=ot,rt=et):at=at.next=ot,M$1.lanes|=dt,rh|=dt}ut=ut.next}while(ut!==null&&ut!==nt);at===null?rt=et:at.next=st,He(et,j.memoizedState)||(dh=!0),j.memoizedState=et,j.baseState=rt,j.baseQueue=at,_e.lastRenderedState=et}if($=_e.interleaved,$!==null){tt=$;do nt=tt.lane,M$1.lanes|=nt,rh|=nt,tt=tt.next;while(tt!==$)}else tt===null&&(_e.lanes=0);return[j.memoizedState,_e.dispatch]}function Xh($){var j=Uh(),_e=j.queue;if(_e===null)throw Error(p$2(311));_e.lastRenderedReducer=$;var et=_e.dispatch,tt=_e.pending,nt=j.memoizedState;if(tt!==null){_e.pending=null;var rt=tt=tt.next;do nt=$(nt,rt.action),rt=rt.next;while(rt!==tt);He(nt,j.memoizedState)||(dh=!0),j.memoizedState=nt,j.baseQueue===null&&(j.baseState=nt),_e.lastRenderedState=nt}return[nt,et]}function Yh(){}function Zh($,j){var _e=M$1,et=Uh(),tt=j(),nt=!He(et.memoizedState,tt);if(nt&&(et.memoizedState=tt,dh=!0),et=et.queue,$h(ai.bind(null,_e,et,$),[$]),et.getSnapshot!==j||nt||O$1!==null&&O$1.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,et,tt,j),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(_e,j,tt)}return tt}function di($,j,_e){$.flags|=16384,$={getSnapshot:j,value:_e},j=M$1.updateQueue,j===null?(j={lastEffect:null,stores:null},M$1.updateQueue=j,j.stores=[$]):(_e=j.stores,_e===null?j.stores=[$]:_e.push($))}function ci($,j,_e,et){j.value=_e,j.getSnapshot=et,ei(j)&&fi($)}function ai($,j,_e){return _e(function(){ei(j)&&fi($)})}function ei($){var j=$.getSnapshot;$=$.value;try{var _e=j();return!He($,_e)}catch{return!0}}function fi($){var j=ih($,1);j!==null&&gi(j,$,1,-1)}function hi($){var j=Th();return typeof $=="function"&&($=$()),j.memoizedState=j.baseState=$,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:$},j.queue=$,$=$.dispatch=ii.bind(null,M$1,$),[j.memoizedState,$]}function bi($,j,_e,et){return $={tag:$,create:j,destroy:_e,deps:et,next:null},j=M$1.updateQueue,j===null?(j={lastEffect:null,stores:null},M$1.updateQueue=j,j.lastEffect=$.next=$):(_e=j.lastEffect,_e===null?j.lastEffect=$.next=$:(et=_e.next,_e.next=$,$.next=et,j.lastEffect=$)),$}function ji(){return Uh().memoizedState}function ki($,j,_e,et){var tt=Th();M$1.flags|=$,tt.memoizedState=bi(1|j,_e,void 0,et===void 0?null:et)}function li($,j,_e,et){var tt=Uh();et=et===void 0?null:et;var nt=void 0;if(N!==null){var rt=N.memoizedState;if(nt=rt.destroy,et!==null&&Mh(et,rt.deps)){tt.memoizedState=bi(j,_e,nt,et);return}}M$1.flags|=$,tt.memoizedState=bi(1|j,_e,nt,et)}function mi($,j){return ki(8390656,8,$,j)}function $h($,j){return li(2048,8,$,j)}function ni($,j){return li(4,2,$,j)}function oi($,j){return li(4,4,$,j)}function pi($,j){if(typeof j=="function")return $=$(),j($),function(){j(null)};if(j!=null)return $=$(),j.current=$,function(){j.current=null}}function qi($,j,_e){return _e=_e!=null?_e.concat([$]):null,li(4,4,pi.bind(null,j,$),_e)}function ri(){}function si($,j){var _e=Uh();j=j===void 0?null:j;var et=_e.memoizedState;return et!==null&&j!==null&&Mh(j,et[1])?et[0]:(_e.memoizedState=[$,j],$)}function ti($,j){var _e=Uh();j=j===void 0?null:j;var et=_e.memoizedState;return et!==null&&j!==null&&Mh(j,et[1])?et[0]:($=$(),_e.memoizedState=[$,j],$)}function ui($,j,_e){return Hh&21?(He(_e,j)||(_e=yc(),M$1.lanes|=_e,rh|=_e,$.baseState=!0),j):($.baseState&&($.baseState=!1,dh=!0),$.memoizedState=_e)}function vi($,j){var _e=C$1;C$1=_e!==0&&4>_e?_e:4,$(!0);var et=Gh.transition;Gh.transition={};try{$(!1),j()}finally{C$1=_e,Gh.transition=et}}function wi(){return Uh().memoizedState}function xi($,j,_e){var et=yi($);if(_e={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null},zi($))Ai(j,_e);else if(_e=hh($,j,_e,et),_e!==null){var tt=R();gi(_e,$,et,tt),Bi(_e,j,et)}}function ii($,j,_e){var et=yi($),tt={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi($))Ai(j,tt);else{var nt=$.alternate;if($.lanes===0&&(nt===null||nt.lanes===0)&&(nt=j.lastRenderedReducer,nt!==null))try{var rt=j.lastRenderedState,st=nt(rt,_e);if(tt.hasEagerState=!0,tt.eagerState=st,He(st,rt)){var at=j.interleaved;at===null?(tt.next=tt,gh(j)):(tt.next=at.next,at.next=tt),j.interleaved=tt;return}}catch{}finally{}_e=hh($,j,tt,et),_e!==null&&(tt=R(),gi(_e,$,et,tt),Bi(_e,j,et))}}function zi($){var j=$.alternate;return $===M$1||j!==null&&j===M$1}function Ai($,j){Jh=Ih=!0;var _e=$.pending;_e===null?j.next=j:(j.next=_e.next,_e.next=j),$.pending=j}function Bi($,j,_e){if(_e&4194240){var et=j.lanes;et&=$.pendingLanes,_e|=et,j.lanes=_e,Cc($,_e)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function($,j){return Th().memoizedState=[$,j===void 0?null:j],$},useContext:eh,useEffect:mi,useImperativeHandle:function($,j,_e){return _e=_e!=null?_e.concat([$]):null,ki(4194308,4,pi.bind(null,j,$),_e)},useLayoutEffect:function($,j){return ki(4194308,4,$,j)},useInsertionEffect:function($,j){return ki(4,2,$,j)},useMemo:function($,j){var _e=Th();return j=j===void 0?null:j,$=$(),_e.memoizedState=[$,j],$},useReducer:function($,j,_e){var et=Th();return j=_e!==void 0?_e(j):j,et.memoizedState=et.baseState=j,$={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$,lastRenderedState:j},et.queue=$,$=$.dispatch=xi.bind(null,M$1,$),[et.memoizedState,$]},useRef:function($){var j=Th();return $={current:$},j.memoizedState=$},useState:hi,useDebugValue:ri,useDeferredValue:function($){return Th().memoizedState=$},useTransition:function(){var $=hi(!1),j=$[0];return $=vi.bind(null,$[1]),Th().memoizedState=$,[j,$]},useMutableSource:function(){},useSyncExternalStore:function($,j,_e){var et=M$1,tt=Th();if(I$1){if(_e===void 0)throw Error(p$2(407));_e=_e()}else{if(_e=j(),Q===null)throw Error(p$2(349));Hh&30||di(et,j,_e)}tt.memoizedState=_e;var nt={value:_e,getSnapshot:j};return tt.queue=nt,mi(ai.bind(null,et,nt,$),[$]),et.flags|=2048,bi(9,ci.bind(null,et,nt,_e,j),void 0,null),_e},useId:function(){var $=Th(),j=Q.identifierPrefix;if(I$1){var _e=sg,et=rg;_e=(et&~(1<<32-oc(et)-1)).toString(32)+_e,j=":"+j+"R"+_e,_e=Kh++,0<_e&&(j+="H"+_e.toString(32)),j+=":"}else _e=Lh++,j=":"+j+"r"+_e.toString(32)+":";return $.memoizedState=j},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function($){var j=Uh();return ui(j,N.memoizedState,$)},useTransition:function(){var $=Wh(Vh)[0],j=Uh().memoizedState;return[$,j]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function($){var j=Uh();return N===null?j.memoizedState=$:ui(j,N.memoizedState,$)},useTransition:function(){var $=Xh(Vh)[0],j=Uh().memoizedState;return[$,j]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci($,j){if($&&$.defaultProps){j=A$1({},j),$=$.defaultProps;for(var _e in $)j[_e]===void 0&&(j[_e]=$[_e]);return j}return j}function Di($,j,_e,et){j=$.memoizedState,_e=_e(et,j),_e=_e==null?j:A$1({},j,_e),$.memoizedState=_e,$.lanes===0&&($.updateQueue.baseState=_e)}var Ei={isMounted:function($){return($=$._reactInternals)?Vb($)===$:!1},enqueueSetState:function($,j,_e){$=$._reactInternals;var et=R(),tt=yi($),nt=mh(et,tt);nt.payload=j,_e!=null&&(nt.callback=_e),j=nh($,nt,tt),j!==null&&(gi(j,$,tt,et),oh(j,$,tt))},enqueueReplaceState:function($,j,_e){$=$._reactInternals;var et=R(),tt=yi($),nt=mh(et,tt);nt.tag=1,nt.payload=j,_e!=null&&(nt.callback=_e),j=nh($,nt,tt),j!==null&&(gi(j,$,tt,et),oh(j,$,tt))},enqueueForceUpdate:function($,j){$=$._reactInternals;var _e=R(),et=yi($),tt=mh(_e,et);tt.tag=2,j!=null&&(tt.callback=j),j=nh($,tt,et),j!==null&&(gi(j,$,et,_e),oh(j,$,et))}};function Fi($,j,_e,et,tt,nt,rt){return $=$.stateNode,typeof $.shouldComponentUpdate=="function"?$.shouldComponentUpdate(et,nt,rt):j.prototype&&j.prototype.isPureReactComponent?!Ie(_e,et)||!Ie(tt,nt):!0}function Gi($,j,_e){var et=!1,tt=Vf,nt=j.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(tt=Zf(j)?Xf:H.current,et=j.contextTypes,nt=(et=et!=null)?Yf($,tt):Vf),j=new j(_e,nt),$.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Ei,$.stateNode=j,j._reactInternals=$,et&&($=$.stateNode,$.__reactInternalMemoizedUnmaskedChildContext=tt,$.__reactInternalMemoizedMaskedChildContext=nt),j}function Hi($,j,_e,et){$=j.state,typeof j.componentWillReceiveProps=="function"&&j.componentWillReceiveProps(_e,et),typeof j.UNSAFE_componentWillReceiveProps=="function"&&j.UNSAFE_componentWillReceiveProps(_e,et),j.state!==$&&Ei.enqueueReplaceState(j,j.state,null)}function Ii($,j,_e,et){var tt=$.stateNode;tt.props=_e,tt.state=$.memoizedState,tt.refs={},kh($);var nt=j.contextType;typeof nt=="object"&&nt!==null?tt.context=eh(nt):(nt=Zf(j)?Xf:H.current,tt.context=Yf($,nt)),tt.state=$.memoizedState,nt=j.getDerivedStateFromProps,typeof nt=="function"&&(Di($,j,nt,_e),tt.state=$.memoizedState),typeof j.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||(j=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),j!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh($,_e,tt,et),tt.state=$.memoizedState),typeof tt.componentDidMount=="function"&&($.flags|=4194308)}function Ji($,j){try{var _e="",et=j;do _e+=Pa(et),et=et.return;while(et);var tt=_e}catch(nt){tt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:$,source:j,stack:tt,digest:null}}function Ki($,j,_e){return{value:$,source:null,stack:_e??null,digest:j??null}}function Li($,j){try{console.error(j.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni($,j,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var et=j.value;return _e.callback=function(){Oi||(Oi=!0,Pi=et),Li($,j)},_e}function Qi($,j,_e){_e=mh(-1,_e),_e.tag=3;var et=$.type.getDerivedStateFromError;if(typeof et=="function"){var tt=j.value;_e.payload=function(){return et(tt)},_e.callback=function(){Li($,j)}}var nt=$.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(_e.callback=function(){Li($,j),typeof et!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=j.stack;this.componentDidCatch(j.value,{componentStack:rt!==null?rt:""})}),_e}function Si($,j,_e){var et=$.pingCache;if(et===null){et=$.pingCache=new Mi;var tt=new Set;et.set(j,tt)}else tt=et.get(j),tt===void 0&&(tt=new Set,et.set(j,tt));tt.has(_e)||(tt.add(_e),$=Ti.bind(null,$,j,_e),j.then($,$))}function Ui($){do{var j;if((j=$.tag===13)&&(j=$.memoizedState,j=j!==null?j.dehydrated!==null:!0),j)return $;$=$.return}while($!==null);return null}function Vi($,j,_e,et,tt){return $.mode&1?($.flags|=65536,$.lanes=tt,$):($===j?$.flags|=65536:($.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:(j=mh(-1,1),j.tag=2,nh(_e,j,1))),_e.lanes|=1),$)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi($,j,_e,et){j.child=$===null?Vg(j,null,_e,et):Ug(j,$.child,_e,et)}function Yi($,j,_e,et,tt){_e=_e.render;var nt=j.ref;return ch(j,tt),et=Nh($,j,_e,et,nt,tt),_e=Sh(),$!==null&&!dh?(j.updateQueue=$.updateQueue,j.flags&=-2053,$.lanes&=~tt,Zi($,j,tt)):(I$1&&_e&&vg(j),j.flags|=1,Xi($,j,et,tt),j.child)}function $i($,j,_e,et,tt){if($===null){var nt=_e.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?(j.tag=15,j.type=nt,bj($,j,nt,et,tt)):($=Rg(_e.type,null,et,j,j.mode,tt),$.ref=j.ref,$.return=j,j.child=$)}if(nt=$.child,!($.lanes&tt)){var rt=nt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(rt,et)&&$.ref===j.ref)return Zi($,j,tt)}return j.flags|=1,$=Pg(nt,et),$.ref=j.ref,$.return=j,j.child=$}function bj($,j,_e,et,tt){if($!==null){var nt=$.memoizedProps;if(Ie(nt,et)&&$.ref===j.ref)if(dh=!1,j.pendingProps=et=nt,($.lanes&tt)!==0)$.flags&131072&&(dh=!0);else return j.lanes=$.lanes,Zi($,j,tt)}return cj($,j,_e,et,tt)}function dj($,j,_e){var et=j.pendingProps,tt=et.children,nt=$!==null?$.memoizedState:null;if(et.mode==="hidden")if(!(j.mode&1))j.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_e;else{if(!(_e&1073741824))return $=nt!==null?nt.baseLanes|_e:_e,j.lanes=j.childLanes=1073741824,j.memoizedState={baseLanes:$,cachePool:null,transitions:null},j.updateQueue=null,G(ej,fj),fj|=$,null;j.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=nt!==null?nt.baseLanes:_e,G(ej,fj),fj|=et}else nt!==null?(et=nt.baseLanes|_e,j.memoizedState=null):et=_e,G(ej,fj),fj|=et;return Xi($,j,tt,_e),j.child}function gj($,j){var _e=j.ref;($===null&&_e!==null||$!==null&&$.ref!==_e)&&(j.flags|=512,j.flags|=2097152)}function cj($,j,_e,et,tt){var nt=Zf(_e)?Xf:H.current;return nt=Yf(j,nt),ch(j,tt),_e=Nh($,j,_e,et,nt,tt),et=Sh(),$!==null&&!dh?(j.updateQueue=$.updateQueue,j.flags&=-2053,$.lanes&=~tt,Zi($,j,tt)):(I$1&&et&&vg(j),j.flags|=1,Xi($,j,_e,tt),j.child)}function hj($,j,_e,et,tt){if(Zf(_e)){var nt=!0;cg(j)}else nt=!1;if(ch(j,tt),j.stateNode===null)ij($,j),Gi(j,_e,et),Ii(j,_e,et,tt),et=!0;else if($===null){var rt=j.stateNode,st=j.memoizedProps;rt.props=st;var at=rt.context,ut=_e.contextType;typeof ut=="object"&&ut!==null?ut=eh(ut):(ut=Zf(_e)?Xf:H.current,ut=Yf(j,ut));var dt=_e.getDerivedStateFromProps,ot=typeof dt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ot||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(st!==et||at!==ut)&&Hi(j,rt,et,ut),jh=!1;var lt=j.memoizedState;rt.state=lt,qh(j,et,rt,tt),at=j.memoizedState,st!==et||lt!==at||Wf.current||jh?(typeof dt=="function"&&(Di(j,_e,dt,et),at=j.memoizedState),(st=jh||Fi(j,_e,st,et,lt,at,ut))?(ot||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(j.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(j.flags|=4194308),j.memoizedProps=et,j.memoizedState=at),rt.props=et,rt.state=at,rt.context=ut,et=st):(typeof rt.componentDidMount=="function"&&(j.flags|=4194308),et=!1)}else{rt=j.stateNode,lh($,j),st=j.memoizedProps,ut=j.type===j.elementType?st:Ci(j.type,st),rt.props=ut,ot=j.pendingProps,lt=rt.context,at=_e.contextType,typeof at=="object"&&at!==null?at=eh(at):(at=Zf(_e)?Xf:H.current,at=Yf(j,at));var ft=_e.getDerivedStateFromProps;(dt=typeof ft=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(st!==ot||lt!==at)&&Hi(j,rt,et,at),jh=!1,lt=j.memoizedState,rt.state=lt,qh(j,et,rt,tt);var ht=j.memoizedState;st!==ot||lt!==ht||Wf.current||jh?(typeof ft=="function"&&(Di(j,_e,ft,et),ht=j.memoizedState),(ut=jh||Fi(j,_e,ut,et,lt,ht,at)||!1)?(dt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(et,ht,at),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(et,ht,at)),typeof rt.componentDidUpdate=="function"&&(j.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(j.flags|=1024)):(typeof rt.componentDidUpdate!="function"||st===$.memoizedProps&&lt===$.memoizedState||(j.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&lt===$.memoizedState||(j.flags|=1024),j.memoizedProps=et,j.memoizedState=ht),rt.props=et,rt.state=ht,rt.context=at,et=ut):(typeof rt.componentDidUpdate!="function"||st===$.memoizedProps&&lt===$.memoizedState||(j.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||st===$.memoizedProps&&lt===$.memoizedState||(j.flags|=1024),et=!1)}return jj($,j,_e,et,nt,tt)}function jj($,j,_e,et,tt,nt){gj($,j);var rt=(j.flags&128)!==0;if(!et&&!rt)return tt&&dg(j,_e,!1),Zi($,j,nt);et=j.stateNode,Wi.current=j;var st=rt&&typeof _e.getDerivedStateFromError!="function"?null:et.render();return j.flags|=1,$!==null&&rt?(j.child=Ug(j,$.child,null,nt),j.child=Ug(j,null,st,nt)):Xi($,j,st,nt),j.memoizedState=et.state,tt&&dg(j,_e,!0),j.child}function kj($){var j=$.stateNode;j.pendingContext?ag($,j.pendingContext,j.pendingContext!==j.context):j.context&&ag($,j.context,!1),yh($,j.containerInfo)}function lj($,j,_e,et,tt){return Ig(),Jg(tt),j.flags|=256,Xi($,j,_e,et),j.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj($){return{baseLanes:$,cachePool:null,transitions:null}}function oj($,j,_e){var et=j.pendingProps,tt=L.current,nt=!1,rt=(j.flags&128)!==0,st;if((st=rt)||(st=$!==null&&$.memoizedState===null?!1:(tt&2)!==0),st?(nt=!0,j.flags&=-129):($===null||$.memoizedState!==null)&&(tt|=1),G(L,tt&1),$===null)return Eg(j),$=j.memoizedState,$!==null&&($=$.dehydrated,$!==null)?(j.mode&1?$.data==="$!"?j.lanes=8:j.lanes=1073741824:j.lanes=1,null):(rt=et.children,$=et.fallback,nt?(et=j.mode,nt=j.child,rt={mode:"hidden",children:rt},!(et&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=rt):nt=pj(rt,et,0,null),$=Tg($,et,_e,null),nt.return=j,$.return=j,nt.sibling=$,j.child=nt,j.child.memoizedState=nj(_e),j.memoizedState=mj,$):qj(j,rt));if(tt=$.memoizedState,tt!==null&&(st=tt.dehydrated,st!==null))return rj($,j,rt,et,st,tt,_e);if(nt){nt=et.fallback,rt=j.mode,tt=$.child,st=tt.sibling;var at={mode:"hidden",children:et.children};return!(rt&1)&&j.child!==tt?(et=j.child,et.childLanes=0,et.pendingProps=at,j.deletions=null):(et=Pg(tt,at),et.subtreeFlags=tt.subtreeFlags&14680064),st!==null?nt=Pg(st,nt):(nt=Tg(nt,rt,_e,null),nt.flags|=2),nt.return=j,et.return=j,et.sibling=nt,j.child=et,et=nt,nt=j.child,rt=$.child.memoizedState,rt=rt===null?nj(_e):{baseLanes:rt.baseLanes|_e,cachePool:null,transitions:rt.transitions},nt.memoizedState=rt,nt.childLanes=$.childLanes&~_e,j.memoizedState=mj,et}return nt=$.child,$=nt.sibling,et=Pg(nt,{mode:"visible",children:et.children}),!(j.mode&1)&&(et.lanes=_e),et.return=j,et.sibling=null,$!==null&&(_e=j.deletions,_e===null?(j.deletions=[$],j.flags|=16):_e.push($)),j.child=et,j.memoizedState=null,et}function qj($,j){return j=pj({mode:"visible",children:j},$.mode,0,null),j.return=$,$.child=j}function sj($,j,_e,et){return et!==null&&Jg(et),Ug(j,$.child,null,_e),$=qj(j,j.pendingProps.children),$.flags|=2,j.memoizedState=null,$}function rj($,j,_e,et,tt,nt,rt){if(_e)return j.flags&256?(j.flags&=-257,et=Ki(Error(p$2(422))),sj($,j,rt,et)):j.memoizedState!==null?(j.child=$.child,j.flags|=128,null):(nt=et.fallback,tt=j.mode,et=pj({mode:"visible",children:et.children},tt,0,null),nt=Tg(nt,tt,rt,null),nt.flags|=2,et.return=j,nt.return=j,et.sibling=nt,j.child=et,j.mode&1&&Ug(j,$.child,null,rt),j.child.memoizedState=nj(rt),j.memoizedState=mj,nt);if(!(j.mode&1))return sj($,j,rt,null);if(tt.data==="$!"){if(et=tt.nextSibling&&tt.nextSibling.dataset,et)var st=et.dgst;return et=st,nt=Error(p$2(419)),et=Ki(nt,et,void 0),sj($,j,rt,et)}if(st=(rt&$.childLanes)!==0,dh||st){if(et=Q,et!==null){switch(rt&-rt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(et.suspendedLanes|rt)?0:tt,tt!==0&&tt!==nt.retryLane&&(nt.retryLane=tt,ih($,tt),gi(et,$,tt,-1))}return tj(),et=Ki(Error(p$2(421))),sj($,j,rt,et)}return tt.data==="$?"?(j.flags|=128,j.child=$.child,j=uj.bind(null,$),tt._reactRetry=j,null):($=nt.treeContext,yg=Lf(tt.nextSibling),xg=j,I$1=!0,zg=null,$!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=$.id,sg=$.overflow,qg=j),j=qj(j,et.children),j.flags|=4096,j)}function vj($,j,_e){$.lanes|=j;var et=$.alternate;et!==null&&(et.lanes|=j),bh($.return,j,_e)}function wj($,j,_e,et,tt){var nt=$.memoizedState;nt===null?$.memoizedState={isBackwards:j,rendering:null,renderingStartTime:0,last:et,tail:_e,tailMode:tt}:(nt.isBackwards=j,nt.rendering=null,nt.renderingStartTime=0,nt.last=et,nt.tail=_e,nt.tailMode=tt)}function xj($,j,_e){var et=j.pendingProps,tt=et.revealOrder,nt=et.tail;if(Xi($,j,et.children,_e),et=L.current,et&2)et=et&1|2,j.flags|=128;else{if($!==null&&$.flags&128)e:for($=j.child;$!==null;){if($.tag===13)$.memoizedState!==null&&vj($,_e,j);else if($.tag===19)vj($,_e,j);else if($.child!==null){$.child.return=$,$=$.child;continue}if($===j)break e;for(;$.sibling===null;){if($.return===null||$.return===j)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}et&=1}if(G(L,et),!(j.mode&1))j.memoizedState=null;else switch(tt){case"forwards":for(_e=j.child,tt=null;_e!==null;)$=_e.alternate,$!==null&&Ch($)===null&&(tt=_e),_e=_e.sibling;_e=tt,_e===null?(tt=j.child,j.child=null):(tt=_e.sibling,_e.sibling=null),wj(j,!1,tt,_e,nt);break;case"backwards":for(_e=null,tt=j.child,j.child=null;tt!==null;){if($=tt.alternate,$!==null&&Ch($)===null){j.child=tt;break}$=tt.sibling,tt.sibling=_e,_e=tt,tt=$}wj(j,!0,_e,null,nt);break;case"together":wj(j,!1,null,null,void 0);break;default:j.memoizedState=null}return j.child}function ij($,j){!(j.mode&1)&&$!==null&&($.alternate=null,j.alternate=null,j.flags|=2)}function Zi($,j,_e){if($!==null&&(j.dependencies=$.dependencies),rh|=j.lanes,!(_e&j.childLanes))return null;if($!==null&&j.child!==$.child)throw Error(p$2(153));if(j.child!==null){for($=j.child,_e=Pg($,$.pendingProps),j.child=_e,_e.return=j;$.sibling!==null;)$=$.sibling,_e=_e.sibling=Pg($,$.pendingProps),_e.return=j;_e.sibling=null}return j.child}function yj($,j,_e){switch(j.tag){case 3:kj(j),Ig();break;case 5:Ah(j);break;case 1:Zf(j.type)&&cg(j);break;case 4:yh(j,j.stateNode.containerInfo);break;case 10:var et=j.type._context,tt=j.memoizedProps.value;G(Wg,et._currentValue),et._currentValue=tt;break;case 13:if(et=j.memoizedState,et!==null)return et.dehydrated!==null?(G(L,L.current&1),j.flags|=128,null):_e&j.child.childLanes?oj($,j,_e):(G(L,L.current&1),$=Zi($,j,_e),$!==null?$.sibling:null);G(L,L.current&1);break;case 19:if(et=(_e&j.childLanes)!==0,$.flags&128){if(et)return xj($,j,_e);j.flags|=128}if(tt=j.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L,L.current),et)break;return null;case 22:case 23:return j.lanes=0,dj($,j,_e)}return Zi($,j,_e)}var zj,Aj,Bj,Cj;zj=function($,j){for(var _e=j.child;_e!==null;){if(_e.tag===5||_e.tag===6)$.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===j)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===j)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Aj=function(){};Bj=function($,j,_e,et){var tt=$.memoizedProps;if(tt!==et){$=j.stateNode,xh(uh.current);var nt=null;switch(_e){case"input":tt=Ya($,tt),et=Ya($,et),nt=[];break;case"select":tt=A$1({},tt,{value:void 0}),et=A$1({},et,{value:void 0}),nt=[];break;case"textarea":tt=gb($,tt),et=gb($,et),nt=[];break;default:typeof tt.onClick!="function"&&typeof et.onClick=="function"&&($.onclick=Bf)}ub(_e,et);var rt;_e=null;for(ut in tt)if(!et.hasOwnProperty(ut)&&tt.hasOwnProperty(ut)&&tt[ut]!=null)if(ut==="style"){var st=tt[ut];for(rt in st)st.hasOwnProperty(rt)&&(_e||(_e={}),_e[rt]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?nt||(nt=[]):(nt=nt||[]).push(ut,null));for(ut in et){var at=et[ut];if(st=tt!=null?tt[ut]:void 0,et.hasOwnProperty(ut)&&at!==st&&(at!=null||st!=null))if(ut==="style")if(st){for(rt in st)!st.hasOwnProperty(rt)||at&&at.hasOwnProperty(rt)||(_e||(_e={}),_e[rt]="");for(rt in at)at.hasOwnProperty(rt)&&st[rt]!==at[rt]&&(_e||(_e={}),_e[rt]=at[rt])}else _e||(nt||(nt=[]),nt.push(ut,_e)),_e=at;else ut==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,st=st?st.__html:void 0,at!=null&&st!==at&&(nt=nt||[]).push(ut,at)):ut==="children"?typeof at!="string"&&typeof at!="number"||(nt=nt||[]).push(ut,""+at):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(at!=null&&ut==="onScroll"&&D("scroll",$),nt||st===at||(nt=[])):(nt=nt||[]).push(ut,at))}_e&&(nt=nt||[]).push("style",_e);var ut=nt;(j.updateQueue=ut)&&(j.flags|=4)}};Cj=function($,j,_e,et){_e!==et&&(j.flags|=4)};function Dj($,j){if(!I$1)switch($.tailMode){case"hidden":j=$.tail;for(var _e=null;j!==null;)j.alternate!==null&&(_e=j),j=j.sibling;_e===null?$.tail=null:_e.sibling=null;break;case"collapsed":_e=$.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?j||$.tail===null?$.tail=null:$.tail.sibling=null:et.sibling=null}}function S$1($){var j=$.alternate!==null&&$.alternate.child===$.child,_e=0,et=0;if(j)for(var tt=$.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags&14680064,et|=tt.flags&14680064,tt.return=$,tt=tt.sibling;else for(tt=$.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags,et|=tt.flags,tt.return=$,tt=tt.sibling;return $.subtreeFlags|=et,$.childLanes=_e,j}function Ej($,j,_e){var et=j.pendingProps;switch(wg(j),j.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(j),null;case 1:return Zf(j.type)&&$f(),S$1(j),null;case 3:return et=j.stateNode,zh(),E$1(Wf),E$1(H),Eh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),($===null||$.child===null)&&(Gg(j)?j.flags|=4:$===null||$.memoizedState.isDehydrated&&!(j.flags&256)||(j.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj($,j),S$1(j),null;case 5:Bh(j);var tt=xh(wh.current);if(_e=j.type,$!==null&&j.stateNode!=null)Bj($,j,_e,et,tt),$.ref!==j.ref&&(j.flags|=512,j.flags|=2097152);else{if(!et){if(j.stateNode===null)throw Error(p$2(166));return S$1(j),null}if($=xh(uh.current),Gg(j)){et=j.stateNode,_e=j.type;var nt=j.memoizedProps;switch(et[Of]=j,et[Pf]=nt,$=(j.mode&1)!==0,_e){case"dialog":D("cancel",et),D("close",et);break;case"iframe":case"object":case"embed":D("load",et);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],et);break;case"source":D("error",et);break;case"img":case"image":case"link":D("error",et),D("load",et);break;case"details":D("toggle",et);break;case"input":Za(et,nt),D("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},D("invalid",et);break;case"textarea":hb(et,nt),D("invalid",et)}ub(_e,nt),tt=null;for(var rt in nt)if(nt.hasOwnProperty(rt)){var st=nt[rt];rt==="children"?typeof st=="string"?et.textContent!==st&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,st,$),tt=["children",st]):typeof st=="number"&&et.textContent!==""+st&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,st,$),tt=["children",""+st]):ea.hasOwnProperty(rt)&&st!=null&&rt==="onScroll"&&D("scroll",et)}switch(_e){case"input":Va(et),db(et,nt,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}et=tt,j.updateQueue=et,et!==null&&(j.flags|=4)}else{rt=tt.nodeType===9?tt:tt.ownerDocument,$==="http://www.w3.org/1999/xhtml"&&($=kb(_e)),$==="http://www.w3.org/1999/xhtml"?_e==="script"?($=rt.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild)):typeof et.is=="string"?$=rt.createElement(_e,{is:et.is}):($=rt.createElement(_e),_e==="select"&&(rt=$,et.multiple?rt.multiple=!0:et.size&&(rt.size=et.size))):$=rt.createElementNS($,_e),$[Of]=j,$[Pf]=et,zj($,j,!1,!1),j.stateNode=$;e:{switch(rt=vb(_e,et),_e){case"dialog":D("cancel",$),D("close",$),tt=et;break;case"iframe":case"object":case"embed":D("load",$),tt=et;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],$);tt=et;break;case"source":D("error",$),tt=et;break;case"img":case"image":case"link":D("error",$),D("load",$),tt=et;break;case"details":D("toggle",$),tt=et;break;case"input":Za($,et),tt=Ya($,et),D("invalid",$);break;case"option":tt=et;break;case"select":$._wrapperState={wasMultiple:!!et.multiple},tt=A$1({},et,{value:void 0}),D("invalid",$);break;case"textarea":hb($,et),tt=gb($,et),D("invalid",$);break;default:tt=et}ub(_e,tt),st=tt;for(nt in st)if(st.hasOwnProperty(nt)){var at=st[nt];nt==="style"?sb($,at):nt==="dangerouslySetInnerHTML"?(at=at?at.__html:void 0,at!=null&&nb($,at)):nt==="children"?typeof at=="string"?(_e!=="textarea"||at!=="")&&ob($,at):typeof at=="number"&&ob($,""+at):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?at!=null&&nt==="onScroll"&&D("scroll",$):at!=null&&ta($,nt,at,rt))}switch(_e){case"input":Va($),db($,et,!1);break;case"textarea":Va($),jb($);break;case"option":et.value!=null&&$.setAttribute("value",""+Sa(et.value));break;case"select":$.multiple=!!et.multiple,nt=et.value,nt!=null?fb($,!!et.multiple,nt,!1):et.defaultValue!=null&&fb($,!!et.multiple,et.defaultValue,!0);break;default:typeof tt.onClick=="function"&&($.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&(j.flags|=4)}j.ref!==null&&(j.flags|=512,j.flags|=2097152)}return S$1(j),null;case 6:if($&&j.stateNode!=null)Cj($,j,$.memoizedProps,et);else{if(typeof et!="string"&&j.stateNode===null)throw Error(p$2(166));if(_e=xh(wh.current),xh(uh.current),Gg(j)){if(et=j.stateNode,_e=j.memoizedProps,et[Of]=j,(nt=et.nodeValue!==_e)&&($=xg,$!==null))switch($.tag){case 3:Af(et.nodeValue,_e,($.mode&1)!==0);break;case 5:$.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,_e,($.mode&1)!==0)}nt&&(j.flags|=4)}else et=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(et),et[Of]=j,j.stateNode=et}return S$1(j),null;case 13:if(E$1(L),et=j.memoizedState,$===null||$.memoizedState!==null&&$.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&j.mode&1&&!(j.flags&128))Hg(),Ig(),j.flags|=98560,nt=!1;else if(nt=Gg(j),et!==null&&et.dehydrated!==null){if($===null){if(!nt)throw Error(p$2(318));if(nt=j.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$2(317));nt[Of]=j}else Ig(),!(j.flags&128)&&(j.memoizedState=null),j.flags|=4;S$1(j),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return j.flags&65536?j:null}return j.flags&128?(j.lanes=_e,j):(et=et!==null,et!==($!==null&&$.memoizedState!==null)&&et&&(j.child.flags|=8192,j.mode&1&&($===null||L.current&1?T$1===0&&(T$1=3):tj())),j.updateQueue!==null&&(j.flags|=4),S$1(j),null);case 4:return zh(),Aj($,j),$===null&&sf(j.stateNode.containerInfo),S$1(j),null;case 10:return ah(j.type._context),S$1(j),null;case 17:return Zf(j.type)&&$f(),S$1(j),null;case 19:if(E$1(L),nt=j.memoizedState,nt===null)return S$1(j),null;if(et=(j.flags&128)!==0,rt=nt.rendering,rt===null)if(et)Dj(nt,!1);else{if(T$1!==0||$!==null&&$.flags&128)for($=j.child;$!==null;){if(rt=Ch($),rt!==null){for(j.flags|=128,Dj(nt,!1),et=rt.updateQueue,et!==null&&(j.updateQueue=et,j.flags|=4),j.subtreeFlags=0,et=_e,_e=j.child;_e!==null;)nt=_e,$=et,nt.flags&=14680066,rt=nt.alternate,rt===null?(nt.childLanes=0,nt.lanes=$,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=rt.childLanes,nt.lanes=rt.lanes,nt.child=rt.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=rt.memoizedProps,nt.memoizedState=rt.memoizedState,nt.updateQueue=rt.updateQueue,nt.type=rt.type,$=rt.dependencies,nt.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),_e=_e.sibling;return G(L,L.current&1|2),j.child}$=$.sibling}nt.tail!==null&&B()>Gj&&(j.flags|=128,et=!0,Dj(nt,!1),j.lanes=4194304)}else{if(!et)if($=Ch(rt),$!==null){if(j.flags|=128,et=!0,_e=$.updateQueue,_e!==null&&(j.updateQueue=_e,j.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!rt.alternate&&!I$1)return S$1(j),null}else 2*B()-nt.renderingStartTime>Gj&&_e!==1073741824&&(j.flags|=128,et=!0,Dj(nt,!1),j.lanes=4194304);nt.isBackwards?(rt.sibling=j.child,j.child=rt):(_e=nt.last,_e!==null?_e.sibling=rt:j.child=rt,nt.last=rt)}return nt.tail!==null?(j=nt.tail,nt.rendering=j,nt.tail=j.sibling,nt.renderingStartTime=B(),j.sibling=null,_e=L.current,G(L,et?_e&1|2:_e&1),j):(S$1(j),null);case 22:case 23:return Hj(),et=j.memoizedState!==null,$!==null&&$.memoizedState!==null!==et&&(j.flags|=8192),et&&j.mode&1?fj&1073741824&&(S$1(j),j.subtreeFlags&6&&(j.flags|=8192)):S$1(j),null;case 24:return null;case 25:return null}throw Error(p$2(156,j.tag))}function Ij($,j){switch(wg(j),j.tag){case 1:return Zf(j.type)&&$f(),$=j.flags,$&65536?(j.flags=$&-65537|128,j):null;case 3:return zh(),E$1(Wf),E$1(H),Eh(),$=j.flags,$&65536&&!($&128)?(j.flags=$&-65537|128,j):null;case 5:return Bh(j),null;case 13:if(E$1(L),$=j.memoizedState,$!==null&&$.dehydrated!==null){if(j.alternate===null)throw Error(p$2(340));Ig()}return $=j.flags,$&65536?(j.flags=$&-65537|128,j):null;case 19:return E$1(L),null;case 4:return zh(),null;case 10:return ah(j.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj($,j){var _e=$.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(et){W($,j,et)}else _e.current=null}function Mj($,j,_e){try{_e()}catch(et){W($,j,et)}}var Nj=!1;function Oj($,j){if(Cf=dd,$=Me(),Ne($)){if("selectionStart"in $)var _e={start:$.selectionStart,end:$.selectionEnd};else e:{_e=(_e=$.ownerDocument)&&_e.defaultView||window;var et=_e.getSelection&&_e.getSelection();if(et&&et.rangeCount!==0){_e=et.anchorNode;var tt=et.anchorOffset,nt=et.focusNode;et=et.focusOffset;try{_e.nodeType,nt.nodeType}catch{_e=null;break e}var rt=0,st=-1,at=-1,ut=0,dt=0,ot=$,lt=null;t:for(;;){for(var ft;ot!==_e||tt!==0&&ot.nodeType!==3||(st=rt+tt),ot!==nt||et!==0&&ot.nodeType!==3||(at=rt+et),ot.nodeType===3&&(rt+=ot.nodeValue.length),(ft=ot.firstChild)!==null;)lt=ot,ot=ft;for(;;){if(ot===$)break t;if(lt===_e&&++ut===tt&&(st=rt),lt===nt&&++dt===et&&(at=rt),(ft=ot.nextSibling)!==null)break;ot=lt,lt=ot.parentNode}ot=ft}_e=st===-1||at===-1?null:{start:st,end:at}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:$,selectionRange:_e},dd=!1,V=j;V!==null;)if(j=V,$=j.child,(j.subtreeFlags&1028)!==0&&$!==null)$.return=j,V=$;else for(;V!==null;){j=V;try{var ht=j.alternate;if(j.flags&1024)switch(j.tag){case 0:case 11:case 15:break;case 1:if(ht!==null){var vt=ht.memoizedProps,bt=ht.memoizedState,mt=j.stateNode,xt=mt.getSnapshotBeforeUpdate(j.elementType===j.type?vt:Ci(j.type,vt),bt);mt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var Et=j.stateNode.containerInfo;Et.nodeType===1?Et.textContent="":Et.nodeType===9&&Et.documentElement&&Et.removeChild(Et.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(At){W(j,j.return,At)}if($=j.sibling,$!==null){$.return=j.return,V=$;break}V=j.return}return ht=Nj,Nj=!1,ht}function Pj($,j,_e){var et=j.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&$)===$){var nt=tt.destroy;tt.destroy=void 0,nt!==void 0&&Mj(j,_e,nt)}tt=tt.next}while(tt!==et)}}function Qj($,j){if(j=j.updateQueue,j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&$)===$){var et=_e.create;_e.destroy=et()}_e=_e.next}while(_e!==j)}}function Rj($){var j=$.ref;if(j!==null){var _e=$.stateNode;switch($.tag){case 5:$=_e;break;default:$=_e}typeof j=="function"?j($):j.current=$}}function Sj($){var j=$.alternate;j!==null&&($.alternate=null,Sj(j)),$.child=null,$.deletions=null,$.sibling=null,$.tag===5&&(j=$.stateNode,j!==null&&(delete j[Of],delete j[Pf],delete j[of],delete j[Qf],delete j[Rf])),$.stateNode=null,$.return=null,$.dependencies=null,$.memoizedProps=null,$.memoizedState=null,$.pendingProps=null,$.stateNode=null,$.updateQueue=null}function Tj($){return $.tag===5||$.tag===3||$.tag===4}function Uj($){e:for(;;){for(;$.sibling===null;){if($.return===null||Tj($.return))return null;$=$.return}for($.sibling.return=$.return,$=$.sibling;$.tag!==5&&$.tag!==6&&$.tag!==18;){if($.flags&2||$.child===null||$.tag===4)continue e;$.child.return=$,$=$.child}if(!($.flags&2))return $.stateNode}}function Vj($,j,_e){var et=$.tag;if(et===5||et===6)$=$.stateNode,j?_e.nodeType===8?_e.parentNode.insertBefore($,j):_e.insertBefore($,j):(_e.nodeType===8?(j=_e.parentNode,j.insertBefore($,_e)):(j=_e,j.appendChild($)),_e=_e._reactRootContainer,_e!=null||j.onclick!==null||(j.onclick=Bf));else if(et!==4&&($=$.child,$!==null))for(Vj($,j,_e),$=$.sibling;$!==null;)Vj($,j,_e),$=$.sibling}function Wj($,j,_e){var et=$.tag;if(et===5||et===6)$=$.stateNode,j?_e.insertBefore($,j):_e.appendChild($);else if(et!==4&&($=$.child,$!==null))for(Wj($,j,_e),$=$.sibling;$!==null;)Wj($,j,_e),$=$.sibling}var X=null,Xj=!1;function Yj($,j,_e){for(_e=_e.child;_e!==null;)Zj($,j,_e),_e=_e.sibling}function Zj($,j,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Lj(_e,j);case 6:var et=X,tt=Xj;X=null,Yj($,j,_e),X=et,Xj=tt,X!==null&&(Xj?($=X,_e=_e.stateNode,$.nodeType===8?$.parentNode.removeChild(_e):$.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?($=X,_e=_e.stateNode,$.nodeType===8?Kf($.parentNode,_e):$.nodeType===1&&Kf($,_e),bd($)):Kf(X,_e.stateNode));break;case 4:et=X,tt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj($,j,_e),X=et,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(et=_e.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){tt=et=et.next;do{var nt=tt,rt=nt.destroy;nt=nt.tag,rt!==void 0&&(nt&2||nt&4)&&Mj(_e,j,rt),tt=tt.next}while(tt!==et)}Yj($,j,_e);break;case 1:if(!U&&(Lj(_e,j),et=_e.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=_e.memoizedProps,et.state=_e.memoizedState,et.componentWillUnmount()}catch(st){W(_e,j,st)}Yj($,j,_e);break;case 21:Yj($,j,_e);break;case 22:_e.mode&1?(U=(et=U)||_e.memoizedState!==null,Yj($,j,_e),U=et):Yj($,j,_e);break;default:Yj($,j,_e)}}function ak($){var j=$.updateQueue;if(j!==null){$.updateQueue=null;var _e=$.stateNode;_e===null&&(_e=$.stateNode=new Kj),j.forEach(function(et){var tt=bk.bind(null,$,et);_e.has(et)||(_e.add(et),et.then(tt,tt))})}}function ck($,j){var _e=j.deletions;if(_e!==null)for(var et=0;et<_e.length;et++){var tt=_e[et];try{var nt=$,rt=j,st=rt;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Xj=!1;break e;case 3:X=st.stateNode.containerInfo,Xj=!0;break e;case 4:X=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X===null)throw Error(p$2(160));Zj(nt,rt,tt),X=null,Xj=!1;var at=tt.alternate;at!==null&&(at.return=null),tt.return=null}catch(ut){W(tt,j,ut)}}if(j.subtreeFlags&12854)for(j=j.child;j!==null;)dk(j,$),j=j.sibling}function dk($,j){var _e=$.alternate,et=$.flags;switch($.tag){case 0:case 11:case 14:case 15:if(ck(j,$),ek($),et&4){try{Pj(3,$,$.return),Qj(3,$)}catch(vt){W($,$.return,vt)}try{Pj(5,$,$.return)}catch(vt){W($,$.return,vt)}}break;case 1:ck(j,$),ek($),et&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck(j,$),ek($),et&512&&_e!==null&&Lj(_e,_e.return),$.flags&32){var tt=$.stateNode;try{ob(tt,"")}catch(vt){W($,$.return,vt)}}if(et&4&&(tt=$.stateNode,tt!=null)){var nt=$.memoizedProps,rt=_e!==null?_e.memoizedProps:nt,st=$.type,at=$.updateQueue;if($.updateQueue=null,at!==null)try{st==="input"&&nt.type==="radio"&&nt.name!=null&&ab(tt,nt),vb(st,rt);var ut=vb(st,nt);for(rt=0;rt<at.length;rt+=2){var dt=at[rt],ot=at[rt+1];dt==="style"?sb(tt,ot):dt==="dangerouslySetInnerHTML"?nb(tt,ot):dt==="children"?ob(tt,ot):ta(tt,dt,ot,ut)}switch(st){case"input":bb(tt,nt);break;case"textarea":ib(tt,nt);break;case"select":var lt=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!nt.multiple;var ft=nt.value;ft!=null?fb(tt,!!nt.multiple,ft,!1):lt!==!!nt.multiple&&(nt.defaultValue!=null?fb(tt,!!nt.multiple,nt.defaultValue,!0):fb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}tt[Pf]=nt}catch(vt){W($,$.return,vt)}}break;case 6:if(ck(j,$),ek($),et&4){if($.stateNode===null)throw Error(p$2(162));tt=$.stateNode,nt=$.memoizedProps;try{tt.nodeValue=nt}catch(vt){W($,$.return,vt)}}break;case 3:if(ck(j,$),ek($),et&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd(j.containerInfo)}catch(vt){W($,$.return,vt)}break;case 4:ck(j,$),ek($);break;case 13:ck(j,$),ek($),tt=$.child,tt.flags&8192&&(nt=tt.memoizedState!==null,tt.stateNode.isHidden=nt,!nt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B())),et&4&&ak($);break;case 22:if(dt=_e!==null&&_e.memoizedState!==null,$.mode&1?(U=(ut=U)||dt,ck(j,$),U=ut):ck(j,$),ek($),et&8192){if(ut=$.memoizedState!==null,($.stateNode.isHidden=ut)&&!dt&&$.mode&1)for(V=$,dt=$.child;dt!==null;){for(ot=V=dt;V!==null;){switch(lt=V,ft=lt.child,lt.tag){case 0:case 11:case 14:case 15:Pj(4,lt,lt.return);break;case 1:Lj(lt,lt.return);var ht=lt.stateNode;if(typeof ht.componentWillUnmount=="function"){et=lt,_e=lt.return;try{j=et,ht.props=j.memoizedProps,ht.state=j.memoizedState,ht.componentWillUnmount()}catch(vt){W(et,_e,vt)}}break;case 5:Lj(lt,lt.return);break;case 22:if(lt.memoizedState!==null){gk(ot);continue}}ft!==null?(ft.return=lt,V=ft):gk(ot)}dt=dt.sibling}e:for(dt=null,ot=$;;){if(ot.tag===5){if(dt===null){dt=ot;try{tt=ot.stateNode,ut?(nt=tt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(st=ot.stateNode,at=ot.memoizedProps.style,rt=at!=null&&at.hasOwnProperty("display")?at.display:null,st.style.display=rb("display",rt))}catch(vt){W($,$.return,vt)}}}else if(ot.tag===6){if(dt===null)try{ot.stateNode.nodeValue=ut?"":ot.memoizedProps}catch(vt){W($,$.return,vt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===$)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===$)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===$)break e;dt===ot&&(dt=null),ot=ot.return}dt===ot&&(dt=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:ck(j,$),ek($),et&4&&ak($);break;case 21:break;default:ck(j,$),ek($)}}function ek($){var j=$.flags;if(j&2){try{e:{for(var _e=$.return;_e!==null;){if(Tj(_e)){var et=_e;break e}_e=_e.return}throw Error(p$2(160))}switch(et.tag){case 5:var tt=et.stateNode;et.flags&32&&(ob(tt,""),et.flags&=-33);var nt=Uj($);Wj($,nt,tt);break;case 3:case 4:var rt=et.stateNode.containerInfo,st=Uj($);Vj($,st,rt);break;default:throw Error(p$2(161))}}catch(at){W($,$.return,at)}$.flags&=-3}j&4096&&($.flags&=-4097)}function hk($,j,_e){V=$,ik($)}function ik($,j,_e){for(var et=($.mode&1)!==0;V!==null;){var tt=V,nt=tt.child;if(tt.tag===22&&et){var rt=tt.memoizedState!==null||Jj;if(!rt){var st=tt.alternate,at=st!==null&&st.memoizedState!==null||U;st=Jj;var ut=U;if(Jj=rt,(U=at)&&!ut)for(V=tt;V!==null;)rt=V,at=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(tt):at!==null?(at.return=rt,V=at):jk(tt);for(;nt!==null;)V=nt,ik(nt),nt=nt.sibling;V=tt,Jj=st,U=ut}kk($)}else tt.subtreeFlags&8772&&nt!==null?(nt.return=tt,V=nt):kk($)}}function kk($){for(;V!==null;){var j=V;if(j.flags&8772){var _e=j.alternate;try{if(j.flags&8772)switch(j.tag){case 0:case 11:case 15:U||Qj(5,j);break;case 1:var et=j.stateNode;if(j.flags&4&&!U)if(_e===null)et.componentDidMount();else{var tt=j.elementType===j.type?_e.memoizedProps:Ci(j.type,_e.memoizedProps);et.componentDidUpdate(tt,_e.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var nt=j.updateQueue;nt!==null&&sh(j,nt,et);break;case 3:var rt=j.updateQueue;if(rt!==null){if(_e=null,j.child!==null)switch(j.child.tag){case 5:_e=j.child.stateNode;break;case 1:_e=j.child.stateNode}sh(j,rt,_e)}break;case 5:var st=j.stateNode;if(_e===null&&j.flags&4){_e=st;var at=j.memoizedProps;switch(j.type){case"button":case"input":case"select":case"textarea":at.autoFocus&&_e.focus();break;case"img":at.src&&(_e.src=at.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(j.memoizedState===null){var ut=j.alternate;if(ut!==null){var dt=ut.memoizedState;if(dt!==null){var ot=dt.dehydrated;ot!==null&&bd(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U||j.flags&512&&Rj(j)}catch(lt){W(j,j.return,lt)}}if(j===$){V=null;break}if(_e=j.sibling,_e!==null){_e.return=j.return,V=_e;break}V=j.return}}function gk($){for(;V!==null;){var j=V;if(j===$){V=null;break}var _e=j.sibling;if(_e!==null){_e.return=j.return,V=_e;break}V=j.return}}function jk($){for(;V!==null;){var j=V;try{switch(j.tag){case 0:case 11:case 15:var _e=j.return;try{Qj(4,j)}catch(at){W(j,_e,at)}break;case 1:var et=j.stateNode;if(typeof et.componentDidMount=="function"){var tt=j.return;try{et.componentDidMount()}catch(at){W(j,tt,at)}}var nt=j.return;try{Rj(j)}catch(at){W(j,nt,at)}break;case 5:var rt=j.return;try{Rj(j)}catch(at){W(j,rt,at)}}}catch(at){W(j,j.return,at)}if(j===$){V=null;break}var st=j.sibling;if(st!==null){st.return=j.return,V=st;break}V=j.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi($){return $.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):($=C$1,$!==0||($=window.event,$=$===void 0?16:jd($.type)),$):1}function gi($,j,_e,et){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac($,_e,et),(!(K&2)||$!==Q)&&($===Q&&(!(K&2)&&(qk|=_e),T$1===4&&Ck($,Z)),Dk($,et),_e===1&&K===0&&!(j.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk($,j){var _e=$.callbackNode;wc($,j);var et=uc($,$===Q?Z:0);if(et===0)_e!==null&&bc(_e),$.callbackNode=null,$.callbackPriority=0;else if(j=et&-et,$.callbackPriority!==j){if(_e!=null&&bc(_e),j===1)$.tag===0?ig(Ek.bind(null,$)):hg(Ek.bind(null,$)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(et)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,$))}$.callbackPriority=j,$.callbackNode=_e}}function Gk($,j){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var _e=$.callbackNode;if(Hk()&&$.callbackNode!==_e)return null;var et=uc($,$===Q?Z:0);if(et===0)return null;if(et&30||et&$.expiredLanes||j)j=Ik($,et);else{j=et;var tt=K;K|=2;var nt=Jk();(Q!==$||Z!==j)&&(uk=null,Gj=B()+500,Kk($,j));do try{Lk();break}catch(st){Mk($,st)}while(!0);$g(),mk.current=nt,K=tt,Y!==null?j=0:(Q=null,Z=0,j=T$1)}if(j!==0){if(j===2&&(tt=xc($),tt!==0&&(et=tt,j=Nk($,tt))),j===1)throw _e=pk,Kk($,0),Ck($,et),Dk($,B()),_e;if(j===6)Ck($,et);else{if(tt=$.current.alternate,!(et&30)&&!Ok(tt)&&(j=Ik($,et),j===2&&(nt=xc($),nt!==0&&(et=nt,j=Nk($,nt))),j===1))throw _e=pk,Kk($,0),Ck($,et),Dk($,B()),_e;switch($.finishedWork=tt,$.finishedLanes=et,j){case 0:case 1:throw Error(p$2(345));case 2:Pk($,tk,uk);break;case 3:if(Ck($,et),(et&130023424)===et&&(j=fk+500-B(),10<j)){if(uc($,0)!==0)break;if(tt=$.suspendedLanes,(tt&et)!==et){R(),$.pingedLanes|=$.suspendedLanes&tt;break}$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),j);break}Pk($,tk,uk);break;case 4:if(Ck($,et),(et&4194240)===et)break;for(j=$.eventTimes,tt=-1;0<et;){var rt=31-oc(et);nt=1<<rt,rt=j[rt],rt>tt&&(tt=rt),et&=~nt}if(et=tt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*lk(et/1960))-et,10<et){$.timeoutHandle=Ff(Pk.bind(null,$,tk,uk),et);break}Pk($,tk,uk);break;case 5:Pk($,tk,uk);break;default:throw Error(p$2(329))}}}return Dk($,B()),$.callbackNode===_e?Gk.bind(null,$):null}function Nk($,j){var _e=sk;return $.current.memoizedState.isDehydrated&&(Kk($,j).flags|=256),$=Ik($,j),$!==2&&(j=tk,tk=_e,j!==null&&Fj(j)),$}function Fj($){tk===null?tk=$:tk.push.apply(tk,$)}function Ok($){for(var j=$;;){if(j.flags&16384){var _e=j.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.getSnapshot;tt=tt.value;try{if(!He(nt(),tt))return!1}catch{return!1}}}if(_e=j.child,j.subtreeFlags&16384&&_e!==null)_e.return=j,j=_e;else{if(j===$)break;for(;j.sibling===null;){if(j.return===null||j.return===$)return!0;j=j.return}j.sibling.return=j.return,j=j.sibling}}return!0}function Ck($,j){for(j&=~rk,j&=~qk,$.suspendedLanes|=j,$.pingedLanes&=~j,$=$.expirationTimes;0<j;){var _e=31-oc(j),et=1<<_e;$[_e]=-1,j&=~et}}function Ek($){if(K&6)throw Error(p$2(327));Hk();var j=uc($,0);if(!(j&1))return Dk($,B()),null;var _e=Ik($,j);if($.tag!==0&&_e===2){var et=xc($);et!==0&&(j=et,_e=Nk($,et))}if(_e===1)throw _e=pk,Kk($,0),Ck($,j),Dk($,B()),_e;if(_e===6)throw Error(p$2(345));return $.finishedWork=$.current.alternate,$.finishedLanes=j,Pk($,tk,uk),Dk($,B()),null}function Qk($,j){var _e=K;K|=1;try{return $(j)}finally{K=_e,K===0&&(Gj=B()+500,fg&&jg())}}function Rk($){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var j=K;K|=1;var _e=ok.transition,et=C$1;try{if(ok.transition=null,C$1=1,$)return $()}finally{C$1=et,ok.transition=_e,K=j,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk($,j){$.finishedWork=null,$.finishedLanes=0;var _e=$.timeoutHandle;if(_e!==-1&&($.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var et=_e;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H),Eh();break;case 5:Bh(et);break;case 4:zh();break;case 13:E$1(L);break;case 19:E$1(L);break;case 10:ah(et.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=$,Y=$=Pg($.current,null),Z=fj=j,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(j=0;j<fh.length;j++)if(_e=fh[j],et=_e.interleaved,et!==null){_e.interleaved=null;var tt=et.next,nt=_e.pending;if(nt!==null){var rt=nt.next;nt.next=tt,et.next=rt}_e.pending=et}fh=null}return $}function Mk($,j){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var et=M$1.memoizedState;et!==null;){var tt=et.queue;tt!==null&&(tt.pending=null),et=et.next}Ih=!1}if(Hh=0,O$1=N=M$1=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T$1=1,pk=j,Y=null;break}e:{var nt=$,rt=_e.return,st=_e,at=j;if(j=Z,st.flags|=32768,at!==null&&typeof at=="object"&&typeof at.then=="function"){var ut=at,dt=st,ot=dt.tag;if(!(dt.mode&1)&&(ot===0||ot===11||ot===15)){var lt=dt.alternate;lt?(dt.updateQueue=lt.updateQueue,dt.memoizedState=lt.memoizedState,dt.lanes=lt.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var ft=Ui(rt);if(ft!==null){ft.flags&=-257,Vi(ft,rt,st,nt,j),ft.mode&1&&Si(nt,ut,j),j=ft,at=ut;var ht=j.updateQueue;if(ht===null){var vt=new Set;vt.add(at),j.updateQueue=vt}else ht.add(at);break e}else{if(!(j&1)){Si(nt,ut,j),tj();break e}at=Error(p$2(426))}}else if(I$1&&st.mode&1){var bt=Ui(rt);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),Vi(bt,rt,st,nt,j),Jg(Ji(at,st));break e}}nt=at=Ji(at,st),T$1!==4&&(T$1=2),sk===null?sk=[nt]:sk.push(nt),nt=rt;do{switch(nt.tag){case 3:nt.flags|=65536,j&=-j,nt.lanes|=j;var mt=Ni(nt,at,j);ph(nt,mt);break e;case 1:st=at;var xt=nt.type,Et=nt.stateNode;if(!(nt.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||Et!==null&&typeof Et.componentDidCatch=="function"&&(Ri===null||!Ri.has(Et)))){nt.flags|=65536,j&=-j,nt.lanes|=j;var At=Qi(nt,st,j);ph(nt,At);break e}}nt=nt.return}while(nt!==null)}Sk(_e)}catch(kt){j=kt,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var $=mk.current;return mk.current=Rh,$===null?Rh:$}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik($,j){var _e=K;K|=2;var et=Jk();(Q!==$||Z!==j)&&(uk=null,Kk($,j));do try{Tk();break}catch(tt){Mk($,tt)}while(!0);if($g(),K=_e,mk.current=et,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk($){var j=Vk($.alternate,$,fj);$.memoizedProps=$.pendingProps,j===null?Sk($):Y=j,nk.current=null}function Sk($){var j=$;do{var _e=j.alternate;if($=j.return,j.flags&32768){if(_e=Ij(_e,j),_e!==null){_e.flags&=32767,Y=_e;return}if($!==null)$.flags|=32768,$.subtreeFlags=0,$.deletions=null;else{T$1=6,Y=null;return}}else if(_e=Ej(_e,j,fj),_e!==null){Y=_e;return}if(j=j.sibling,j!==null){Y=j;return}Y=j=$}while(j!==null);T$1===0&&(T$1=5)}function Pk($,j,_e){var et=C$1,tt=ok.transition;try{ok.transition=null,C$1=1,Wk($,j,_e,et)}finally{ok.transition=tt,C$1=et}return null}function Wk($,j,_e,et){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));_e=$.finishedWork;var tt=$.finishedLanes;if(_e===null)return null;if($.finishedWork=null,$.finishedLanes=0,_e===$.current)throw Error(p$2(177));$.callbackNode=null,$.callbackPriority=0;var nt=_e.lanes|_e.childLanes;if(Bc($,nt),$===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var rt=C$1;C$1=1;var st=K;K|=4,nk.current=null,Oj($,_e),dk(_e,$),Oe(Df),dd=!!Cf,Df=Cf=null,$.current=_e,hk(_e),dc(),K=st,C$1=rt,ok.transition=nt}else $.current=_e;if(vk&&(vk=!1,wk=$,xk=tt),nt=$.pendingLanes,nt===0&&(Ri=null),mc(_e.stateNode),Dk($,B()),j!==null)for(et=$.onRecoverableError,_e=0;_e<j.length;_e++)tt=j[_e],et(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,$=Pi,Pi=null,$;return xk&1&&$.tag!==0&&Hk(),nt=$.pendingLanes,nt&1?$===zk?yk++:(yk=0,zk=$):yk=0,jg(),null}function Hk(){if(wk!==null){var $=Dc(xk),j=ok.transition,_e=C$1;try{if(ok.transition=null,C$1=16>$?16:$,wk===null)var et=!1;else{if($=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var tt=K;for(K|=4,V=$.current;V!==null;){var nt=V,rt=nt.child;if(V.flags&16){var st=nt.deletions;if(st!==null){for(var at=0;at<st.length;at++){var ut=st[at];for(V=ut;V!==null;){var dt=V;switch(dt.tag){case 0:case 11:case 15:Pj(8,dt,nt)}var ot=dt.child;if(ot!==null)ot.return=dt,V=ot;else for(;V!==null;){dt=V;var lt=dt.sibling,ft=dt.return;if(Sj(dt),dt===ut){V=null;break}if(lt!==null){lt.return=ft,V=lt;break}V=ft}}}var ht=nt.alternate;if(ht!==null){var vt=ht.child;if(vt!==null){ht.child=null;do{var bt=vt.sibling;vt.sibling=null,vt=bt}while(vt!==null)}}V=nt}}if(nt.subtreeFlags&2064&&rt!==null)rt.return=nt,V=rt;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var mt=nt.sibling;if(mt!==null){mt.return=nt.return,V=mt;break e}V=nt.return}}var xt=$.current;for(V=xt;V!==null;){rt=V;var Et=rt.child;if(rt.subtreeFlags&2064&&Et!==null)Et.return=rt,V=Et;else e:for(rt=xt;V!==null;){if(st=V,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(kt){W(st,st.return,kt)}if(st===rt){V=null;break e}var At=st.sibling;if(At!==null){At.return=st.return,V=At;break e}V=st.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,$)}catch{}et=!0}return et}finally{C$1=_e,ok.transition=j}}return!1}function Xk($,j,_e){j=Ji(_e,j),j=Ni($,j,1),$=nh($,j,1),j=R(),$!==null&&(Ac($,1,j),Dk($,j))}function W($,j,_e){if($.tag===3)Xk($,$,_e);else for(;j!==null;){if(j.tag===3){Xk(j,$,_e);break}else if(j.tag===1){var et=j.stateNode;if(typeof j.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et))){$=Ji(_e,$),$=Qi(j,$,1),j=nh(j,$,1),$=R(),j!==null&&(Ac(j,1,$),Dk(j,$));break}}j=j.return}}function Ti($,j,_e){var et=$.pingCache;et!==null&&et.delete(j),j=R(),$.pingedLanes|=$.suspendedLanes&_e,Q===$&&(Z&_e)===_e&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B()-fk?Kk($,0):rk|=_e),Dk($,j)}function Yk($,j){j===0&&($.mode&1?(j=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):j=1);var _e=R();$=ih($,j),$!==null&&(Ac($,j,_e),Dk($,_e))}function uj($){var j=$.memoizedState,_e=0;j!==null&&(_e=j.retryLane),Yk($,_e)}function bk($,j){var _e=0;switch($.tag){case 13:var et=$.stateNode,tt=$.memoizedState;tt!==null&&(_e=tt.retryLane);break;case 19:et=$.stateNode;break;default:throw Error(p$2(314))}et!==null&&et.delete(j),Yk($,_e)}var Vk;Vk=function($,j,_e){if($!==null)if($.memoizedProps!==j.pendingProps||Wf.current)dh=!0;else{if(!($.lanes&_e)&&!(j.flags&128))return dh=!1,yj($,j,_e);dh=!!($.flags&131072)}else dh=!1,I$1&&j.flags&1048576&&ug(j,ng,j.index);switch(j.lanes=0,j.tag){case 2:var et=j.type;ij($,j),$=j.pendingProps;var tt=Yf(j,H.current);ch(j,_e),tt=Nh(null,j,et,$,tt,_e);var nt=Sh();return j.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?(j.tag=1,j.memoizedState=null,j.updateQueue=null,Zf(et)?(nt=!0,cg(j)):nt=!1,j.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh(j),tt.updater=Ei,j.stateNode=tt,tt._reactInternals=j,Ii(j,et,$,_e),j=jj(null,j,et,!0,nt,_e)):(j.tag=0,I$1&&nt&&vg(j),Xi(null,j,tt,_e),j=j.child),j;case 16:et=j.elementType;e:{switch(ij($,j),$=j.pendingProps,tt=et._init,et=tt(et._payload),j.type=et,tt=j.tag=Zk(et),$=Ci(et,$),tt){case 0:j=cj(null,j,et,$,_e);break e;case 1:j=hj(null,j,et,$,_e);break e;case 11:j=Yi(null,j,et,$,_e);break e;case 14:j=$i(null,j,et,Ci(et.type,$),_e);break e}throw Error(p$2(306,et,""))}return j;case 0:return et=j.type,tt=j.pendingProps,tt=j.elementType===et?tt:Ci(et,tt),cj($,j,et,tt,_e);case 1:return et=j.type,tt=j.pendingProps,tt=j.elementType===et?tt:Ci(et,tt),hj($,j,et,tt,_e);case 3:e:{if(kj(j),$===null)throw Error(p$2(387));et=j.pendingProps,nt=j.memoizedState,tt=nt.element,lh($,j),qh(j,et,null,_e);var rt=j.memoizedState;if(et=rt.element,nt.isDehydrated)if(nt={element:et,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},j.updateQueue.baseState=nt,j.memoizedState=nt,j.flags&256){tt=Ji(Error(p$2(423)),j),j=lj($,j,et,_e,tt);break e}else if(et!==tt){tt=Ji(Error(p$2(424)),j),j=lj($,j,et,_e,tt);break e}else for(yg=Lf(j.stateNode.containerInfo.firstChild),xg=j,I$1=!0,zg=null,_e=Vg(j,null,et,_e),j.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),et===tt){j=Zi($,j,_e);break e}Xi($,j,et,_e)}j=j.child}return j;case 5:return Ah(j),$===null&&Eg(j),et=j.type,tt=j.pendingProps,nt=$!==null?$.memoizedProps:null,rt=tt.children,Ef(et,tt)?rt=null:nt!==null&&Ef(et,nt)&&(j.flags|=32),gj($,j),Xi($,j,rt,_e),j.child;case 6:return $===null&&Eg(j),null;case 13:return oj($,j,_e);case 4:return yh(j,j.stateNode.containerInfo),et=j.pendingProps,$===null?j.child=Ug(j,null,et,_e):Xi($,j,et,_e),j.child;case 11:return et=j.type,tt=j.pendingProps,tt=j.elementType===et?tt:Ci(et,tt),Yi($,j,et,tt,_e);case 7:return Xi($,j,j.pendingProps,_e),j.child;case 8:return Xi($,j,j.pendingProps.children,_e),j.child;case 12:return Xi($,j,j.pendingProps.children,_e),j.child;case 10:e:{if(et=j.type._context,tt=j.pendingProps,nt=j.memoizedProps,rt=tt.value,G(Wg,et._currentValue),et._currentValue=rt,nt!==null)if(He(nt.value,rt)){if(nt.children===tt.children&&!Wf.current){j=Zi($,j,_e);break e}}else for(nt=j.child,nt!==null&&(nt.return=j);nt!==null;){var st=nt.dependencies;if(st!==null){rt=nt.child;for(var at=st.firstContext;at!==null;){if(at.context===et){if(nt.tag===1){at=mh(-1,_e&-_e),at.tag=2;var ut=nt.updateQueue;if(ut!==null){ut=ut.shared;var dt=ut.pending;dt===null?at.next=at:(at.next=dt.next,dt.next=at),ut.pending=at}}nt.lanes|=_e,at=nt.alternate,at!==null&&(at.lanes|=_e),bh(nt.return,_e,j),st.lanes|=_e;break}at=at.next}}else if(nt.tag===10)rt=nt.type===j.type?null:nt.child;else if(nt.tag===18){if(rt=nt.return,rt===null)throw Error(p$2(341));rt.lanes|=_e,st=rt.alternate,st!==null&&(st.lanes|=_e),bh(rt,_e,j),rt=nt.sibling}else rt=nt.child;if(rt!==null)rt.return=nt;else for(rt=nt;rt!==null;){if(rt===j){rt=null;break}if(nt=rt.sibling,nt!==null){nt.return=rt.return,rt=nt;break}rt=rt.return}nt=rt}Xi($,j,tt.children,_e),j=j.child}return j;case 9:return tt=j.type,et=j.pendingProps.children,ch(j,_e),tt=eh(tt),et=et(tt),j.flags|=1,Xi($,j,et,_e),j.child;case 14:return et=j.type,tt=Ci(et,j.pendingProps),tt=Ci(et.type,tt),$i($,j,et,tt,_e);case 15:return bj($,j,j.type,j.pendingProps,_e);case 17:return et=j.type,tt=j.pendingProps,tt=j.elementType===et?tt:Ci(et,tt),ij($,j),j.tag=1,Zf(et)?($=!0,cg(j)):$=!1,ch(j,_e),Gi(j,et,tt),Ii(j,et,tt,_e),jj(null,j,et,!0,$,_e);case 19:return xj($,j,_e);case 22:return dj($,j,_e)}throw Error(p$2(156,j.tag))};function Fk($,j){return ac($,j)}function $k($,j,_e,et){this.tag=$,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=j,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg($,j,_e,et){return new $k($,j,_e,et)}function aj($){return $=$.prototype,!(!$||!$.isReactComponent)}function Zk($){if(typeof $=="function")return aj($)?1:0;if($!=null){if($=$.$$typeof,$===Da)return 11;if($===Ga)return 14}return 2}function Pg($,j){var _e=$.alternate;return _e===null?(_e=Bg($.tag,j,$.key,$.mode),_e.elementType=$.elementType,_e.type=$.type,_e.stateNode=$.stateNode,_e.alternate=$,$.alternate=_e):(_e.pendingProps=j,_e.type=$.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=$.flags&14680064,_e.childLanes=$.childLanes,_e.lanes=$.lanes,_e.child=$.child,_e.memoizedProps=$.memoizedProps,_e.memoizedState=$.memoizedState,_e.updateQueue=$.updateQueue,j=$.dependencies,_e.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext},_e.sibling=$.sibling,_e.index=$.index,_e.ref=$.ref,_e}function Rg($,j,_e,et,tt,nt){var rt=2;if(et=$,typeof $=="function")aj($)&&(rt=1);else if(typeof $=="string")rt=5;else e:switch($){case ya:return Tg(_e.children,tt,nt,j);case za:rt=8,tt|=8;break;case Aa:return $=Bg(12,_e,j,tt|2),$.elementType=Aa,$.lanes=nt,$;case Ea:return $=Bg(13,_e,j,tt),$.elementType=Ea,$.lanes=nt,$;case Fa:return $=Bg(19,_e,j,tt),$.elementType=Fa,$.lanes=nt,$;case Ia:return pj(_e,tt,nt,j);default:if(typeof $=="object"&&$!==null)switch($.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,et=null;break e}throw Error(p$2(130,$==null?$:typeof $,""))}return j=Bg(rt,_e,j,tt),j.elementType=$,j.type=et,j.lanes=nt,j}function Tg($,j,_e,et){return $=Bg(7,$,et,j),$.lanes=_e,$}function pj($,j,_e,et){return $=Bg(22,$,et,j),$.elementType=Ia,$.lanes=_e,$.stateNode={isHidden:!1},$}function Qg($,j,_e){return $=Bg(6,$,null,j),$.lanes=_e,$}function Sg($,j,_e){return j=Bg(4,$.children!==null?$.children:[],$.key,j),j.lanes=_e,j.stateNode={containerInfo:$.containerInfo,pendingChildren:null,implementation:$.implementation},j}function al($,j,_e,et,tt){this.tag=j,this.containerInfo=$,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl($,j,_e,et,tt,nt,rt,st,at){return $=new al($,j,_e,st,at),j===1?(j=1,nt===!0&&(j|=8)):j=0,nt=Bg(3,null,null,j),$.current=nt,nt.stateNode=$,nt.memoizedState={element:et,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),$}function cl($,j,_e){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:$,containerInfo:j,implementation:_e}}function dl($){if(!$)return Vf;$=$._reactInternals;e:{if(Vb($)!==$||$.tag!==1)throw Error(p$2(170));var j=$;do{switch(j.tag){case 3:j=j.stateNode.context;break e;case 1:if(Zf(j.type)){j=j.stateNode.__reactInternalMemoizedMergedChildContext;break e}}j=j.return}while(j!==null);throw Error(p$2(171))}if($.tag===1){var _e=$.type;if(Zf(_e))return bg($,_e,j)}return j}function el($,j,_e,et,tt,nt,rt,st,at){return $=bl(_e,et,!0,$,tt,nt,rt,st,at),$.context=dl(null),_e=$.current,et=R(),tt=yi(_e),nt=mh(et,tt),nt.callback=j??null,nh(_e,nt,tt),$.current.lanes=tt,Ac($,tt,et),Dk($,et),$}function fl($,j,_e,et){var tt=j.current,nt=R(),rt=yi(tt);return _e=dl(_e),j.context===null?j.context=_e:j.pendingContext=_e,j=mh(nt,rt),j.payload={element:$},et=et===void 0?null:et,et!==null&&(j.callback=et),$=nh(tt,j,rt),$!==null&&(gi($,tt,rt,nt),oh($,tt,rt)),rt}function gl($){if($=$.current,!$.child)return null;switch($.child.tag){case 5:return $.child.stateNode;default:return $.child.stateNode}}function hl($,j){if($=$.memoizedState,$!==null&&$.dehydrated!==null){var _e=$.retryLane;$.retryLane=_e!==0&&_e<j?_e:j}}function il($,j){hl($,j),($=$.alternate)&&hl($,j)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function($){console.error($)};function ll($){this._internalRoot=$}ml.prototype.render=ll.prototype.render=function($){var j=this._internalRoot;if(j===null)throw Error(p$2(409));fl($,j,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var $=this._internalRoot;if($!==null){this._internalRoot=null;var j=$.containerInfo;Rk(function(){fl(null,$,null,null)}),j[uf]=null}};function ml($){this._internalRoot=$}ml.prototype.unstable_scheduleHydration=function($){if($){var j=Hc();$={blockedOn:null,target:$,priority:j};for(var _e=0;_e<Qc.length&&j!==0&&j<Qc[_e].priority;_e++);Qc.splice(_e,0,$),_e===0&&Vc($)}};function nl($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)}function ol($){return!(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11&&($.nodeType!==8||$.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql($,j,_e,et,tt){if(tt){if(typeof et=="function"){var nt=et;et=function(){var ut=gl(rt);nt.call(ut)}}var rt=el(j,et,$,0,null,!1,!1,"",pl);return $._reactRootContainer=rt,$[uf]=rt.current,sf($.nodeType===8?$.parentNode:$),Rk(),rt}for(;tt=$.lastChild;)$.removeChild(tt);if(typeof et=="function"){var st=et;et=function(){var ut=gl(at);st.call(ut)}}var at=bl($,0,!1,null,null,!1,!1,"",pl);return $._reactRootContainer=at,$[uf]=at.current,sf($.nodeType===8?$.parentNode:$),Rk(function(){fl(j,at,_e,et)}),at}function rl($,j,_e,et,tt){var nt=_e._reactRootContainer;if(nt){var rt=nt;if(typeof tt=="function"){var st=tt;tt=function(){var at=gl(rt);st.call(at)}}fl(j,rt,$,tt)}else rt=ql(_e,j,$,tt,et);return gl(rt)}Ec=function($){switch($.tag){case 3:var j=$.stateNode;if(j.current.memoizedState.isDehydrated){var _e=tc(j.pendingLanes);_e!==0&&(Cc(j,_e|1),Dk(j,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var et=ih($,1);if(et!==null){var tt=R();gi(et,$,1,tt)}}),il($,1)}};Fc=function($){if($.tag===13){var j=ih($,134217728);if(j!==null){var _e=R();gi(j,$,134217728,_e)}il($,134217728)}};Gc=function($){if($.tag===13){var j=yi($),_e=ih($,j);if(_e!==null){var et=R();gi(_e,$,j,et)}il($,j)}};Hc=function(){return C$1};Ic=function($,j){var _e=C$1;try{return C$1=$,j()}finally{C$1=_e}};yb=function($,j,_e){switch(j){case"input":if(bb($,_e),j=_e.name,_e.type==="radio"&&j!=null){for(_e=$;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+j)+'][type="radio"]'),j=0;j<_e.length;j++){var et=_e[j];if(et!==$&&et.form===$.form){var tt=Db(et);if(!tt)throw Error(p$2(90));Wa(et),bb(et,tt)}}}break;case"textarea":ib($,_e);break;case"select":j=_e.value,j!=null&&fb($,!!_e.multiple,j,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function($){return $=Zb($),$===null?null:$.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function($,j){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(j))throw Error(p$2(200));return cl($,j,null,_e)};reactDom_production_min.createRoot=function($,j){if(!nl($))throw Error(p$2(299));var _e=!1,et="",tt=kl;return j!=null&&(j.unstable_strictMode===!0&&(_e=!0),j.identifierPrefix!==void 0&&(et=j.identifierPrefix),j.onRecoverableError!==void 0&&(tt=j.onRecoverableError)),j=bl($,1,!1,null,null,_e,!1,et,tt),$[uf]=j.current,sf($.nodeType===8?$.parentNode:$),new ll(j)};reactDom_production_min.findDOMNode=function($){if($==null)return null;if($.nodeType===1)return $;var j=$._reactInternals;if(j===void 0)throw typeof $.render=="function"?Error(p$2(188)):($=Object.keys($).join(","),Error(p$2(268,$)));return $=Zb(j),$=$===null?null:$.stateNode,$};reactDom_production_min.flushSync=function($){return Rk($)};reactDom_production_min.hydrate=function($,j,_e){if(!ol(j))throw Error(p$2(200));return rl(null,$,j,!0,_e)};reactDom_production_min.hydrateRoot=function($,j,_e){if(!nl($))throw Error(p$2(405));var et=_e!=null&&_e.hydratedSources||null,tt=!1,nt="",rt=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(rt=_e.onRecoverableError)),j=el(j,null,$,1,_e??null,tt,!1,nt,rt),$[uf]=j.current,sf($),et)for($=0;$<et.length;$++)_e=et[$],tt=_e._getVersion,tt=tt(_e._source),j.mutableSourceEagerHydrationData==null?j.mutableSourceEagerHydrationData=[_e,tt]:j.mutableSourceEagerHydrationData.push(_e,tt);return new ml(j)};reactDom_production_min.render=function($,j,_e){if(!ol(j))throw Error(p$2(200));return rl(null,$,j,!1,_e)};reactDom_production_min.unmountComponentAtNode=function($){if(!ol($))throw Error(p$2(40));return $._reactRootContainer?(Rk(function(){rl(null,null,$,!1,function(){$._reactRootContainer=null,$[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function($,j,_e,et){if(!ol(_e))throw Error(p$2(200));if($==null||$._reactInternals===void 0)throw Error(p$2(38));return rl($,j,_e,!1,et)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch($){console.error($)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$2=reactDomExports;createRoot=m$2.createRoot,m$2.hydrateRoot;const createEvent$1=()=>{const $=new Set;return{add:et=>{$.add(et)},fire:()=>{$.forEach(et=>et()),$.clear()}}},INTERNAL=Symbol(),shallowCopy=$=>Array.isArray($)?$.slice():Object.create(Object.getPrototypeOf($),Object.getOwnPropertyDescriptors($));function getIn($,j,_e=!1,et=0){if(et===j.length)return $;const tt=j[et];return _e&&!$[tt]&&($[tt]={}),getIn($[tt],j,_e,et+1)}function setIn($,j,_e,et=0){if(et===j.length)return _e;const tt=j[et],nt=$[tt],rt=setIn(nt,j,_e,et+1);if(rt===nt)return $;const st=shallowCopy($);return st[tt]=rt,st}const handler$1={get:($,j)=>j===INTERNAL?$:new Proxy([...$,j],handler$1)},pathProxy=new Proxy([],handler$1),createFocus=($,j)=>_e=>{const et=typeof _e=="function"?_e(pathProxy)[INTERNAL]:[_e];$.cache||($.cache={});const tt=j.concat(et),{get:nt}=$,rt=getIn($.cache,tt,!0);return rt[INTERNAL]||(rt[INTERNAL]=createAtom(Object.assign(Object.assign({},$),{path:tt,get:()=>{const st=nt();return st?getIn(st,tt):void 0},set:st=>$.atom.set(setIn(nt(),tt,st))})))},createStream=$=>(j,_e)=>{let et;const tt=createInternal();let nt=!0;const rt=()=>{tt.listeners.size?st():nt=!0},st=()=>{const at=$.get(),ut=j(at,et);nt=!1,_e&&!ut||(tt.set(ut),et=ut)};return createAtom(Object.assign(Object.assign({},tt),{get:()=>(!$.isStream&&nt&&st(),tt.get()),isStream:_e||$.isStream,subscribe:at=>{const ut=$.subscribe(rt),dt=tt.subscribe(at);return()=>{dt(),tt.listeners.size||ut()}}}))},tools={symbol:INTERNAL,send:()=>{},wrap:$=>$},subscribeInternal=($,j,_e)=>et=>{const tt=createEvent$1();let nt=j();const rt=at=>{const ut=et(at,nt);typeof ut=="function"&&tt.add(ut)};_e&&rt(nt);const st=$(()=>{const at=j();at!==nt&&(tt.fire(),rt(at),nt=at)});return()=>{tt.fire(),st()}},createInternal=$=>{const j=new Set,_e={listeners:j,get:()=>$,set:et=>{$!==et&&($=et,tools.send(_e),j.forEach(tt=>tt()))},subscribe:et=>(j.add(et),()=>void j.delete(et))};return _e};function createAtom($,j){const{get:_e,subscribe:et,atom:tt}=$,nt={get value(){return tools.get&&tools.get(nt),_e()},set value(st){nt.set(st)},get actions(){return tools.wrap(rt,nt)},set:st=>$.set(st),update:st=>nt.set(st(_e())),subscribe:subscribeInternal(et,_e),watch:subscribeInternal(et,_e,!0),focus:createFocus(tt?tt[INTERNAL]:$,$.path||[]),map:createStream($),[INTERNAL]:$};$.atom=nt,create.plugins.forEach(st=>st(nt));const rt=j&&j(nt);return nt}const createGetState=($,j)=>(_e,et)=>et?(j(et($)),_e()):(j(_e.subscribe($)),_e[INTERNAL].get()),createSelector=$=>{const j=createInternal(),{get:_e,set:et,listeners:tt}=j,nt=createEvent$1();let rt=!0;const st=createGetState(()=>{tt.size?at():rt=!0},nt.add),at=()=>{nt.fire(),rt=!1;const ut=tools.get;tools.get=j.track?st:null,et($(st)),tools.get=ut};return j.get=()=>(rt&&at(),_e()),j};function atom($,j){const _e=(typeof $=="function"?createSelector:createInternal)($);return _e.isStream=!arguments.length,createAtom(_e,j)}atom.plugins=[];atom.internal=tools;const create=atom;var useConstant$3={};Object.defineProperty(useConstant$3,"__esModule",{value:!0});var react$1=reactExports;const useConstant$2=$=>{const j=react$1.useRef();return j.current||(j.current={c:$()}),j.current.c};var useConstant_2=useConstant$3.useConstant=useConstant$2,useAdapter$1={};const createEvent=()=>{const $=new Set;return{add:et=>{$.add(et)},fire:()=>{$.forEach(et=>et()),$.clear()}}},error=$=>{throw new Error(`[xoid] \`${$}\` cannot be used outside the setup context. To create a setup context, use the \`useSetup\` hook from a framework integration package.`)};let adapter={effect:()=>error("effect"),inject:()=>error("inject")};const inject$1=$=>adapter.inject($),effect=$=>adapter.effect($);function setup$1($){const j=adapter;adapter=this;const _e=$();return adapter=j,_e}const createAdapter=$=>{const j=createEvent(),_e=createEvent();return{inject:$.inject,mount:j.fire,unmount:_e.fire,effect:et=>j.add(()=>{const tt=et();typeof tt=="function"&&_e.add(tt)})}},setup_esm=Object.freeze(Object.defineProperty({__proto__:null,createAdapter,effect,inject:inject$1,setup:setup$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(setup_esm);Object.defineProperty(useAdapter$1,"__esModule",{value:!0});var React=reactExports,setup=require$$1,useConstant$1=useConstant$3;function _interopDefaultLegacy($){return $&&typeof $=="object"&&"default"in $?$:{default:$}}var React__default=_interopDefaultLegacy(React);const contextMap=new Map,createProvider=($,j)=>{const _e=React.createContext(j);return contextMap.set($,_e),_e.Provider},reactInternals=React__default.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,inject=$=>{if(typeof $!="symbol")throw new TypeError("An injection key should be a symbol.");return reactInternals.ReactCurrentDispatcher.current.readContext(contextMap.get($))},useAdapter=$=>{const j=useConstant$1.useConstant(()=>setup.createAdapter({inject}));return React.useEffect(()=>(j.mount(),()=>j.unmount()),[]),useConstant$1.useConstant(()=>setup.setup.call(j,$))};useAdapter$1.createProvider=createProvider;var useAdapter_2=useAdapter$1.useAdapter=useAdapter,useAtom$1={},shim$1={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$1($,j){return $===j&&($!==0||1/$===1/j)||$!==$&&j!==j}var k=typeof Object.is=="function"?Object.is:h$1,l$1=e$2.useState,m$1=e$2.useEffect,n$3=e$2.useLayoutEffect,p$1=e$2.useDebugValue;function q($,j){var _e=j(),et=l$1({inst:{value:_e,getSnapshot:j}}),tt=et[0].inst,nt=et[1];return n$3(function(){tt.value=_e,tt.getSnapshot=j,r$3(tt)&&nt({inst:tt})},[$,_e,j]),m$1(function(){return r$3(tt)&&nt({inst:tt}),$(function(){r$3(tt)&&nt({inst:tt})})},[$]),p$1(_e),_e}function r$3($){var j=$.getSnapshot;$=$.value;try{var _e=j();return!k($,_e)}catch{return!0}}function t$3($,j){return j()}var u$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$3:q;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$1;shim$1.exports=useSyncExternalStoreShim_production_min;var shimExports=shim$1.exports;Object.defineProperty(useAtom$1,"__esModule",{value:!0});var shim=shimExports,react=reactExports,useConstant=useConstant$3;function useAtom($,j){const _e=useConstant.useConstant(()=>typeof $=="function"&&$())||$,et=shim.useSyncExternalStore(_e.subscribe,()=>_e.value,()=>_e.value);return react.useDebugValue(et),j?[et,_e.actions]:et}var useAtom_2=useAtom$1.useAtom=useAtom;const useIsoLayoutEffect=typeof window>"u"?reactExports.useEffect:reactExports.useLayoutEffect;function useSetup($,j){let _e;if(arguments.length>1){const et=useConstant_2(()=>atom(()=>j));useIsoLayoutEffect(()=>et.set(j),[j]),_e=useAdapter_2(()=>$(et))}else _e=useAdapter_2($);return reactExports.useDebugValue(_e),_e}const QspiderRoot=({children:$})=>$;var colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function(j){return!j||typeof j=="string"?!1:j instanceof Array||Array.isArray(j)||j.length>=0&&(j.splice instanceof Function||Object.getOwnPropertyDescriptor(j,j.length-1)&&j.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice$2=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function(j){for(var _e=[],et=0,tt=j.length;et<tt;et++){var nt=j[et];isArrayish(nt)?_e=concat.call(_e,slice$2.call(nt)):_e.push(nt)}return _e};swizzle$1.wrap=function($){return function(){return $(swizzle$1(arguments))}};var simpleSwizzleExports=simpleSwizzle.exports,colorNames=colorName,swizzle=simpleSwizzleExports,hasOwnProperty$1=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty$1.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function($){var j=$.substring(0,3).toLowerCase(),_e,et;switch(j){case"hsl":_e=cs.get.hsl($),et="hsl";break;case"hwb":_e=cs.get.hwb($),et="hwb";break;default:_e=cs.get.rgb($),et="rgb";break}return _e?{model:et,value:_e}:null};cs.get.rgb=function($){if(!$)return null;var j=/^#([a-f0-9]{3,4})$/i,_e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,et=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,tt=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,nt=/^(\w+)$/,rt=[0,0,0,1],st,at,ut;if(st=$.match(_e)){for(ut=st[2],st=st[1],at=0;at<3;at++){var dt=at*2;rt[at]=parseInt(st.slice(dt,dt+2),16)}ut&&(rt[3]=parseInt(ut,16)/255)}else if(st=$.match(j)){for(st=st[1],ut=st[3],at=0;at<3;at++)rt[at]=parseInt(st[at]+st[at],16);ut&&(rt[3]=parseInt(ut+ut,16)/255)}else if(st=$.match(et)){for(at=0;at<3;at++)rt[at]=parseInt(st[at+1],0);st[4]&&(st[5]?rt[3]=parseFloat(st[4])*.01:rt[3]=parseFloat(st[4]))}else if(st=$.match(tt)){for(at=0;at<3;at++)rt[at]=Math.round(parseFloat(st[at+1])*2.55);st[4]&&(st[5]?rt[3]=parseFloat(st[4])*.01:rt[3]=parseFloat(st[4]))}else return(st=$.match(nt))?st[1]==="transparent"?[0,0,0,0]:hasOwnProperty$1.call(colorNames,st[1])?(rt=colorNames[st[1]],rt[3]=1,rt):null:null;for(at=0;at<3;at++)rt[at]=clamp$4(rt[at],0,255);return rt[3]=clamp$4(rt[3],0,1),rt};cs.get.hsl=function($){if(!$)return null;var j=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=$.match(j);if(_e){var et=parseFloat(_e[4]),tt=(parseFloat(_e[1])%360+360)%360,nt=clamp$4(parseFloat(_e[2]),0,100),rt=clamp$4(parseFloat(_e[3]),0,100),st=clamp$4(isNaN(et)?1:et,0,1);return[tt,nt,rt,st]}return null};cs.get.hwb=function($){if(!$)return null;var j=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=$.match(j);if(_e){var et=parseFloat(_e[4]),tt=(parseFloat(_e[1])%360+360)%360,nt=clamp$4(parseFloat(_e[2]),0,100),rt=clamp$4(parseFloat(_e[3]),0,100),st=clamp$4(isNaN(et)?1:et,0,1);return[tt,nt,rt,st]}return null};cs.to.hex=function(){var $=swizzle(arguments);return"#"+hexDouble($[0])+hexDouble($[1])+hexDouble($[2])+($[3]<1?hexDouble(Math.round($[3]*255)):"")};cs.to.rgb=function(){var $=swizzle(arguments);return $.length<4||$[3]===1?"rgb("+Math.round($[0])+", "+Math.round($[1])+", "+Math.round($[2])+")":"rgba("+Math.round($[0])+", "+Math.round($[1])+", "+Math.round($[2])+", "+$[3]+")"};cs.to.rgb.percent=function(){var $=swizzle(arguments),j=Math.round($[0]/255*100),_e=Math.round($[1]/255*100),et=Math.round($[2]/255*100);return $.length<4||$[3]===1?"rgb("+j+"%, "+_e+"%, "+et+"%)":"rgba("+j+"%, "+_e+"%, "+et+"%, "+$[3]+")"};cs.to.hsl=function(){var $=swizzle(arguments);return $.length<4||$[3]===1?"hsl("+$[0]+", "+$[1]+"%, "+$[2]+"%)":"hsla("+$[0]+", "+$[1]+"%, "+$[2]+"%, "+$[3]+")"};cs.to.hwb=function(){var $=swizzle(arguments),j="";return $.length>=4&&$[3]!==1&&(j=", "+$[3]),"hwb("+$[0]+", "+$[1]+"%, "+$[2]+"%"+j+")"};cs.to.keyword=function($){return reverseNames[$.slice(0,3)]};function clamp$4($,j,_e){return Math.min(Math.max(j,$),_e)}function hexDouble($){var j=Math.round($).toString(16).toUpperCase();return j.length<2?"0"+j:j}var colorStringExports=colorString$1.exports;const cssKeywords=colorName,reverseKeywords={};for(const $ of Object.keys(cssKeywords))reverseKeywords[cssKeywords[$]]=$;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const $ of Object.keys(convert$2)){if(!("channels"in convert$2[$]))throw new Error("missing channels property: "+$);if(!("labels"in convert$2[$]))throw new Error("missing channel labels property: "+$);if(convert$2[$].labels.length!==convert$2[$].channels)throw new Error("channel and label counts mismatch: "+$);const{channels:j,labels:_e}=convert$2[$];delete convert$2[$].channels,delete convert$2[$].labels,Object.defineProperty(convert$2[$],"channels",{value:j}),Object.defineProperty(convert$2[$],"labels",{value:_e})}convert$2.rgb.hsl=function($){const j=$[0]/255,_e=$[1]/255,et=$[2]/255,tt=Math.min(j,_e,et),nt=Math.max(j,_e,et),rt=nt-tt;let st,at;nt===tt?st=0:j===nt?st=(_e-et)/rt:_e===nt?st=2+(et-j)/rt:et===nt&&(st=4+(j-_e)/rt),st=Math.min(st*60,360),st<0&&(st+=360);const ut=(tt+nt)/2;return nt===tt?at=0:ut<=.5?at=rt/(nt+tt):at=rt/(2-nt-tt),[st,at*100,ut*100]};convert$2.rgb.hsv=function($){let j,_e,et,tt,nt;const rt=$[0]/255,st=$[1]/255,at=$[2]/255,ut=Math.max(rt,st,at),dt=ut-Math.min(rt,st,at),ot=function(lt){return(ut-lt)/6/dt+1/2};return dt===0?(tt=0,nt=0):(nt=dt/ut,j=ot(rt),_e=ot(st),et=ot(at),rt===ut?tt=et-_e:st===ut?tt=1/3+j-et:at===ut&&(tt=2/3+_e-j),tt<0?tt+=1:tt>1&&(tt-=1)),[tt*360,nt*100,ut*100]};convert$2.rgb.hwb=function($){const j=$[0],_e=$[1];let et=$[2];const tt=convert$2.rgb.hsl($)[0],nt=1/255*Math.min(j,Math.min(_e,et));return et=1-1/255*Math.max(j,Math.max(_e,et)),[tt,nt*100,et*100]};convert$2.rgb.cmyk=function($){const j=$[0]/255,_e=$[1]/255,et=$[2]/255,tt=Math.min(1-j,1-_e,1-et),nt=(1-j-tt)/(1-tt)||0,rt=(1-_e-tt)/(1-tt)||0,st=(1-et-tt)/(1-tt)||0;return[nt*100,rt*100,st*100,tt*100]};function comparativeDistance($,j){return($[0]-j[0])**2+($[1]-j[1])**2+($[2]-j[2])**2}convert$2.rgb.keyword=function($){const j=reverseKeywords[$];if(j)return j;let _e=1/0,et;for(const tt of Object.keys(cssKeywords)){const nt=cssKeywords[tt],rt=comparativeDistance($,nt);rt<_e&&(_e=rt,et=tt)}return et};convert$2.keyword.rgb=function($){return cssKeywords[$]};convert$2.rgb.xyz=function($){let j=$[0]/255,_e=$[1]/255,et=$[2]/255;j=j>.04045?((j+.055)/1.055)**2.4:j/12.92,_e=_e>.04045?((_e+.055)/1.055)**2.4:_e/12.92,et=et>.04045?((et+.055)/1.055)**2.4:et/12.92;const tt=j*.4124+_e*.3576+et*.1805,nt=j*.2126+_e*.7152+et*.0722,rt=j*.0193+_e*.1192+et*.9505;return[tt*100,nt*100,rt*100]};convert$2.rgb.lab=function($){const j=convert$2.rgb.xyz($);let _e=j[0],et=j[1],tt=j[2];_e/=95.047,et/=100,tt/=108.883,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,et=et>.008856?et**(1/3):7.787*et+16/116,tt=tt>.008856?tt**(1/3):7.787*tt+16/116;const nt=116*et-16,rt=500*(_e-et),st=200*(et-tt);return[nt,rt,st]};convert$2.hsl.rgb=function($){const j=$[0]/360,_e=$[1]/100,et=$[2]/100;let tt,nt,rt;if(_e===0)return rt=et*255,[rt,rt,rt];et<.5?tt=et*(1+_e):tt=et+_e-et*_e;const st=2*et-tt,at=[0,0,0];for(let ut=0;ut<3;ut++)nt=j+1/3*-(ut-1),nt<0&&nt++,nt>1&&nt--,6*nt<1?rt=st+(tt-st)*6*nt:2*nt<1?rt=tt:3*nt<2?rt=st+(tt-st)*(2/3-nt)*6:rt=st,at[ut]=rt*255;return at};convert$2.hsl.hsv=function($){const j=$[0];let _e=$[1]/100,et=$[2]/100,tt=_e;const nt=Math.max(et,.01);et*=2,_e*=et<=1?et:2-et,tt*=nt<=1?nt:2-nt;const rt=(et+_e)/2,st=et===0?2*tt/(nt+tt):2*_e/(et+_e);return[j,st*100,rt*100]};convert$2.hsv.rgb=function($){const j=$[0]/60,_e=$[1]/100;let et=$[2]/100;const tt=Math.floor(j)%6,nt=j-Math.floor(j),rt=255*et*(1-_e),st=255*et*(1-_e*nt),at=255*et*(1-_e*(1-nt));switch(et*=255,tt){case 0:return[et,at,rt];case 1:return[st,et,rt];case 2:return[rt,et,at];case 3:return[rt,st,et];case 4:return[at,rt,et];case 5:return[et,rt,st]}};convert$2.hsv.hsl=function($){const j=$[0],_e=$[1]/100,et=$[2]/100,tt=Math.max(et,.01);let nt,rt;rt=(2-_e)*et;const st=(2-_e)*tt;return nt=_e*tt,nt/=st<=1?st:2-st,nt=nt||0,rt/=2,[j,nt*100,rt*100]};convert$2.hwb.rgb=function($){const j=$[0]/360;let _e=$[1]/100,et=$[2]/100;const tt=_e+et;let nt;tt>1&&(_e/=tt,et/=tt);const rt=Math.floor(6*j),st=1-et;nt=6*j-rt,rt&1&&(nt=1-nt);const at=_e+nt*(st-_e);let ut,dt,ot;switch(rt){default:case 6:case 0:ut=st,dt=at,ot=_e;break;case 1:ut=at,dt=st,ot=_e;break;case 2:ut=_e,dt=st,ot=at;break;case 3:ut=_e,dt=at,ot=st;break;case 4:ut=at,dt=_e,ot=st;break;case 5:ut=st,dt=_e,ot=at;break}return[ut*255,dt*255,ot*255]};convert$2.cmyk.rgb=function($){const j=$[0]/100,_e=$[1]/100,et=$[2]/100,tt=$[3]/100,nt=1-Math.min(1,j*(1-tt)+tt),rt=1-Math.min(1,_e*(1-tt)+tt),st=1-Math.min(1,et*(1-tt)+tt);return[nt*255,rt*255,st*255]};convert$2.xyz.rgb=function($){const j=$[0]/100,_e=$[1]/100,et=$[2]/100;let tt,nt,rt;return tt=j*3.2406+_e*-1.5372+et*-.4986,nt=j*-.9689+_e*1.8758+et*.0415,rt=j*.0557+_e*-.204+et*1.057,tt=tt>.0031308?1.055*tt**(1/2.4)-.055:tt*12.92,nt=nt>.0031308?1.055*nt**(1/2.4)-.055:nt*12.92,rt=rt>.0031308?1.055*rt**(1/2.4)-.055:rt*12.92,tt=Math.min(Math.max(0,tt),1),nt=Math.min(Math.max(0,nt),1),rt=Math.min(Math.max(0,rt),1),[tt*255,nt*255,rt*255]};convert$2.xyz.lab=function($){let j=$[0],_e=$[1],et=$[2];j/=95.047,_e/=100,et/=108.883,j=j>.008856?j**(1/3):7.787*j+16/116,_e=_e>.008856?_e**(1/3):7.787*_e+16/116,et=et>.008856?et**(1/3):7.787*et+16/116;const tt=116*_e-16,nt=500*(j-_e),rt=200*(_e-et);return[tt,nt,rt]};convert$2.lab.xyz=function($){const j=$[0],_e=$[1],et=$[2];let tt,nt,rt;nt=(j+16)/116,tt=_e/500+nt,rt=nt-et/200;const st=nt**3,at=tt**3,ut=rt**3;return nt=st>.008856?st:(nt-16/116)/7.787,tt=at>.008856?at:(tt-16/116)/7.787,rt=ut>.008856?ut:(rt-16/116)/7.787,tt*=95.047,nt*=100,rt*=108.883,[tt,nt,rt]};convert$2.lab.lch=function($){const j=$[0],_e=$[1],et=$[2];let tt;tt=Math.atan2(et,_e)*360/2/Math.PI,tt<0&&(tt+=360);const rt=Math.sqrt(_e*_e+et*et);return[j,rt,tt]};convert$2.lch.lab=function($){const j=$[0],_e=$[1],tt=$[2]/360*2*Math.PI,nt=_e*Math.cos(tt),rt=_e*Math.sin(tt);return[j,nt,rt]};convert$2.rgb.ansi16=function($,j=null){const[_e,et,tt]=$;let nt=j===null?convert$2.rgb.hsv($)[2]:j;if(nt=Math.round(nt/50),nt===0)return 30;let rt=30+(Math.round(tt/255)<<2|Math.round(et/255)<<1|Math.round(_e/255));return nt===2&&(rt+=60),rt};convert$2.hsv.ansi16=function($){return convert$2.rgb.ansi16(convert$2.hsv.rgb($),$[2])};convert$2.rgb.ansi256=function($){const j=$[0],_e=$[1],et=$[2];return j===_e&&_e===et?j<8?16:j>248?231:Math.round((j-8)/247*24)+232:16+36*Math.round(j/255*5)+6*Math.round(_e/255*5)+Math.round(et/255*5)};convert$2.ansi16.rgb=function($){let j=$%10;if(j===0||j===7)return $>50&&(j+=3.5),j=j/10.5*255,[j,j,j];const _e=(~~($>50)+1)*.5,et=(j&1)*_e*255,tt=(j>>1&1)*_e*255,nt=(j>>2&1)*_e*255;return[et,tt,nt]};convert$2.ansi256.rgb=function($){if($>=232){const nt=($-232)*10+8;return[nt,nt,nt]}$-=16;let j;const _e=Math.floor($/36)/5*255,et=Math.floor((j=$%36)/6)/5*255,tt=j%6/5*255;return[_e,et,tt]};convert$2.rgb.hex=function($){const _e=(((Math.round($[0])&255)<<16)+((Math.round($[1])&255)<<8)+(Math.round($[2])&255)).toString(16).toUpperCase();return"000000".substring(_e.length)+_e};convert$2.hex.rgb=function($){const j=$.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!j)return[0,0,0];let _e=j[0];j[0].length===3&&(_e=_e.split("").map(st=>st+st).join(""));const et=parseInt(_e,16),tt=et>>16&255,nt=et>>8&255,rt=et&255;return[tt,nt,rt]};convert$2.rgb.hcg=function($){const j=$[0]/255,_e=$[1]/255,et=$[2]/255,tt=Math.max(Math.max(j,_e),et),nt=Math.min(Math.min(j,_e),et),rt=tt-nt;let st,at;return rt<1?st=nt/(1-rt):st=0,rt<=0?at=0:tt===j?at=(_e-et)/rt%6:tt===_e?at=2+(et-j)/rt:at=4+(j-_e)/rt,at/=6,at%=1,[at*360,rt*100,st*100]};convert$2.hsl.hcg=function($){const j=$[1]/100,_e=$[2]/100,et=_e<.5?2*j*_e:2*j*(1-_e);let tt=0;return et<1&&(tt=(_e-.5*et)/(1-et)),[$[0],et*100,tt*100]};convert$2.hsv.hcg=function($){const j=$[1]/100,_e=$[2]/100,et=j*_e;let tt=0;return et<1&&(tt=(_e-et)/(1-et)),[$[0],et*100,tt*100]};convert$2.hcg.rgb=function($){const j=$[0]/360,_e=$[1]/100,et=$[2]/100;if(_e===0)return[et*255,et*255,et*255];const tt=[0,0,0],nt=j%1*6,rt=nt%1,st=1-rt;let at=0;switch(Math.floor(nt)){case 0:tt[0]=1,tt[1]=rt,tt[2]=0;break;case 1:tt[0]=st,tt[1]=1,tt[2]=0;break;case 2:tt[0]=0,tt[1]=1,tt[2]=rt;break;case 3:tt[0]=0,tt[1]=st,tt[2]=1;break;case 4:tt[0]=rt,tt[1]=0,tt[2]=1;break;default:tt[0]=1,tt[1]=0,tt[2]=st}return at=(1-_e)*et,[(_e*tt[0]+at)*255,(_e*tt[1]+at)*255,(_e*tt[2]+at)*255]};convert$2.hcg.hsv=function($){const j=$[1]/100,_e=$[2]/100,et=j+_e*(1-j);let tt=0;return et>0&&(tt=j/et),[$[0],tt*100,et*100]};convert$2.hcg.hsl=function($){const j=$[1]/100,et=$[2]/100*(1-j)+.5*j;let tt=0;return et>0&&et<.5?tt=j/(2*et):et>=.5&&et<1&&(tt=j/(2*(1-et))),[$[0],tt*100,et*100]};convert$2.hcg.hwb=function($){const j=$[1]/100,_e=$[2]/100,et=j+_e*(1-j);return[$[0],(et-j)*100,(1-et)*100]};convert$2.hwb.hcg=function($){const j=$[1]/100,et=1-$[2]/100,tt=et-j;let nt=0;return tt<1&&(nt=(et-tt)/(1-tt)),[$[0],tt*100,nt*100]};convert$2.apple.rgb=function($){return[$[0]/65535*255,$[1]/65535*255,$[2]/65535*255]};convert$2.rgb.apple=function($){return[$[0]/255*65535,$[1]/255*65535,$[2]/255*65535]};convert$2.gray.rgb=function($){return[$[0]/100*255,$[0]/100*255,$[0]/100*255]};convert$2.gray.hsl=function($){return[0,0,$[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function($){return[0,100,$[0]]};convert$2.gray.cmyk=function($){return[0,0,0,$[0]]};convert$2.gray.lab=function($){return[$[0],0,0]};convert$2.gray.hex=function($){const j=Math.round($[0]/100*255)&255,et=((j<<16)+(j<<8)+j).toString(16).toUpperCase();return"000000".substring(et.length)+et};convert$2.rgb.gray=function($){return[($[0]+$[1]+$[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const $={},j=Object.keys(conversions$1);for(let _e=j.length,et=0;et<_e;et++)$[j[et]]={distance:-1,parent:null};return $}function deriveBFS($){const j=buildGraph(),_e=[$];for(j[$].distance=0;_e.length;){const et=_e.pop(),tt=Object.keys(conversions$1[et]);for(let nt=tt.length,rt=0;rt<nt;rt++){const st=tt[rt],at=j[st];at.distance===-1&&(at.distance=j[et].distance+1,at.parent=et,_e.unshift(st))}}return j}function link($,j){return function(_e){return j($(_e))}}function wrapConversion($,j){const _e=[j[$].parent,$];let et=conversions$1[j[$].parent][$],tt=j[$].parent;for(;j[tt].parent;)_e.unshift(j[tt].parent),et=link(conversions$1[j[tt].parent][tt],et),tt=j[tt].parent;return et.conversion=_e,et}var route$1=function($){const j=deriveBFS($),_e={},et=Object.keys(j);for(let tt=et.length,nt=0;nt<tt;nt++){const rt=et[nt];j[rt].parent!==null&&(_e[rt]=wrapConversion(rt,j))}return _e};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw($){const j=function(..._e){const et=_e[0];return et==null?et:(et.length>1&&(_e=et),$(_e))};return"conversion"in $&&(j.conversion=$.conversion),j}function wrapRounded($){const j=function(..._e){const et=_e[0];if(et==null)return et;et.length>1&&(_e=et);const tt=$(_e);if(typeof tt=="object")for(let nt=tt.length,rt=0;rt<nt;rt++)tt[rt]=Math.round(tt[rt]);return tt};return"conversion"in $&&(j.conversion=$.conversion),j}models.forEach($=>{convert$1[$]={},Object.defineProperty(convert$1[$],"channels",{value:conversions[$].channels}),Object.defineProperty(convert$1[$],"labels",{value:conversions[$].labels});const j=route($);Object.keys(j).forEach(et=>{const tt=j[et];convert$1[$][et]=wrapRounded(tt),convert$1[$][et].raw=wrapRaw(tt)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const $ of Object.keys(convert))hashedModelKeys[[...convert[$].labels].sort().join("")]=$;const limiters={};function Color($,j){if(!(this instanceof Color))return new Color($,j);if(j&&j in skippedModels&&(j=null),j&&!(j in convert))throw new Error("Unknown model: "+j);let _e,et;if($==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if($ instanceof Color)this.model=$.model,this.color=[...$.color],this.valpha=$.valpha;else if(typeof $=="string"){const tt=colorString.get($);if(tt===null)throw new Error("Unable to parse color from string: "+$);this.model=tt.model,et=convert[this.model].channels,this.color=tt.value.slice(0,et),this.valpha=typeof tt.value[et]=="number"?tt.value[et]:1}else if($.length>0){this.model=j||"rgb",et=convert[this.model].channels;const tt=Array.prototype.slice.call($,0,et);this.color=zeroArray(tt,et),this.valpha=typeof $[et]=="number"?$[et]:1}else if(typeof $=="number")this.model="rgb",this.color=[$>>16&255,$>>8&255,$&255],this.valpha=1;else{this.valpha=1;const tt=Object.keys($);"alpha"in $&&(tt.splice(tt.indexOf("alpha"),1),this.valpha=typeof $.alpha=="number"?$.alpha:0);const nt=tt.sort().join("");if(!(nt in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify($));this.model=hashedModelKeys[nt];const{labels:rt}=convert[this.model],st=[];for(_e=0;_e<rt.length;_e++)st.push($[rt[_e]]);this.color=zeroArray(st)}if(limiters[this.model])for(et=convert[this.model].channels,_e=0;_e<et;_e++){const tt=limiters[this.model][_e];tt&&(this.color[_e]=tt(this.color[_e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string($){let j=this.model in colorString.to?this:this.rgb();j=j.round(typeof $=="number"?$:1);const _e=j.valpha===1?j.color:[...j.color,this.valpha];return colorString.to[j.model](_e)},percentString($){const j=this.rgb().round(typeof $=="number"?$:1),_e=j.valpha===1?j.color:[...j.color,this.valpha];return colorString.to.rgb.percent(_e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const $={},{channels:j}=convert[this.model],{labels:_e}=convert[this.model];for(let et=0;et<j;et++)$[_e[et]]=this.color[et];return this.valpha!==1&&($.alpha=this.valpha),$},unitArray(){const $=this.rgb().color;return $[0]/=255,$[1]/=255,$[2]/=255,this.valpha!==1&&$.push(this.valpha),$},unitObject(){const $=this.rgb().object();return $.r/=255,$.g/=255,$.b/=255,this.valpha!==1&&($.alpha=this.valpha),$},round($){return $=Math.max($||0,0),new Color([...this.color.map(roundToPlace($)),this.valpha],this.model)},alpha($){return $!==void 0?new Color([...this.color,Math.max(0,Math.min(1,$))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,$=>($%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword($){return $!==void 0?new Color($):convert[this.model].keyword(this.color)},hex($){return $!==void 0?new Color($):colorString.to.hex(this.rgb().round().color)},hexa($){if($!==void 0)return new Color($);const j=this.rgb().round().color;let _e=Math.round(this.valpha*255).toString(16).toUpperCase();return _e.length===1&&(_e="0"+_e),colorString.to.hex(j)+_e},rgbNumber(){const $=this.rgb().color;return($[0]&255)<<16|($[1]&255)<<8|$[2]&255},luminosity(){const $=this.rgb().color,j=[];for(const[_e,et]of $.entries()){const tt=et/255;j[_e]=tt<=.04045?tt/12.92:((tt+.055)/1.055)**2.4}return .2126*j[0]+.7152*j[1]+.0722*j[2]},contrast($){const j=this.luminosity(),_e=$.luminosity();return j>_e?(j+.05)/(_e+.05):(_e+.05)/(j+.05)},level($){const j=this.contrast($);return j>=7?"AAA":j>=4.5?"AA":""},isDark(){const $=this.rgb().color;return($[0]*2126+$[1]*7152+$[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const $=this.rgb();for(let j=0;j<3;j++)$.color[j]=255-$.color[j];return $},lighten($){const j=this.hsl();return j.color[2]+=j.color[2]*$,j},darken($){const j=this.hsl();return j.color[2]-=j.color[2]*$,j},saturate($){const j=this.hsl();return j.color[1]+=j.color[1]*$,j},desaturate($){const j=this.hsl();return j.color[1]-=j.color[1]*$,j},whiten($){const j=this.hwb();return j.color[1]+=j.color[1]*$,j},blacken($){const j=this.hwb();return j.color[2]+=j.color[2]*$,j},grayscale(){const $=this.rgb().color,j=$[0]*.3+$[1]*.59+$[2]*.11;return Color.rgb(j,j,j)},fade($){return this.alpha(this.valpha-this.valpha*$)},opaquer($){return this.alpha(this.valpha+this.valpha*$)},rotate($){const j=this.hsl();let _e=j.color[0];return _e=(_e+$)%360,_e=_e<0?360+_e:_e,j.color[0]=_e,j},mix($,j){if(!$||!$.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof $);const _e=$.rgb(),et=this.rgb(),tt=j===void 0?.5:j,nt=2*tt-1,rt=_e.alpha()-et.alpha(),st=((nt*rt===-1?nt:(nt+rt)/(1+nt*rt))+1)/2,at=1-st;return Color.rgb(st*_e.red()+at*et.red(),st*_e.green()+at*et.green(),st*_e.blue()+at*et.blue(),_e.alpha()*tt+et.alpha()*(1-tt))}};for(const $ of Object.keys(convert)){if(skippedModels.includes($))continue;const{channels:j}=convert[$];Color.prototype[$]=function(..._e){return this.model===$?new Color(this):_e.length>0?new Color(_e,$):new Color([...assertArray(convert[this.model][$].raw(this.color)),this.valpha],$)},Color[$]=function(..._e){let et=_e[0];return typeof et=="number"&&(et=zeroArray(_e,j)),new Color(et,$)}}function roundTo($,j){return Number($.toFixed(j))}function roundToPlace($){return function(j){return roundTo(j,$)}}function getset($,j,_e){$=Array.isArray($)?$:[$];for(const et of $)(limiters[et]||(limiters[et]=[]))[j]=_e;return $=$[0],function(et){let tt;return et!==void 0?(_e&&(et=_e(et)),tt=this[$](),tt.color[j]=et,tt):(tt=this[$]().color[j],_e&&(tt=_e(tt)),tt)}}function maxfn($){return function(j){return Math.max(0,Math.min($,j))}}function assertArray($){return Array.isArray($)?$:[$]}function zeroArray($,j){for(let _e=0;_e<j;_e++)typeof $[_e]!="number"&&($[_e]=0);return $}var color=Color;const Color$1=getDefaultExportFromCjs(color);function convertColor($,j=!0){if(!$)return null;const _e=new Uint8Array(4);if(new DataView(_e.buffer).setInt32(0,$),j){const[st,at,ut,dt]=_e;return`rgba(${dt},${ut},${at},${st===1?1:st/255})`}const[,tt,nt,rt]=_e;return`rgb(${rt},${nt},${tt})`}function invertColor($){return Color$1($).negate().hex()}function getContrastColor($){const j=Color$1($),_e=j.red(),et=j.green(),tt=j.blue();return(_e*299+et*587+tt*114)/1e3>=128?"black":"white"}function defer$1(){let $,j;const _e=new Promise((et,tt)=>{$=et,j=tt});return{resolve:$,reject:j,promise:_e}}const hashString=$=>$.split("").reduce((j,_e)=>(j=(j<<5)-j+_e.charCodeAt(0),j&j),0);function prepareBaseUrl($){const j=new URL($);j.search="",j.hash="";const _e=j.toString();return _e.endsWith(j.hostname)?_e+"/":_e.slice(0,_e.lastIndexOf("/")+1)}const PROXY_URL="https://proxy.qspider.xyz/";function fetchProxyFallback($){return fetch($).catch(()=>fetch(PROXY_URL+window.btoa($)))}function throttle($,j){let _e,et;return function(...tt){return _e||(_e=!0,setTimeout(()=>_e=!1,j),et=$.apply(this,tt)),et}}function cleanPath($){return $.replace(/\\/g,"/")}typeof window<"u"&&typeof window.global>"u"&&(window.global=window);const ParserEND=1114112;class ParserError extends Error{constructor(j,_e,et){super("[ParserError] "+j,_e,et),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,ParserError)}}class State{constructor(j){this.parser=j,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}}class Parser{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new State(this.parseStart)}parse(j){if(j.length===0||j.length==null)return;this._buf=String(j),this.ii=-1,this.char=-1;let _e;for(;_e===!1||this.nextChar();)_e=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=ParserEND;let j;do j=this.state.parser,this.runOne();while(this.state.parser!==j);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(j){if(typeof j!="function")throw new ParserError("Tried to set state to non-existent state: "+JSON.stringify(j));this.state.parser=j}goto(j){return this.next(j),this.runOne()}call(j,_e){_e&&this.next(_e),this.stack.push(this.state),this.state=new State(j)}callNow(j,_e){return this.call(j,_e),this.runOne()}return(j){if(this.stack.length===0)throw this.error(new ParserError("Stack underflow"));j===void 0&&(j=this.state.buf),this.state=this.stack.pop(),this.state.returned=j}returnNow(j){return this.return(j),this.runOne()}consume(){if(this.char===ParserEND)throw this.error(new ParserError("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(j){return j.line=this.line,j.col=this.col,j.pos=this.pos,j}parseStart(){throw new ParserError("Must declare a parseStart method")}}Parser.END=ParserEND;Parser.Error=ParserError;const createDateTime=$=>{const j=new Date($);if(isNaN(j))throw new TypeError("Invalid Datetime");return j},f$1=($,j)=>{for(j=String(j);j.length<$;)j="0"+j;return j};class FloatingDateTime extends Date{constructor(j){super(j+"Z"),this.isFloating=!0}toISOString(){const j=`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`,_e=`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`;return`${j}T${_e}`}}const createDateTimeFloat=$=>{const j=new FloatingDateTime($);if(isNaN(j))throw new TypeError("Invalid Datetime");return j};class Date_ extends Date{constructor(j){super(j),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${f$1(2,this.getUTCMonth()+1)}-${f$1(2,this.getUTCDate())}`}}const createDate=$=>{const j=new Date_($);if(isNaN(j))throw new TypeError("Invalid Datetime");return j};class Time extends Date{constructor(j){super(`0000-01-01T${j}Z`),this.isTime=!0}toISOString(){return`${f$1(2,this.getUTCHours())}:${f$1(2,this.getUTCMinutes())}:${f$1(2,this.getUTCSeconds())}.${f$1(3,this.getUTCMilliseconds())}`}}const createTime=$=>{const j=new Time($);if(isNaN(j))throw new TypeError("Invalid Datetime");return j},TOMLParser=makeParserClass(Parser);class TomlError extends Error{constructor(j){super(j),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,TomlError),this.fromTOML=!0,this.wrapped=null}}TomlError.wrap=$=>{const j=new TomlError($.message);return j.code=$.code,j.wrapped=$,j};const CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit($){return $>=CHAR_0&&$<=CHAR_9}function isHexit($){return $>=CHAR_A&&$<=CHAR_F||$>=CHAR_a&&$<=CHAR_f||$>=CHAR_0&&$<=CHAR_9}function isBit($){return $===CHAR_1||$===CHAR_0}function isOctit($){return $>=CHAR_0&&$<=CHAR_7}function isAlphaNumQuoteHyphen($){return $>=CHAR_A&&$<=CHAR_Z||$>=CHAR_a&&$<=CHAR_z||$>=CHAR_0&&$<=CHAR_9||$===CHAR_APOS||$===CHAR_QUOT||$===CHAR_LOWBAR||$===CHAR_HYPHEN}function isAlphaNumHyphen($){return $>=CHAR_A&&$<=CHAR_Z||$>=CHAR_a&&$<=CHAR_z||$>=CHAR_0&&$<=CHAR_9||$===CHAR_LOWBAR||$===CHAR_HYPHEN}const _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey($,j){return hasOwnProperty.call($,j)?!0:(j==="__proto__"&&defineProperty($,"__proto__",descriptor),!1)}const INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable($){return $===null||typeof $!="object"?!1:$[_type]===INLINE_TABLE}const TABLE=Symbol("table");function Table$1(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable($){return $===null||typeof $!="object"?!1:$[_type]===TABLE}const _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList($){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:$}})}function isInlineList($){return $===null||typeof $!="object"?!1:$[_type]===INLINE_LIST}const LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList($){return $===null||typeof $!="object"?!1:$[_type]===LIST}let _custom;try{const utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch($){}const _inspect=_custom||"inspect";class BoxedBigInt{constructor(j){try{this.value=global.BigInt.asIntN(64,j)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}}const INTEGER=Symbol("integer");function Integer($){let j=Number($);return Object.is(j,-0)&&(j=0),global.BigInt&&!Number.isSafeInteger(j)?new BoxedBigInt($):Object.defineProperties(new Number(j),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${$}]`}})}function isInteger($){return $===null||typeof $!="object"?!1:$[_type]===INTEGER}const FLOAT=Symbol("float");function Float($){return Object.defineProperties(new Number($),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${$}]`}})}function isFloat($){return $===null||typeof $!="object"?!1:$[_type]===FLOAT}function tomlType($){const j=typeof $;if(j==="object"){if($===null)return"null";if($ instanceof Date)return"datetime";if(_type in $)switch($[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return j}function makeParserClass($){class j extends ${constructor(){super(),this.ctx=this.obj=Table$1()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===$.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===$.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===$.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(et){let tt=this.ctx,nt=et.key.pop();for(let rt of et.key){if(hasKey(tt,rt)&&!isTable(tt[rt]))throw this.error(new TomlError("Can't redefine existing key"));tt=tt[rt]=tt[rt]||Table$1()}if(hasKey(tt,nt))throw this.error(new TomlError("Can't redefine existing key"));return tt[_declared]=!0,isInteger(et.value)||isFloat(et.value)?tt[nt]=et.value.valueOf():tt[nt]=et.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(et){return this.state.resultTable?this.state.resultTable.push(et):this.state.resultTable=[et],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(et){return this.returnNow({key:this.state.resultTable,value:et})}parseComment(){do{if(this.char===$.END||this.char===CTRL_J)return this.return();if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("comments")}while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(et){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,et)&&(!isTable(this.ctx[et])||this.ctx[et][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[et]=this.ctx[et]||Table$1(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,et))this.ctx=this.ctx[et]=Table$1();else if(isTable(this.ctx[et]))this.ctx=this.ctx[et];else if(isList(this.ctx[et]))this.ctx=this.ctx[et][this.ctx[et].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(et){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,et)||(this.ctx[et]=List()),isInlineList(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[et])){const tt=Table$1();this.ctx[et].push(tt),this.ctx=tt}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,et))this.ctx=this.ctx[et]=Table$1();else{if(isInlineList(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[et]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[et]))this.ctx=this.ctx[et][this.ctx[et].length-1];else if(isTable(this.ctx[et]))this.ctx=this.ctx[et];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(et){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===$.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(et){return this.returnNow(et)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===$.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===$.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd3):(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd3(){return this.char===CHAR_APOS?(this.state.buf+="'",this.next(this.parseLiteralMultiEnd4)):this.returnNow()}parseLiteralMultiEnd4(){return this.char===CHAR_APOS?(this.state.buf+="'",this.return()):this.returnNow()}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}recordEscapeReplacement(et){return this.state.buf+=et,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===$.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}errorControlCharIn(et){let tt="\\u00";return this.char<16&&(tt+="0"),tt+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in ${et}, use ${tt} instead`))}recordMultiEscapeReplacement(et){return this.state.buf+=et,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd3):(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEnd3(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.next(this.parseMultiEnd4)):this.returnNow()}parseMultiEnd4(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.return()):this.returnNow()}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(et){try{const tt=parseInt(et,16);if(tt>=SURROGATE_FIRST&&tt<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(tt))}catch(tt){throw this.error(TomlError.wrap(tt))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{const et=Integer(this.state.buf);if(et.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(et)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===$.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(et){return this.state.resultArr||(this.state.resultArr=InlineList(tomlType(et))),isFloat(et)||isInteger(et)?this.state.resultArr.push(et.valueOf()):this.state.resultArr.push(et),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===$.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(et){let tt=this.state.resultTable,nt=et.key.pop();for(let rt of et.key){if(hasKey(tt,rt)&&(!isTable(tt[rt])||tt[rt][_declared]))throw this.error(new TomlError("Can't redefine existing key"));tt=tt[rt]=tt[rt]||Table$1()}if(hasKey(tt,nt))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(et.value)||isFloat(et.value)?tt[nt]=et.value.valueOf():tt[nt]=et.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===$.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTablePostComma);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTablePostComma(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===$.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)throw this.error(new TomlError("Empty elements in inline tables are not permitted"));if(this.char===CHAR_RCUB)throw this.error(new TomlError("Trailing commas in inline tables are not permitted"));return this.goto(this.parseInlineTable)}}return j}function prettyError($,j){if($.pos==null||$.line==null)return $;let _e=$.message;if(_e+=` at row ${$.line+1}, col ${$.col+1}, pos ${$.pos}:
`,j&&j.split){const et=j.split(/\n/),tt=String(Math.min(et.length,$.line+3)).length;let nt=" ";for(;nt.length<tt;)nt+=" ";for(let rt=Math.max(0,$.line-1);rt<Math.min(et.length,$.line+2);++rt){let st=String(rt+1);if(st.length<tt&&(st=" "+st),$.line===rt){_e+=st+"> "+et[rt]+`
`,_e+=nt+"  ";for(let at=0;at<$.col;++at)_e+=" ";_e+=`^
`}else _e+=st+": "+et[rt]+`
`}}return $.message=_e+`
`,$}function parseString($){global.Buffer&&global.Buffer.isBuffer($)&&($=$.toString("utf8"));const j=new TOMLParser;try{return j.parse($),j.finish()}catch(_e){throw prettyError(_e,$)}}const parse$1=parseString;function parseToml($){return $=$.replaceAll(/\r/gi,`
`),parse$1($)}const scriptRel="modulepreload",assetsURL=function($,j){return new URL($,j).href},seen={},__vitePreload=function $(j,_e,et){let tt=Promise.resolve();if(_e&&_e.length>0){const rt=document.getElementsByTagName("link"),st=document.querySelector("meta[property=csp-nonce]"),at=(st==null?void 0:st.nonce)||(st==null?void 0:st.getAttribute("nonce"));tt=Promise.allSettled(_e.map(ut=>{if(ut=assetsURL(ut,et),ut in seen)return;seen[ut]=!0;const dt=ut.endsWith(".css"),ot=dt?'[rel="stylesheet"]':"";if(!!et)for(let ht=rt.length-1;ht>=0;ht--){const vt=rt[ht];if(vt.href===ut&&(!dt||vt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ut}"]${ot}`))return;const ft=document.createElement("link");if(ft.rel=dt?"stylesheet":scriptRel,dt||(ft.as="script"),ft.crossOrigin="",ft.href=ut,at&&ft.setAttribute("nonce",at),document.head.appendChild(ft),dt)return new Promise((ht,vt)=>{ft.addEventListener("load",ht),ft.addEventListener("error",()=>vt(new Error(`Unable to preload CSS for ${ut}`)))})}))}function nt(rt){const st=new Event("vite:preloadError",{cancelable:!0});if(st.payload=rt,window.dispatchEvent(st),!st.defaultPrevented)throw rt}return tt.then(rt=>{for(const st of rt||[])st.status==="rejected"&&nt(st.reason);return j().catch(nt)})};var t$2,e$1;(function($){$[$.ACTS=0]="ACTS",$[$.OBJS=1]="OBJS",$[$.STAT=2]="STAT",$[$.INPUT=3]="INPUT"})(t$2||(t$2={})),function($){$[$.DEBUG=0]="DEBUG",$[$.ISPLAYINGFILE=1]="ISPLAYINGFILE",$[$.PLAYFILE=2]="PLAYFILE",$[$.CLOSEFILE=3]="CLOSEFILE",$[$.SHOWIMAGE=4]="SHOWIMAGE",$[$.SHOWWINDOW=5]="SHOWWINDOW",$[$.SHOWMENU=6]="SHOWMENU",$[$.SHOWMSGSTR=7]="SHOWMSGSTR",$[$.REFRESHINT=8]="REFRESHINT",$[$.SETTIMER=9]="SETTIMER",$[$.SETINPUTSTRTEXT=10]="SETINPUTSTRTEXT",$[$.SYSTEM=11]="SYSTEM",$[$.OPENGAME=12]="OPENGAME",$[$.OPENGAMESTATUS=13]="OPENGAMESTATUS",$[$.SAVEGAMESTATUS=14]="SAVEGAMESTATUS",$[$.SLEEP=15]="SLEEP",$[$.GETMSCOUNT=16]="GETMSCOUNT",$[$.INPUTBOX=17]="INPUTBOX",$[$.VERSION=18]="VERSION",$[$.DUMMY=19]="DUMMY"}(e$1||(e$1={}));const i=4;function s$1($){return $._malloc(i)}function n$2($,j){return g($,j)}function o$1($,j=1){return $+i*j}function r$2($,j){$._free(j)}function a($,j){return g($,j)}function h($,j){const _e=n$2($,j);return _e?function(et,tt,nt){let rt=0;const st=[];for(;!(rt>=nt/4);){const at=et.HEAP32[tt+4*rt>>2];if(at==0)break;if(++rt,at>=65536){const ut=at-65536;st.push(String.fromCharCode(55296|ut>>10,56320|1023&ut))}else st.push(String.fromCharCode(at))}return st.join("")}($,_e,n$2($,o$1(j))-_e):""}function l($,j){const _e=function(tt){let nt=0;for(let rt=0;rt<tt.length;++rt){const st=tt.charCodeAt(rt);st>=55296&&st<=57343&&++rt,nt+=4}return nt}(j),et=$._malloc(_e+4);return _($,j,et,_e+4),et}function u($,j){const _e=function(tt){return tt._malloc(2*i)}($);j(_e);const et=h($,_e);return r$2($,_e),et}function c($,j,_e){const et=l($,j);_e(et),$._free(et)}function d($,j){const _e=s$1($),et=j(_e),tt=f($,et,a($,_e));return $._freeItemsList(et),r$2($,_e),tt}function m($,j){const _e=s$1($),et=j(_e),tt=function(nt,rt,st){const at=[];let ut=rt;for(let dt=0;dt<st;++dt){const ot=h(nt,ut);ut=o$1(ut,2),at.push(ot)}return at}($,et,a($,_e));return $._freeStringsBuffer(et),r$2($,_e),tt}function S($,j,_e){const et=new Uint8Array(j),tt=$._malloc(et.length);$.HEAPU8.set(et,tt),_e(tt,et.length),$._free(tt)}function f($,j,_e){const et=[];let tt=j;for(let nt=0;nt<_e;nt++){const rt=h($,tt);tt=o$1(tt,2);const st=h($,tt);tt=o$1(tt,2),et.push({name:st,image:rt})}return et}function E($,j){return $.Asyncify.handleSleep(_e=>{j(et=>_e(et||0))})}function g($,j){return $.HEAP32[j>>2]}function _($,j,_e,et=2147483647){if(et<4)return 0;const tt=_e,nt=tt+et-4;for(let rt=0;rt<j.length;++rt){let st=j.charCodeAt(rt);if(st>=55296&&st<=57343&&(st=65536+((1023&st)<<10)|1023&j.charCodeAt(++rt)),$.HEAP32[_e>>2]=st,(_e+=4)+4>nt)break}return $.HEAP32[_e>>2]=0,_e-tt}const T=0,b=1,I=2,A=5;function C($,j,_e){const et=function(nt){return nt._malloc(3*i)}($);_e(et);const tt=M($,et,j);return r$2($,et),tt}function M($,j,_e){switch(function(tt,nt){return tt.HEAP8[nt]}($,o$1(j,2))){case T:return _e?_e.startsWith("%")?p($,j):_e.startsWith("$")?"":0:p($,j);case b:return _e?_e.startsWith("%")?[]:_e.startsWith("$")?"":g($,j):g($,j);case I:return _e?_e.startsWith("%")?[]:_e.startsWith("$")?h($,j):0:h($,j);case A:if(_e)return _e.startsWith("%")?[]:_e.startsWith("$")?"":0}return""}function p($,j){const _e=[],et=n$2($,j),tt=g($,o$1(j));for(let nt=0;nt<tt;++nt)_e.push(M($,o$1(et,3*nt)));return _e}class O{constructor(j){this.module=j,this.listeners=new Map,this.variableWatchers=new Set,this.variableValues=new Map,this.time=Date.now(),this.staticStrings=new Map,this.onError=()=>{const _e=function(tt){return tt._malloc(10*i)}(this.module);this.module._getLastError(_e);const et=function(tt,nt){return{errorCode:g(tt,nt),description:h(tt,o$1(nt)),location:h(tt,o$1(nt,3)),actionIndex:g(tt,o$1(nt,5)),line:g(tt,o$1(nt,6)),localLine:g(tt,o$1(nt,7)),lineSrc:h(tt,o$1(nt,8))}}(this.module,_e);et.errorCode>0&&this.emit("error",et),this.module._free(_e)},this.onRefresh=_e=>{if(_e||this.module._isMainDescChanged()){const et=u(this.module,tt=>this.module._getMainDesc(tt));this.emit("main_changed",et)}if(_e||this.module._isVarsDescChanged()){const et=u(this.module,tt=>this.module._getVarsDesc(tt));this.emit("stats_changed",et)}if(_e||this.module._isActionsChanged()){const et=d(this.module,tt=>this.module._getActions(tt));this.emit("actions_changed",et)}if(_e||this.module._isObjectsChanged()){const et=d(this.module,tt=>this.module._getObjects(tt));this.emit("objects_changed",et)}setTimeout(()=>this.reportWatched(),0)},this.onShowWindow=(_e,et)=>{this.emit("panel_visibility",_e,et)},this.onMenu=(_e,et)=>{const tt=f(this.module,_e,et);return E(this.module,nt=>{this.emit("menu",tt,rt=>{nt(rt)})})},this.onMsg=_e=>{const et=h(this.module,_e);return E(this.module,tt=>{this.emit("msg",et,()=>{tt()})})},this.onInput=(_e,et,tt)=>{const nt=h(this.module,_e);return E(this.module,rt=>{this.emit("input",nt,st=>{_(this.module,st,et,tt),rt()})})},this.onVersion=(_e,et,tt)=>{const nt=h(this.module,_e);return E(this.module,rt=>{this.emit("version",nt,st=>{_(this.module,st,et,tt),rt()})})},this.onWait=_e=>E(this.module,et=>{this.emit("wait",_e,()=>{et()})}),this.onSetTimer=_e=>{this.emit("timer",_e)},this.onSetUserInput=_e=>{const et=h(this.module,_e);this.emit("user_input",et)},this.onView=_e=>{const et=h(this.module,_e);this.emit("view",et)},this.onDebug=_e=>{const et=h(this.module,_e),tt=s$1(this.module),nt=s$1(this.module),rt=u(this.module,ut=>this.module._getCurStateData(ut,tt,nt)),st=n$2(this.module,nt);this.module._free(nt);const at=n$2(this.module,tt);return this.module._free(tt),E(this.module,ut=>{this.emit("debug",{code:et,loc:rt,line:st,actIndex:at},ut)})},this.onSystemCmd=_e=>{this.onRefresh(!1);const et=h(this.module,_e);this.emit("system_cmd",et)},this.onGetMS=()=>{const _e=Date.now()-this.time;return this.time=Date.now(),_e},this.onOpenGame=(_e,et)=>{const tt=h(this.module,_e);return E(this.module,nt=>{this.emit("open_game",tt,et,()=>{nt()})})},this.onOpenGameStatus=_e=>{const et=h(this.module,_e);return E(this.module,tt=>{this.emit("load_save",et,()=>{tt()})})},this.onSaveGameStatus=_e=>{const et=h(this.module,_e);return E(this.module,tt=>{this.emit("save_game",et,()=>{tt()})})},this.onIsPlay=_e=>{const et=h(this.module,_e);return E(this.module,tt=>{this.emit("is_play",et,nt=>{tt(nt?1:0)})})},this.onPlayFile=(_e,et)=>{const tt=h(this.module,_e);return E(this.module,nt=>{this.emit("play_file",tt,et,()=>{nt()})})},this.onCloseFile=_e=>{const et=h(this.module,_e);return E(this.module,tt=>{this.emit("close_file",et,()=>{tt()})})},this.init()}on(j,_e){var et;const tt=(et=this.listeners.get(j))!==null&&et!==void 0?et:[];tt.push(_e),this.listeners.set(j,tt)}off(j,_e){var et;let tt=(et=this.listeners.get(j))!==null&&et!==void 0?et:[];tt=tt.filter(nt=>nt!==_e),tt.length?this.listeners.set(j,tt):this.listeners.delete(j)}watchVariable(j,_e){let et=this.readVariable(j);_e(et);const tt=()=>{const nt=this.readVariable(j);et!==nt&&(et=nt,_e(et))};return this.variableWatchers.add(tt),()=>{this.variableWatchers.delete(tt)}}watchVariableByIndex(j,_e,et){let tt=this.readVariableByIndex(j,_e);et(tt);const nt=()=>{const rt=this.readVariableByIndex(j,_e);tt!==rt&&(tt=rt,et(tt))};return this.variableWatchers.add(nt),()=>{this.variableWatchers.delete(nt)}}watchVariableByKey(j,_e,et){let tt=this.readVariableByKey(j,_e);et(tt);const nt=()=>{const rt=this.readVariableByKey(j,_e);tt!==rt&&(tt=rt,et(tt))};return this.variableWatchers.add(nt),()=>{this.variableWatchers.delete(nt)}}emit(j,..._e){var et;console.log({event:j,args:_e});const tt=(et=this.listeners.get(j))!==null&&et!==void 0?et:[];for(const nt of tt)nt(..._e)}openGame(j,_e){_e&&this._cleanup(),S(this.module,j,(et,tt)=>this.module._loadGameData(et,tt,_e?1:0))}saveGame(){return function(_e,et){const tt=s$1(_e),nt=et(tt),rt=g(_e,tt);if(!rt)return r$2(_e,tt),null;const st=_e.HEAPU8.slice(nt,nt+rt);return _e._freeSaveBuffer(nt),r$2(_e,tt),st.buffer}(this.module,_e=>this.module._saveGameData(_e))||(this.onError(),null)}loadSave(j){S(this.module,j,(_e,et)=>this.module._loadSavedGameData(_e,et))}restartGame(){this.time=Date.now(),this.module._restartGame()}selectAction(j){this.module._selectAction(j)}execSelectedAction(){this.module._executeSelAction()}selectObject(j){this.module._selectObject(j)}version(){return u(this.module,j=>this.module._getVersion(j))}getStaticStringPointer(j){const _e=j.toLocaleUpperCase(),et=this.staticStrings.get(_e);if(et)return et;const tt=l(this.module,j);return this.staticStrings.set(_e,tt),tt}readVariable(j,_e=!1){const et=j.toUpperCase(),tt=`${et}[0]`;if(_e&&this.variableValues.has(tt))return this.variableValues.get(tt);const nt=this.getStaticStringPointer(et),rt=C(this.module,j,st=>this.module._getVarValue(nt,st));return this.variableValues.set(tt,rt),rt}readVariableByIndex(j,_e,et=!1){const tt=j.toUpperCase(),nt=`${tt}[${_e}]`;if(et&&this.variableValues.has(nt))return this.variableValues.get(nt);const rt=this.getStaticStringPointer(tt),st=C(this.module,j,at=>this.module._getVarValueByIndex(rt,_e,at));return this.variableValues.set(nt,st),st}readVariableByKey(j,_e,et=!1){const tt=j.toUpperCase(),nt=`${tt}["${_e}"]`;if(et&&this.variableValues.has(nt))return this.variableValues.get(nt);const rt=this.getStaticStringPointer(tt),st=this.getStaticStringPointer(_e),at=C(this.module,j,ut=>this.module._getVarValueByKey(rt,st,ut));return this.variableValues.set(nt,at),at}readVariableSize(j){const _e=this.getStaticStringPointer(j.toLocaleUpperCase());return this.module._getVarSize(_e)}execCode(j,_e=!0){c(this.module,j,et=>this.module._execString(et,_e?1:0))}execCounter(){this.module._execCounter()}execLoc(j){c(this.module,j,_e=>this.module._execLoc(_e))}updateUserInput(j){c(this.module,j,_e=>this.module._execUserInput(_e))}enableDebugMode(){this.module._enableDebugMode()}disableDebugMode(){this.module._disableDebugMode()}getLocationsList(){return m(this.module,j=>this.module._getLocationsList(j))}getLocationCode(j){const _e=this.getStaticStringPointer(j);return m(this.module,et=>this.module._getLocationCode(_e,et))}getActionCode(j,_e){const et=this.getStaticStringPointer(j);return m(this.module,tt=>this.module._getActionCode(et,_e,tt))}init(){this.module._init(),this.registerCallbacks()}registerCallbacks(){this.module._setErrorCallback(this.module.addFunction(this.onError,"i"));const j=[[e$1.REFRESHINT,this.onRefresh,"ii"],[e$1.SHOWWINDOW,this.onShowWindow,"iii"],[e$1.SHOWMENU,this.onMenu,"iii"],[e$1.SHOWMSGSTR,this.onMsg,"ii"],[e$1.INPUTBOX,this.onInput,"iiii"],[e$1.SLEEP,this.onWait,"ii"],[e$1.SETTIMER,this.onSetTimer,"ii"],[e$1.SETINPUTSTRTEXT,this.onSetUserInput,"ii"],[e$1.SHOWIMAGE,this.onView,"ii"],[e$1.DEBUG,this.onDebug,"ii"],[e$1.GETMSCOUNT,this.onGetMS,"i"],[e$1.OPENGAME,this.onOpenGame,"iii"],[e$1.OPENGAMESTATUS,this.onOpenGameStatus,"ii"],[e$1.SAVEGAMESTATUS,this.onSaveGameStatus,"ii"],[e$1.ISPLAYINGFILE,this.onIsPlay,"ii"],[e$1.PLAYFILE,this.onPlayFile,"iii"],[e$1.CLOSEFILE,this.onCloseFile,"ii"],[e$1.SYSTEM,this.onSystemCmd,"ii"],[e$1.VERSION,this.onVersion,"iiii"]];for(const[_e,et,tt]of j)this.registerCallback(_e,et,tt)}registerCallback(j,_e,et){this.module._setCallback(j,this.module.addFunction(_e,et))}clearCache(){this.variableValues.clear()}_run_checks(){this.module.__run_checks()}_cleanup(){this.clearCache(),this.variableWatchers.clear();for(const j of this.staticStrings.values())this.module._free(j);this.staticStrings.clear()}reportWatched(){this.clearCache();for(const j of this.variableWatchers.values())j()}toJSON(){return"[QSP API]"}}var t$1,r$1=(t$1=import.meta.url,async function($={}){var j,_e,et=$,tt=new Promise((Rt,Wt)=>{j=Rt,_e=Wt}),nt=typeof window=="object",rt=typeof importScripts=="function",st=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(st){const{createRequire:Rt}=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url);var at=Rt(import.meta.url)}var ut,dt,ot=Object.assign({},et),lt="./this.program",ft=(Rt,Wt)=>{throw Wt},ht="";if(st){var vt=at("fs"),bt=at("path");ht=at("url").fileURLToPath(new URL("./",import.meta.url)),dt=Rt=>(Rt=sn(Rt)?new URL(Rt):bt.normalize(Rt),vt.readFileSync(Rt)),ut=(Rt,Wt=!0)=>(Rt=sn(Rt)?new URL(Rt):bt.normalize(Rt),new Promise((cn,mn)=>{vt.readFile(Rt,Wt?void 0:"utf8",(In,An)=>{In?mn(In):cn(Wt?An.buffer:An)})})),!et.thisProgram&&process.argv.length>1&&(lt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),ft=(Rt,Wt)=>{throw process.exitCode=Rt,Wt}}else(nt||rt)&&(rt?ht=self.location.href:typeof document<"u"&&document.currentScript&&(ht=document.currentScript.src),t$1&&(ht=t$1),ht=ht.startsWith("blob:")?"":ht.substr(0,ht.replace(/[?#].*/,"").lastIndexOf("/")+1),rt&&(dt=Rt=>{var Wt=new XMLHttpRequest;return Wt.open("GET",Rt,!1),Wt.responseType="arraybuffer",Wt.send(null),new Uint8Array(Wt.response)}),ut=Rt=>sn(Rt)?new Promise((Wt,cn)=>{var mn=new XMLHttpRequest;mn.open("GET",Rt,!0),mn.responseType="arraybuffer",mn.onload=()=>{mn.status==200||mn.status==0&&mn.response?Wt(mn.response):cn(mn.status)},mn.onerror=cn,mn.send(null)}):fetch(Rt,{credentials:"same-origin"}).then(Wt=>Wt.ok?Wt.arrayBuffer():Promise.reject(new Error(Wt.status+" : "+Wt.url))));et.print||console.log.bind(console);var mt=et.printErr||console.error.bind(console);Object.assign(et,ot),ot=null,et.arguments&&et.arguments,et.thisProgram&&(lt=et.thisProgram);var xt,Et,At,kt,Lt,wt,Pt=et.wasmBinary,Bt=!1;function Vt(){var Rt=xt.buffer;et.HEAP8=At=new Int8Array(Rt),et.HEAP16=new Int16Array(Rt),et.HEAPU8=kt=new Uint8Array(Rt),et.HEAPU16=new Uint16Array(Rt),et.HEAP32=Lt=new Int32Array(Rt),et.HEAPU32=wt=new Uint32Array(Rt),et.HEAPF32=new Float32Array(Rt),et.HEAPF64=new Float64Array(Rt)}function Xt(){if(!Bt){var Rt=cr();Rt==0&&(Rt+=4);var Wt=wt[Rt>>2],cn=wt[Rt+4>>2];Wt==34821223&&cn==2310721022||hn(`Stack overflow! Stack cookie has been overwritten at ${nn(Rt)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${nn(cn)} ${nn(Wt)}`),wt[0]!=1668509029&&hn("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var pn=[],En=[],Yt=[],rn=0,on=null;function hn(Rt){var cn;(cn=et.onAbort)==null||cn.call(et,Rt),mt(Rt="Aborted("+Rt+")"),Bt=!0,Et=1,Rt+=". Build with -sASSERTIONS for more info.";var Wt=new WebAssembly.RuntimeError(Rt);throw _e(Wt),Wt}var Kt,Qt=Rt=>Rt.startsWith("data:application/octet-stream;base64,"),sn=Rt=>Rt.startsWith("file://");function tn(){if(et.locateFile){var Rt="qsp-engine.wasm";return Qt(Rt)?Rt:(Wt=Rt,et.locateFile?et.locateFile(Wt,ht):ht+Wt)}var Wt;return new URL(""+new URL("qsp-engine-KgPHYqd2.wasm",import.meta.url).href,import.meta.url).href}function dn(Rt){if(Rt==Kt&&Pt)return new Uint8Array(Pt);if(dt)return dt(Rt);throw"both async and sync fetching of the wasm failed"}function wn(Rt,Wt,cn){return function(mn){return Pt?Promise.resolve().then(()=>dn(mn)):ut(mn).then(In=>new Uint8Array(In),()=>dn(mn))}(Rt).then(mn=>WebAssembly.instantiate(mn,Wt)).then(cn,mn=>{mt(`failed to asynchronously prepare wasm: ${mn}`),hn(mn)})}function bn(Rt){this.name="ExitStatus",this.message=`Program terminated with exit(${Rt})`,this.status=Rt}var _n,Sn,yn=Rt=>{for(;Rt.length>0;)Rt.shift()(et)},Mn=et.noExitRuntime||!0,nn=Rt=>"0x"+(Rt>>>=0).toString(16).padStart(8,"0"),Bn=()=>{var Rt=vr(),Wt=cr();gn(Rt,Wt)},tr=Rt=>{var Wt=(Rt-xt.buffer.byteLength+65535)/65536;try{return xt.grow(Wt),Vt(),1}catch{}},kn={},Kn=()=>{if(!Kn.strings){var Rt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:lt||"./this.program"};for(var Wt in kn)kn[Wt]===void 0?delete Rt[Wt]:Rt[Wt]=kn[Wt];var cn=[];for(var Wt in Rt)cn.push(`${Wt}=${Rt[Wt]}`);Kn.strings=cn}return Kn.strings},lr=Rt=>{try{return Rt()}catch(Wt){hn(Wt)}},Zn=Rt=>{if(Rt instanceof bn||Rt=="unwind")return Et;Xt(),Rt instanceof WebAssembly.RuntimeError&&nr()<=0&&mt("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 5242880)"),ft(1,Rt)},Nr=()=>Mn||!1,Vr=(Rt,Wt)=>{var mn;var cn;Et=Rt,Et=cn=Rt,Nr()||((mn=et.onExit)==null||mn.call(et,cn),Bt=!0),ft(cn,new bn(cn))},qr=Rt=>{if(!Bt)try{Rt(),(()=>{if(!Nr())try{Vr(Et)}catch(Wt){Zn(Wt)}})()}catch(Wt){Zn(Wt)}},xn={instrumentWasmImports(Rt){var Wt=/^(invoke_.*|__asyncjs__.*)$/;for(let[cn,mn]of Object.entries(Rt))typeof mn=="function"&&(mn.isAsync||Wt.test(cn))},instrumentWasmExports(Rt){var Wt={};for(let[cn,mn]of Object.entries(Rt))Wt[cn]=typeof mn=="function"?(...In)=>{xn.exportCallStack.push(cn);try{return mn(...In)}finally{Bt||(xn.exportCallStack.pop(),xn.maybeStopUnwind())}}:mn;return Wt},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:16384,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(Rt){var Wt=xn.callStackNameToId[Rt];return Wt===void 0&&(Wt=xn.callStackId++,xn.callStackNameToId[Rt]=Wt,xn.callStackIdToName[Wt]=Rt),Wt},maybeStopUnwind(){xn.currData&&xn.state===xn.State.Unwinding&&xn.exportCallStack.length===0&&(xn.state=xn.State.Normal,lr(or),typeof Fibers<"u"&&Fibers.trampoline())},whenDone:()=>new Promise((Rt,Wt)=>{xn.asyncPromiseHandlers={resolve:Rt,reject:Wt}}),allocateData(){var Rt=gr(12+xn.StackSize);return xn.setDataHeader(Rt,Rt+12,xn.StackSize),xn.setDataRewindFunc(Rt),Rt},setDataHeader(Rt,Wt,cn){wt[Rt>>2]=Wt,wt[Rt+4>>2]=Wt+cn},setDataRewindFunc(Rt){var Wt=xn.exportCallStack[0],cn=xn.getCallStackId(Wt);Lt[Rt+8>>2]=cn},getDataRewindFuncName(Rt){var Wt=Lt[Rt+8>>2];return xn.callStackIdToName[Wt]},getDataRewindFunc:Rt=>vn[Rt],doRewind(Rt){var Wt=xn.getDataRewindFuncName(Rt);return xn.getDataRewindFunc(Wt)()},handleSleep(Rt){if(!Bt){if(xn.state===xn.State.Normal){var Wt=!1,cn=!1;Rt((mn=0)=>{if(!Bt&&(xn.handleSleepReturnValue=mn,Wt=!0,cn)){xn.state=xn.State.Rewinding,lr(()=>Rr(xn.currData)),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.resume();var In,An=!1;try{In=xn.doRewind(xn.currData)}catch(Un){In=Un,An=!0}var On=!1;if(!xn.currData){var Dn=xn.asyncPromiseHandlers;Dn&&(xn.asyncPromiseHandlers=null,(An?Dn.reject:Dn.resolve)(In),On=!0)}if(An&&!On)throw In}}),cn=!0,Wt||(xn.state=xn.State.Unwinding,xn.currData=xn.allocateData(),typeof Browser<"u"&&Browser.mainLoop.func&&Browser.mainLoop.pause(),lr(()=>yr(xn.currData)))}else xn.state===xn.State.Rewinding?(xn.state=xn.State.Normal,lr(fn),Ir(xn.currData),xn.currData=null,xn.sleepCallbacks.forEach(qr)):hn(`invalid state: ${xn.state}`);return xn.handleSleepReturnValue}},handleAsync:Rt=>xn.handleSleep(Wt=>{Rt().then(Wt)})},Mr=(Rt,Wt)=>{Rt<128?Wt.push(Rt):Wt.push(Rt%128|128,Rt>>7)},Jn=(Rt,Wt)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function((An=>{for(var On={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Dn={parameters:[],results:An[0]=="v"?[]:[On[An[0]]]},Un=1;Un<An.length;++Un)Dn.parameters.push(On[An[Un]]);return Dn})(Wt),Rt);var cn=[1];((An,On)=>{var Dn=An.slice(0,1),Un=An.slice(1),Ln={i:127,p:127,j:126,f:125,d:124,e:111};On.push(96),Mr(Un.length,On);for(var Hn=0;Hn<Un.length;++Hn)On.push(Ln[Un[Hn]]);Dn=="v"?On.push(0):On.push(1,Ln[Dn])})(Wt,cn);var mn=[0,97,115,109,1,0,0,0,1];Mr(cn.length,mn),mn.push(...cn),mn.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var In=new WebAssembly.Module(new Uint8Array(mn));return new WebAssembly.Instance(In,{e:{f:Rt}}).exports.f},hr=[],Ar=Rt=>(Sn||(Sn=new WeakMap,((Wt,cn)=>{if(Sn)for(var mn=Wt;mn<Wt+cn;mn++){var In=(On=void 0,(On=hr[An=mn])||(An>=hr.length&&(hr.length=An+1),hr[An]=On=_n.get(An)),On);In&&Sn.set(In,mn)}var An,On})(0,_n.length)),Sn.get(Rt)||0),zr=[],mr=(Rt,Wt)=>{_n.set(Rt,Wt),hr[Rt]=_n.get(Rt)},Cr={a:Rt=>{var Wt=vr(),cn=cr();hn(`stack overflow (Attempt to set SP to ${nn(Rt)}, with stack limits [${nn(cn)} - ${nn(Wt)}]). If you require more stack space build with -sSTACK_SIZE=<bytes>`)},f:(Rt,Wt,cn)=>kt.copyWithin(Rt,Wt,Wt+cn),e:()=>Date.now(),b:Rt=>{var Wt,cn,mn=kt.length,In=2147483648;if((Rt>>>=0)>In)return!1;for(var An=1;An<=4;An*=2){var On=mn*(1+.2/An);On=Math.min(On,Rt+100663296);var Dn=Math.min(In,(Wt=Math.max(Rt,On),cn=65536,Math.ceil(Wt/cn)*cn));if(tr(Dn))return!0}return!1},c:(Rt,Wt)=>{var cn=0;return Kn().forEach((mn,In)=>{var An=Wt+cn;wt[Rt+4*In>>2]=An,((On,Dn)=>{for(var Un=0;Un<On.length;++Un)At[Dn++]=On.charCodeAt(Un);At[Dn]=0})(mn,An),cn+=mn.length+1}),0},d:(Rt,Wt)=>{var cn=Kn();wt[Rt>>2]=cn.length;var mn=0;return cn.forEach(In=>mn+=In.length+1),wt[Wt>>2]=mn,0}},vn=function(){var On;var Rt,Wt,cn,mn,In={a:Cr};function An(Dn,Un){var Ln;return vn=Dn.exports,vn=xn.instrumentWasmExports(vn),xt=vn.g,Vt(),_n=vn.n,Ln=vn.h,En.unshift(Ln),function(){var ss;if(rn--,(ss=et.monitorRunDependencies)==null||ss.call(et,rn),rn==0&&on){var Hn=on;on=null,Hn()}}(),vn}if(rn++,(On=et.monitorRunDependencies)==null||On.call(et,rn),et.instantiateWasm)try{return et.instantiateWasm(In,An)}catch(Dn){mt(`Module.instantiateWasm callback failed with error: ${Dn}`),_e(Dn)}return Kt||(Kt=tn()),(Rt=Pt,Wt=Kt,cn=In,mn=function(Dn){An(Dn.instance)},Rt||typeof WebAssembly.instantiateStreaming!="function"||Qt(Wt)||sn(Wt)||st||typeof fetch!="function"?wn(Wt,cn,mn):fetch(Wt,{credentials:"same-origin"}).then(Dn=>WebAssembly.instantiateStreaming(Dn,cn).then(mn,function(Un){return mt(`wasm streaming compile failed: ${Un}`),mt("falling back to ArrayBuffer instantiation"),wn(Wt,cn,mn)}))).catch(_e),{}}();et.___asan_default_options=()=>(et.___asan_default_options=vn.i)(),et._init=()=>(et._init=vn.j)(),et._dispose=()=>(et._dispose=vn.k)(),et._getVersion=Rt=>(et._getVersion=vn.l)(Rt),et._setErrorCallback=Rt=>(et._setErrorCallback=vn.m)(Rt),et._getMainDesc=Rt=>(et._getMainDesc=vn.o)(Rt),et._isMainDescChanged=()=>(et._isMainDescChanged=vn.p)(),et._getVarsDesc=Rt=>(et._getVarsDesc=vn.q)(Rt),et._isVarsDescChanged=()=>(et._isVarsDescChanged=vn.r)(),et._getActions=Rt=>(et._getActions=vn.s)(Rt);var gr=et._malloc=Rt=>(gr=et._malloc=vn.t)(Rt);et._selectAction=Rt=>(et._selectAction=vn.u)(Rt),et._executeSelAction=()=>(et._executeSelAction=vn.v)(),et._isActionsChanged=()=>(et._isActionsChanged=vn.w)(),et._getObjects=Rt=>(et._getObjects=vn.x)(Rt),et._selectObject=Rt=>(et._selectObject=vn.y)(Rt),et._isObjectsChanged=()=>(et._isObjectsChanged=vn.z)(),et._loadGameData=(Rt,Wt,cn)=>(et._loadGameData=vn.A)(Rt,Wt,cn),et._restartGame=()=>(et._restartGame=vn.B)(),et._saveGameData=Rt=>(et._saveGameData=vn.C)(Rt);var Ir=et._free=Rt=>(Ir=et._free=vn.D)(Rt);et._loadSavedGameData=(Rt,Wt)=>(et._loadSavedGameData=vn.E)(Rt,Wt),et._execString=(Rt,Wt)=>(et._execString=vn.F)(Rt,Wt),et._execCounter=()=>(et._execCounter=vn.G)(),et._execLoc=Rt=>(et._execLoc=vn.H)(Rt),et._execUserInput=Rt=>(et._execUserInput=vn.I)(Rt),et._getLastError=Rt=>(et._getLastError=vn.J)(Rt),et._getVarValue=(Rt,Wt)=>(et._getVarValue=vn.K)(Rt,Wt),et._getVarValueByIndex=(Rt,Wt,cn)=>(et._getVarValueByIndex=vn.L)(Rt,Wt,cn),et._getVarValueByKey=(Rt,Wt,cn)=>(et._getVarValueByKey=vn.M)(Rt,Wt,cn),et._getVarSize=Rt=>(et._getVarSize=vn.N)(Rt),et._setCallback=(Rt,Wt)=>(et._setCallback=vn.O)(Rt,Wt),et._freeItemsList=Rt=>(et._freeItemsList=vn.P)(Rt),et._freeSaveBuffer=Rt=>(et._freeSaveBuffer=vn.Q)(Rt),et._freeStringsBuffer=Rt=>(et._freeStringsBuffer=vn.R)(Rt),et._enableDebugMode=()=>(et._enableDebugMode=vn.S)(),et._disableDebugMode=()=>(et._disableDebugMode=vn.T)(),et._getCurStateData=(Rt,Wt,cn)=>(et._getCurStateData=vn.U)(Rt,Wt,cn),et.__run_checks=()=>(et.__run_checks=vn.V)();var ur,sr=()=>(sr=vn.W)(),vr=()=>(vr=vn.X)(),cr=()=>(cr=vn.Y)(),nr=()=>(nr=vn.Z)(),gn=et.___set_stack_limits=(Rt,Wt)=>(gn=et.___set_stack_limits=vn._)(Rt,Wt),yr=Rt=>(yr=vn.$)(Rt),or=()=>(or=vn.aa)(),Rr=Rt=>(Rr=vn.ba)(Rt),fn=()=>(fn=vn.ca)();function Kr(){var Rt;sr(),(Rt=cr())==0&&(Rt+=4),wt[Rt>>2]=34821223,wt[Rt+4>>2]=2310721022,wt[0]=1668509029}function Wr(){function Rt(){var Wt;ur||(ur=!0,et.calledRun=!0,Bt||(Xt(),Bn(),yn(En),j(et),(Wt=et.onRuntimeInitialized)==null||Wt.call(et),function(){if(Xt(),et.postRun)for(typeof et.postRun=="function"&&(et.postRun=[et.postRun]);et.postRun.length;)cn=et.postRun.shift(),Yt.unshift(cn);var cn;yn(Yt)}()))}rn>0||(Kr(),function(){if(et.preRun)for(typeof et.preRun=="function"&&(et.preRun=[et.preRun]);et.preRun.length;)Wt=et.preRun.shift(),pn.unshift(Wt);var Wt;yn(pn)}(),rn>0||(et.setStatus?(et.setStatus("Running..."),setTimeout(function(){setTimeout(function(){et.setStatus("")},1),Rt()},1)):Rt(),Xt()))}if(et.addFunction=(Rt,Wt)=>{var cn=Ar(Rt);if(cn)return cn;var mn=(()=>{if(zr.length)return zr.pop();try{_n.grow(1)}catch(An){throw An instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":An}return _n.length-1})();try{mr(mn,Rt)}catch(An){if(!(An instanceof TypeError))throw An;var In=Jn(Rt,Wt);mr(mn,In)}return Sn.set(Rt,mn),mn},et.Asyncify=xn,on=function Rt(){ur||Wr(),ur||(on=Rt)},et.preInit)for(typeof et.preInit=="function"&&(et.preInit=[et.preInit]);et.preInit.length>0;)et.preInit.pop()();return Wr(),tt});function n$1($){return new Promise(j=>{r$1({wasmBinary:$}).then(_e=>{j(new O(_e))})})}const wasmUrl=""+new URL("qsp-engine-KgPHYqd2.wasm",import.meta.url).href,mainContent$=atom(""),nextMainContent$=atom(""),isNewLoc$=atom(!1),newLocHash$=atom(""),mainScroll$=atom(0),isStatsVisible$=atom(!1),statsContent$=atom(""),statsScroll$=atom(0),isActsVisible$=atom(!1),actions$=atom([]),selectedAction$=atom(-1);function canSelectAction($){return $>=0&&$<actions$.value.length}function selectAction($){var j;selectedAction$.set($),(j=qspApi$.value)==null||j.selectAction($)}function execSelectedAction(){var $;selectedAction$.set(-1),($=qspApi$.value)==null||$.execSelectedAction()}const isObjsVisible$=atom(!1),selectedObject$=atom(-1),objects$=atom([]);function selectObject($){var j;(j=qspApi$.value)==null||j.selectObject($)}const isCmdVisible$=atom(!1),cmdText$=atom("");function submitUserInput(){var $;($=qspApi$.value)==null||$.updateUserInput(cmdText$.value)}const view$=atom({isOpen:!1,path:"",isModal:!1},$=>{const j=$.focus(et=>et.isOpen),_e=$.focus(et=>et.isModal);return{open(et){$.set({isOpen:!0,path:et,isModal:_e.value})},setIsModal(et){_e.set(et)},close(){j.set(!1)},clear(){$.set({isOpen:!1,path:"",isModal:!1})}}}),regions$=atom({}),regionsScroll$=atom({});function reloadRegions(){var j;const $={};for(const _e of Object.keys(regions$.value))$[_e]=((j=qspApi$.value)==null?void 0:j.readVariableByKey("$qspider_region",_e))??"";regions$.set($)}const layers$=atom({});function readLayerState($){var j;return!!(((j=qspApi$.value)==null?void 0:j.readVariableByKey("qspider_layers",$))??0)}function registerLayer($){layers$.update(j=>({...j,[$]:readLayerState($)}))}function reloadLayers(){const $={};for(const j of Object.keys(layers$.value))$[j]=readLayerState(j);layers$.set($)}async function loadAdditionalResources($){if(!$)return;const{styles:j,scripts:_e,fonts:et}=$,tt=[];j&&tt.push(loadAdditionalStyles(j)),_e&&tt.push(loadAdditionalScripts(_e)),et&&loadAdditionalFonts(et),await Promise.allSettled([...tt,document.fonts.ready])}async function loadAdditionalStyles($){const j=[];for(const _e of $){const et=document.createElement("link");et.href=_e,et.rel="stylesheet",et.dataset.qspiderResource="style",document.head.appendChild(et)}await Promise.allSettled(j)}async function loadAdditionalScripts($){const j=[];for(const _e of $){const et=document.createElement("script");et.type="text/javascript",et.src=_e,et.dataset.qspiderResource="script";const tt=defer$1();et.onload=()=>tt.resolve(),et.onerror=()=>tt.reject(new Error(`File not found: ${_e}`)),j.push(tt.promise),document.head.appendChild(et)}await Promise.allSettled(j)}function loadAdditionalFonts($){const j=[];for(const[et,tt,nt,rt]of $)j.push(`
    @font-face {
      font-family: "${et}";
      src: url("${tt}");
      font-display: block;
      font-style: ${rt||"normal"};
      font-weight: ${nt||"normal"};
    }
  `);const _e=document.createElement("style");_e.innerText=j.join(`
`),_e.dataset.qspiderResource="style",document.head.appendChild(_e)}function clearAdditionalResources(){document.querySelectorAll("[data-qspider-resource]").forEach($=>$.remove())}const BOOLEAN_ATTRIBUTES=new Set(["autofocus","autoplay","checked","controls","default","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","novalidate","open","readonly","required","reversed","selected"]),valueProcessors={href($){return $.startsWith("javascript:")?"#":$}};function extractAttributes($){const j={};return Array.from($.attributes).forEach(_e=>{const{name:et,value:tt}=_e;et!=="is"&&(et==="style"?j.style=processStyles(tt):BOOLEAN_ATTRIBUTES.has(et)?j[et]=!0:j[et]=et in valueProcessors?valueProcessors[et](tt):tt)}),j}function processStyles($){const j=$.split(";"),_e={};for(const et of j){const[tt,nt]=et.trim().split(":"),rt=tt.replace(/^-ms-/,"ms-").replace(/-./g,at=>at.substring(1).toUpperCase());let st=nt;rt==="backgroundImage"&&!nt.includes("url(")?st=`url("${nt}")`:/^[+-]?\d+(\.\d+)?$/.test(nt)&&(st=parseFloat(nt)),_e[rt]=st}return _e}const MIN_SIZE_ID="min-size-style",MAX_SIZE_ID="max-size-style",windowManager={isBrowser:!0,platform:detectPlatform(),setTitle($){document.title=$},setIcon($,j){document.getElementById("favicon").href=j},goFullscreen(){var $;document.fullscreenEnabled&&(($=document.querySelector("qsp-game-root"))==null||$.requestFullscreen().catch(()=>{function j(){var _e;(_e=document.querySelector("qsp-game-root"))==null||_e.requestFullscreen(),document.removeEventListener("click",j)}document.addEventListener("click",j)}))},goWindowed(){document.fullscreenEnabled&&document.exitFullscreen()},async setMinSize($,j){const _e=document.createElement("style");_e.innerText=`qsp-game-root {min-width: ${$}px;min-height:${j}px;}`,_e.id=MIN_SIZE_ID,document.body.appendChild(_e)},unsetMinSize(){var $;($=document.getElementById(MIN_SIZE_ID))==null||$.remove()},async setMaxSize($,j){const _e=document.createElement("style");_e.innerText=`qsp-game-root {max-width: ${$}px;max-height:${j}px;}`,_e.id=MAX_SIZE_ID,document.body.appendChild(_e)},unsetMaxSize(){var $;($=document.getElementById(MAX_SIZE_ID))==null||$.remove()},setResizable($){},async resize($,j){},closeWindow(){window.close()}};function detectPlatform(){const $=navigator.userAgent;return $.includes("Windows")?"Windows":$.includes("Macintosh")?"Macintosh":$.includes("Linux")?"Linux":"Unknown"}var dexie_min={exports:{}};(function($,j){(function(_e,et){$.exports=et()})(commonjsGlobal,function(){var _e=function(it,ct){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pt,gt){pt.__proto__=gt}||function(pt,gt){for(var yt in gt)Object.prototype.hasOwnProperty.call(gt,yt)&&(pt[yt]=gt[yt])})(it,ct)},et=function(){return(et=Object.assign||function(it){for(var ct,pt=1,gt=arguments.length;pt<gt;pt++)for(var yt in ct=arguments[pt])Object.prototype.hasOwnProperty.call(ct,yt)&&(it[yt]=ct[yt]);return it}).apply(this,arguments)};function tt(it,ct,pt){for(var gt,yt=0,_t=ct.length;yt<_t;yt++)!gt&&yt in ct||((gt=gt||Array.prototype.slice.call(ct,0,yt))[yt]=ct[yt]);return it.concat(gt||Array.prototype.slice.call(ct))}var nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,rt=Object.keys,st=Array.isArray;function at(it,ct){return typeof ct!="object"||rt(ct).forEach(function(pt){it[pt]=ct[pt]}),it}typeof Promise>"u"||nt.Promise||(nt.Promise=Promise);var ut=Object.getPrototypeOf,dt={}.hasOwnProperty;function ot(it,ct){return dt.call(it,ct)}function lt(it,ct){typeof ct=="function"&&(ct=ct(ut(it))),(typeof Reflect>"u"?rt:Reflect.ownKeys)(ct).forEach(function(pt){ht(it,pt,ct[pt])})}var ft=Object.defineProperty;function ht(it,ct,pt,gt){ft(it,ct,at(pt&&ot(pt,"get")&&typeof pt.get=="function"?{get:pt.get,set:pt.set,configurable:!0}:{value:pt,configurable:!0,writable:!0},gt))}function vt(it){return{from:function(ct){return it.prototype=Object.create(ct.prototype),ht(it.prototype,"constructor",it),{extend:lt.bind(null,it.prototype)}}}}var bt=Object.getOwnPropertyDescriptor,mt=[].slice;function xt(it,ct,pt){return mt.call(it,ct,pt)}function Et(it,ct){return ct(it)}function At(it){if(!it)throw new Error("Assertion Failed")}function kt(it){nt.setImmediate?setImmediate(it):setTimeout(it,0)}function Lt(it,ct){if(typeof ct=="string"&&ot(it,ct))return it[ct];if(!ct)return it;if(typeof ct!="string"){for(var pt=[],gt=0,yt=ct.length;gt<yt;++gt){var _t=Lt(it,ct[gt]);pt.push(_t)}return pt}var St=ct.indexOf(".");if(St!==-1){var Ct=it[ct.substr(0,St)];return Ct==null?void 0:Lt(Ct,ct.substr(St+1))}}function wt(it,ct,pt){if(it&&ct!==void 0&&!("isFrozen"in Object&&Object.isFrozen(it)))if(typeof ct!="string"&&"length"in ct){At(typeof pt!="string"&&"length"in pt);for(var gt=0,yt=ct.length;gt<yt;++gt)wt(it,ct[gt],pt[gt])}else{var _t,St,Ct=ct.indexOf(".");Ct!==-1?(_t=ct.substr(0,Ct),(St=ct.substr(Ct+1))===""?pt===void 0?st(it)&&!isNaN(parseInt(_t))?it.splice(_t,1):delete it[_t]:it[_t]=pt:wt(Ct=!(Ct=it[_t])||!ot(it,_t)?it[_t]={}:Ct,St,pt)):pt===void 0?st(it)&&!isNaN(parseInt(ct))?it.splice(ct,1):delete it[ct]:it[ct]=pt}}function Pt(it){var ct,pt={};for(ct in it)ot(it,ct)&&(pt[ct]=it[ct]);return pt}var Bt=[].concat;function Vt(it){return Bt.apply([],it)}var dr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Vt([8,16,32,64].map(function(it){return["Int","Uint","Float"].map(function(ct){return ct+it+"Array"})}))).filter(function(it){return nt[it]}),Xt=new Set(dr.map(function(it){return nt[it]})),pn=null;function En(it){return pn=new WeakMap,it=function ct(pt){if(!pt||typeof pt!="object")return pt;var gt=pn.get(pt);if(gt)return gt;if(st(pt)){gt=[],pn.set(pt,gt);for(var yt=0,_t=pt.length;yt<_t;++yt)gt.push(ct(pt[yt]))}else if(Xt.has(pt.constructor))gt=pt;else{var St,Ct=ut(pt);for(St in gt=Ct===Object.prototype?{}:Object.create(Ct),pn.set(pt,gt),pt)ot(pt,St)&&(gt[St]=ct(pt[St]))}return gt}(it),pn=null,it}var Yt={}.toString;function rn(it){return Yt.call(it).slice(8,-1)}var on=typeof Symbol<"u"?Symbol.iterator:"@@iterator",hn=typeof on=="symbol"?function(it){var ct;return it!=null&&(ct=it[on])&&ct.apply(it)}:function(){return null};function Kt(it,ct){return ct=it.indexOf(ct),0<=ct&&it.splice(ct,1),0<=ct}var Qt={};function sn(it){var ct,pt,gt,yt;if(arguments.length===1){if(st(it))return it.slice();if(this===Qt&&typeof it=="string")return[it];if(yt=hn(it)){for(pt=[];!(gt=yt.next()).done;)pt.push(gt.value);return pt}if(it==null)return[it];if(typeof(ct=it.length)!="number")return[it];for(pt=new Array(ct);ct--;)pt[ct]=it[ct];return pt}for(ct=arguments.length,pt=new Array(ct);ct--;)pt[ct]=arguments[ct];return pt}var tn=typeof Symbol<"u"?function(it){return it[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},mr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],er=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(mr),dn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function wn(it,ct){this.name=it,this.message=ct}function bn(it,ct){return it+". Errors: "+Object.keys(ct).map(function(pt){return ct[pt].toString()}).filter(function(pt,gt,yt){return yt.indexOf(pt)===gt}).join(`
`)}function _n(it,ct,pt,gt){this.failures=ct,this.failedKeys=gt,this.successCount=pt,this.message=bn(it,ct)}function Sn(it,ct){this.name="BulkError",this.failures=Object.keys(ct).map(function(pt){return ct[pt]}),this.failuresByPos=ct,this.message=bn(it,this.failures)}vt(wn).from(Error).extend({toString:function(){return this.name+": "+this.message}}),vt(_n).from(wn),vt(Sn).from(wn);var yn=er.reduce(function(it,ct){return it[ct]=ct+"Error",it},{}),Mn=wn,nn=er.reduce(function(it,ct){var pt=ct+"Error";function gt(yt,_t){this.name=pt,yt?typeof yt=="string"?(this.message="".concat(yt).concat(_t?`
 `+_t:""),this.inner=_t||null):typeof yt=="object"&&(this.message="".concat(yt.name," ").concat(yt.message),this.inner=yt):(this.message=dn[ct]||pt,this.inner=null)}return vt(gt).from(Mn),it[ct]=gt,it},{});nn.Syntax=SyntaxError,nn.Type=TypeError,nn.Range=RangeError;var Bn=mr.reduce(function(it,ct){return it[ct+"Error"]=nn[ct],it},{}),tr=er.reduce(function(it,ct){return["Syntax","Type","Range"].indexOf(ct)===-1&&(it[ct+"Error"]=nn[ct]),it},{});function kn(){}function Kn(it){return it}function lr(it,ct){return it==null||it===Kn?ct:function(pt){return ct(it(pt))}}function Zn(it,ct){return function(){it.apply(this,arguments),ct.apply(this,arguments)}}function Nr(it,ct){return it===kn?ct:function(){var pt=it.apply(this,arguments);pt!==void 0&&(arguments[0]=pt);var gt=this.onsuccess,yt=this.onerror;this.onsuccess=null,this.onerror=null;var _t=ct.apply(this,arguments);return gt&&(this.onsuccess=this.onsuccess?Zn(gt,this.onsuccess):gt),yt&&(this.onerror=this.onerror?Zn(yt,this.onerror):yt),_t!==void 0?_t:pt}}function Vr(it,ct){return it===kn?ct:function(){it.apply(this,arguments);var pt=this.onsuccess,gt=this.onerror;this.onsuccess=this.onerror=null,ct.apply(this,arguments),pt&&(this.onsuccess=this.onsuccess?Zn(pt,this.onsuccess):pt),gt&&(this.onerror=this.onerror?Zn(gt,this.onerror):gt)}}function qr(it,ct){return it===kn?ct:function(pt){var gt=it.apply(this,arguments);at(pt,gt);var yt=this.onsuccess,_t=this.onerror;return this.onsuccess=null,this.onerror=null,pt=ct.apply(this,arguments),yt&&(this.onsuccess=this.onsuccess?Zn(yt,this.onsuccess):yt),_t&&(this.onerror=this.onerror?Zn(_t,this.onerror):_t),gt===void 0?pt===void 0?void 0:pt:at(gt,pt)}}function xn(it,ct){return it===kn?ct:function(){return ct.apply(this,arguments)!==!1&&it.apply(this,arguments)}}function Mr(it,ct){return it===kn?ct:function(){var pt=it.apply(this,arguments);if(pt&&typeof pt.then=="function"){for(var gt=this,yt=arguments.length,_t=new Array(yt);yt--;)_t[yt]=arguments[yt];return pt.then(function(){return ct.apply(gt,_t)})}return ct.apply(this,arguments)}}tr.ModifyError=_n,tr.DexieError=wn,tr.BulkError=Sn;var Jn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hr(it){Jn=it}var Ar={},zr=100,dr=typeof Promise>"u"?[]:function(){var it=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[it,ut(it),it];var ct=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[ct,ut(ct),it]}(),mr=dr[0],er=dr[1],dr=dr[2],er=er&&er.then,Cr=mr&&mr.constructor,vn=!!dr,gr=function(it,ct){yr.push([it,ct]),ur&&(queueMicrotask(In),ur=!1)},Ir=!0,ur=!0,sr=[],vr=[],cr=Kn,nr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:kn,pgp:!1,env:{},finalize:kn},gn=nr,yr=[],or=0,Rr=[];function fn(it){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var ct=this._PSD=gn;if(typeof it!="function"){if(it!==Ar)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Rt(this,this._value))}this._state=null,this._value=null,++ct.ref,function pt(gt,yt){try{yt(function(_t){if(gt._state===null){if(_t===gt)throw new TypeError("A promise cannot be resolved with itself.");var St=gt._lib&&An();_t&&typeof _t.then=="function"?pt(gt,function(Ct,Nt){_t instanceof fn?_t._then(Ct,Nt):_t.then(Ct,Nt)}):(gt._state=!0,gt._value=_t,Wt(gt)),St&&On()}},Rt.bind(null,gt))}catch(_t){Rt(gt,_t)}}(this,it)}var Kr={get:function(){var it=gn,ct=ls;function pt(gt,yt){var _t=this,St=!it.global&&(it!==gn||ct!==ls),Ct=St&&!Er(),Nt=new fn(function(Ot,Dt){cn(_t,new Wr(io(gt,it,St,Ct),io(yt,it,St,Ct),Ot,Dt,it))});return this._consoleTask&&(Nt._consoleTask=this._consoleTask),Nt}return pt.prototype=Ar,pt},set:function(it){ht(this,"then",it&&it.prototype===Ar?Kr:{get:function(){return it},set:Kr.set})}};function Wr(it,ct,pt,gt,yt){this.onFulfilled=typeof it=="function"?it:null,this.onRejected=typeof ct=="function"?ct:null,this.resolve=pt,this.reject=gt,this.psd=yt}function Rt(it,ct){var pt,gt;vr.push(ct),it._state===null&&(pt=it._lib&&An(),ct=cr(ct),it._state=!1,it._value=ct,gt=it,sr.some(function(yt){return yt._value===gt._value})||sr.push(gt),Wt(it),pt&&On())}function Wt(it){var ct=it._listeners;it._listeners=[];for(var pt=0,gt=ct.length;pt<gt;++pt)cn(it,ct[pt]);var yt=it._PSD;--yt.ref||yt.finalize(),or===0&&(++or,gr(function(){--or==0&&Dn()},[]))}function cn(it,ct){if(it._state!==null){var pt=it._state?ct.onFulfilled:ct.onRejected;if(pt===null)return(it._state?ct.resolve:ct.reject)(it._value);++ct.psd.ref,++or,gr(mn,[pt,it,ct])}else it._listeners.push(ct)}function mn(it,ct,pt){try{var gt,yt=ct._value;!ct._state&&vr.length&&(vr=[]),gt=Jn&&ct._consoleTask?ct._consoleTask.run(function(){return it(yt)}):it(yt),ct._state||vr.indexOf(yt)!==-1||function(_t){for(var St=sr.length;St;)if(sr[--St]._value===_t._value)return sr.splice(St,1)}(ct),pt.resolve(gt)}catch(_t){pt.reject(_t)}finally{--or==0&&Dn(),--pt.psd.ref||pt.psd.finalize()}}function In(){Tr(nr,function(){An()&&On()})}function An(){var it=Ir;return ur=Ir=!1,it}function On(){var it,ct,pt;do for(;0<yr.length;)for(it=yr,yr=[],pt=it.length,ct=0;ct<pt;++ct){var gt=it[ct];gt[0].apply(null,gt[1])}while(0<yr.length);ur=Ir=!0}function Dn(){var it=sr;sr=[],it.forEach(function(gt){gt._PSD.onunhandled.call(null,gt._value,gt)});for(var ct=Rr.slice(0),pt=ct.length;pt;)ct[--pt]()}function Un(it){return new fn(Ar,!1,it)}function Ln(it,ct){var pt=gn;return function(){var gt=An(),yt=gn;try{return _r(pt,!0),it.apply(this,arguments)}catch(_t){ct&&ct(_t)}finally{_r(yt,!1),gt&&On()}}}lt(fn.prototype,{then:Kr,_then:function(it,ct){cn(this,new Wr(null,null,it,ct,gn))},catch:function(it){if(arguments.length===1)return this.then(null,it);var ct=it,pt=arguments[1];return typeof ct=="function"?this.then(null,function(gt){return(gt instanceof ct?pt:Un)(gt)}):this.then(null,function(gt){return(gt&&gt.name===ct?pt:Un)(gt)})},finally:function(it){return this.then(function(ct){return fn.resolve(it()).then(function(){return ct})},function(ct){return fn.resolve(it()).then(function(){return Un(ct)})})},timeout:function(it,ct){var pt=this;return it<1/0?new fn(function(gt,yt){var _t=setTimeout(function(){return yt(new nn.Timeout(ct))},it);pt.then(gt,yt).finally(clearTimeout.bind(null,_t))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ht(fn.prototype,Symbol.toStringTag,"Dexie.Promise"),nr.env=oo(),lt(fn,{all:function(){var it=sn.apply(null,arguments).map(us);return new fn(function(ct,pt){it.length===0&&ct([]);var gt=it.length;it.forEach(function(yt,_t){return fn.resolve(yt).then(function(St){it[_t]=St,--gt||ct(it)},pt)})})},resolve:function(it){return it instanceof fn?it:it&&typeof it.then=="function"?new fn(function(ct,pt){it.then(ct,pt)}):new fn(Ar,!0,it)},reject:Un,race:function(){var it=sn.apply(null,arguments).map(us);return new fn(function(ct,pt){it.map(function(gt){return fn.resolve(gt).then(ct,pt)})})},PSD:{get:function(){return gn},set:function(it){return gn=it}},totalEchoes:{get:function(){return ls}},newPSD:xr,usePSD:Tr,scheduler:{get:function(){return gr},set:function(it){gr=it}},rejectionMapper:{get:function(){return cr},set:function(it){cr=it}},follow:function(it,ct){return new fn(function(pt,gt){return xr(function(yt,_t){var St=gn;St.unhandleds=[],St.onunhandled=_t,St.finalize=Zn(function(){var Ct,Nt=this;Ct=function(){Nt.unhandleds.length===0?yt():_t(Nt.unhandleds[0])},Rr.push(function Ot(){Ct(),Rr.splice(Rr.indexOf(Ot),1)}),++or,gr(function(){--or==0&&Dn()},[])},St.finalize),it()},ct,pt,gt)})}}),Cr&&(Cr.allSettled&&ht(fn,"allSettled",function(){var it=sn.apply(null,arguments).map(us);return new fn(function(ct){it.length===0&&ct([]);var pt=it.length,gt=new Array(pt);it.forEach(function(yt,_t){return fn.resolve(yt).then(function(St){return gt[_t]={status:"fulfilled",value:St}},function(St){return gt[_t]={status:"rejected",reason:St}}).then(function(){return--pt||ct(gt)})})})}),Cr.any&&typeof AggregateError<"u"&&ht(fn,"any",function(){var it=sn.apply(null,arguments).map(us);return new fn(function(ct,pt){it.length===0&&pt(new AggregateError([]));var gt=it.length,yt=new Array(gt);it.forEach(function(_t,St){return fn.resolve(_t).then(function(Ct){return ct(Ct)},function(Ct){yt[St]=Ct,--gt||pt(new AggregateError(yt))})})})}));var Hn={awaits:0,echoes:0,id:0},ss=0,os=[],as=0,ls=0,Io=0;function xr(it,ct,pt,gt){var yt=gn,_t=Object.create(yt);return _t.parent=yt,_t.ref=0,_t.global=!1,_t.id=++Io,nr.env,_t.env=vn?{Promise:fn,PromiseProp:{value:fn,configurable:!0,writable:!0},all:fn.all,race:fn.race,allSettled:fn.allSettled,any:fn.any,resolve:fn.resolve,reject:fn.reject}:{},ct&&at(_t,ct),++yt.ref,_t.finalize=function(){--this.parent.ref||this.parent.finalize()},gt=Tr(_t,it,pt,gt),_t.ref===0&&_t.finalize(),gt}function Lr(){return Hn.id||(Hn.id=++ss),++Hn.awaits,Hn.echoes+=zr,Hn.id}function Er(){return!!Hn.awaits&&(--Hn.awaits==0&&(Hn.id=0),Hn.echoes=Hn.awaits*zr,!0)}function us(it){return Hn.echoes&&it&&it.constructor===Cr?(Lr(),it.then(function(ct){return Er(),ct},function(ct){return Er(),Vn(ct)})):it}function Lo(){var it=os[os.length-1];os.pop(),_r(it,!1)}function _r(it,ct){var pt,gt=gn;(ct?!Hn.echoes||as++&&it===gn:!as||--as&&it===gn)||queueMicrotask(ct?(function(yt){++ls,Hn.echoes&&--Hn.echoes!=0||(Hn.echoes=Hn.awaits=Hn.id=0),os.push(gn),_r(yt,!0)}).bind(null,it):Lo),it!==gn&&(gn=it,gt===nr&&(nr.env=oo()),vn&&(pt=nr.env.Promise,ct=it.env,(gt.global||it.global)&&(Object.defineProperty(nt,"Promise",ct.PromiseProp),pt.all=ct.all,pt.race=ct.race,pt.resolve=ct.resolve,pt.reject=ct.reject,ct.allSettled&&(pt.allSettled=ct.allSettled),ct.any&&(pt.any=ct.any))))}function oo(){var it=nt.Promise;return vn?{Promise:it,PromiseProp:Object.getOwnPropertyDescriptor(nt,"Promise"),all:it.all,race:it.race,allSettled:it.allSettled,any:it.any,resolve:it.resolve,reject:it.reject}:{}}function Tr(it,ct,pt,gt,yt){var _t=gn;try{return _r(it,!0),ct(pt,gt,yt)}finally{_r(_t,!1)}}function io(it,ct,pt,gt){return typeof it!="function"?it:function(){var yt=gn;pt&&Lr(),_r(ct,!0);try{return it.apply(this,arguments)}finally{_r(yt,!1),gt&&queueMicrotask(Er)}}}function $s(it){Promise===Cr&&Hn.echoes===0?as===0?it():enqueueNativeMicroTask(it):setTimeout(it,0)}(""+er).indexOf("[native code]")===-1&&(Lr=Er=kn);var Vn=fn.reject,Pr="￿",fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ao="String expected.",Dr=[],fs="__dbnames",ks="readonly",Os="readwrite";function $r(it,ct){return it?ct?function(){return it.apply(this,arguments)&&ct.apply(this,arguments)}:it:ct}var lo={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ds(it){return typeof it!="string"||/\./.test(it)?function(ct){return ct}:function(ct){return ct[it]===void 0&&it in ct&&delete(ct=En(ct))[it],ct}}function uo(){throw nn.Type()}function jn(it,ct){try{var pt=co(it),gt=co(ct);if(pt!==gt)return pt==="Array"?1:gt==="Array"?-1:pt==="binary"?1:gt==="binary"?-1:pt==="string"?1:gt==="string"?-1:pt==="Date"?1:gt!=="Date"?NaN:-1;switch(pt){case"number":case"Date":case"string":return ct<it?1:it<ct?-1:0;case"binary":return function(yt,_t){for(var St=yt.length,Ct=_t.length,Nt=St<Ct?St:Ct,Ot=0;Ot<Nt;++Ot)if(yt[Ot]!==_t[Ot])return yt[Ot]<_t[Ot]?-1:1;return St===Ct?0:St<Ct?-1:1}(fo(it),fo(ct));case"Array":return function(yt,_t){for(var St=yt.length,Ct=_t.length,Nt=St<Ct?St:Ct,Ot=0;Ot<Nt;++Ot){var Dt=jn(yt[Ot],_t[Ot]);if(Dt!==0)return Dt}return St===Ct?0:St<Ct?-1:1}(it,ct)}}catch{}return NaN}function co(it){var ct=typeof it;return ct!="object"?ct:ArrayBuffer.isView(it)?"binary":(it=rn(it),it==="ArrayBuffer"?"binary":it)}function fo(it){return it instanceof Uint8Array?it:ArrayBuffer.isView(it)?new Uint8Array(it.buffer,it.byteOffset,it.byteLength):new Uint8Array(it)}var po=(Fn.prototype._trans=function(it,ct,pt){var gt=this._tx||gn.trans,yt=this.name,_t=Jn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(it==="readonly"?"read":"write"," ").concat(this.name));function St(Ot,Dt,$t){if(!$t.schema[yt])throw new nn.NotFound("Table "+yt+" not part of transaction");return ct($t.idbtrans,$t)}var Ct=An();try{var Nt=gt&&gt.db._novip===this.db._novip?gt===gn.trans?gt._promise(it,St,pt):xr(function(){return gt._promise(it,St,pt)},{trans:gt,transless:gn.transless||gn}):function Ot(Dt,$t,Ft,jt){if(Dt.idbdb&&(Dt._state.openComplete||gn.letThrough||Dt._vip)){var It=Dt._createTransaction($t,Ft,Dt._dbSchema);try{It.create(),Dt._state.PR1398_maxLoop=3}catch(Ht){return Ht.name===yn.InvalidState&&Dt.isOpen()&&0<--Dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Dt.close({disableAutoOpen:!1}),Dt.open().then(function(){return Ot(Dt,$t,Ft,jt)})):Vn(Ht)}return It._promise($t,function(Ht,Mt){return xr(function(){return gn.trans=It,jt(Ht,Mt,It)})}).then(function(Ht){if($t==="readwrite")try{It.idbtrans.commit()}catch{}return $t==="readonly"?Ht:It._completion.then(function(){return Ht})})}if(Dt._state.openComplete)return Vn(new nn.DatabaseClosed(Dt._state.dbOpenError));if(!Dt._state.isBeingOpened){if(!Dt._state.autoOpen)return Vn(new nn.DatabaseClosed);Dt.open().catch(kn)}return Dt._state.dbReadyPromise.then(function(){return Ot(Dt,$t,Ft,jt)})}(this.db,it,[this.name],St);return _t&&(Nt._consoleTask=_t,Nt=Nt.catch(function(Ot){return console.trace(Ot),Vn(Ot)})),Nt}finally{Ct&&On()}},Fn.prototype.get=function(it,ct){var pt=this;return it&&it.constructor===Object?this.where(it).first(ct):it==null?Vn(new nn.Type("Invalid argument to Table.get()")):this._trans("readonly",function(gt){return pt.core.get({trans:gt,key:it}).then(function(yt){return pt.hook.reading.fire(yt)})}).then(ct)},Fn.prototype.where=function(it){if(typeof it=="string")return new this.db.WhereClause(this,it);if(st(it))return new this.db.WhereClause(this,"[".concat(it.join("+"),"]"));var ct=rt(it);if(ct.length===1)return this.where(ct[0]).equals(it[ct[0]]);var pt=this.schema.indexes.concat(this.schema.primKey).filter(function(Nt){if(Nt.compound&&ct.every(function(Dt){return 0<=Nt.keyPath.indexOf(Dt)})){for(var Ot=0;Ot<ct.length;++Ot)if(ct.indexOf(Nt.keyPath[Ot])===-1)return!1;return!0}return!1}).sort(function(Nt,Ot){return Nt.keyPath.length-Ot.keyPath.length})[0];if(pt&&this.db._maxKey!==Pr){var St=pt.keyPath.slice(0,ct.length);return this.where(St).equals(St.map(function(Ot){return it[Ot]}))}!pt&&Jn&&console.warn("The query ".concat(JSON.stringify(it)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(ct.join("+"),"]"));var gt=this.schema.idxByName,yt=this.db._deps.indexedDB;function _t(Nt,Ot){return yt.cmp(Nt,Ot)===0}var Ct=ct.reduce(function(Ft,Ot){var Dt=Ft[0],$t=Ft[1],Ft=gt[Ot],jt=it[Ot];return[Dt||Ft,Dt||!Ft?$r($t,Ft&&Ft.multi?function(It){return It=Lt(It,Ot),st(It)&&It.some(function(Ht){return _t(jt,Ht)})}:function(It){return _t(jt,Lt(It,Ot))}):$t]},[null,null]),St=Ct[0],Ct=Ct[1];return St?this.where(St.name).equals(it[St.keyPath]).filter(Ct):pt?this.filter(Ct):this.where(ct).equals("")},Fn.prototype.filter=function(it){return this.toCollection().and(it)},Fn.prototype.count=function(it){return this.toCollection().count(it)},Fn.prototype.offset=function(it){return this.toCollection().offset(it)},Fn.prototype.limit=function(it){return this.toCollection().limit(it)},Fn.prototype.each=function(it){return this.toCollection().each(it)},Fn.prototype.toArray=function(it){return this.toCollection().toArray(it)},Fn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Fn.prototype.orderBy=function(it){return new this.db.Collection(new this.db.WhereClause(this,st(it)?"[".concat(it.join("+"),"]"):it))},Fn.prototype.reverse=function(){return this.toCollection().reverse()},Fn.prototype.mapToClass=function(it){var ct,pt=this.db,gt=this.name;function yt(){return ct!==null&&ct.apply(this,arguments)||this}(this.schema.mappedClass=it).prototype instanceof uo&&(function(Nt,Ot){if(typeof Ot!="function"&&Ot!==null)throw new TypeError("Class extends value "+String(Ot)+" is not a constructor or null");function Dt(){this.constructor=Nt}_e(Nt,Ot),Nt.prototype=Ot===null?Object.create(Ot):(Dt.prototype=Ot.prototype,new Dt)}(yt,ct=it),Object.defineProperty(yt.prototype,"db",{get:function(){return pt},enumerable:!1,configurable:!0}),yt.prototype.table=function(){return gt},it=yt);for(var _t=new Set,St=it.prototype;St;St=ut(St))Object.getOwnPropertyNames(St).forEach(function(Nt){return _t.add(Nt)});function Ct(Nt){if(!Nt)return Nt;var Ot,Dt=Object.create(it.prototype);for(Ot in Nt)if(!_t.has(Ot))try{Dt[Ot]=Nt[Ot]}catch{}return Dt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=Ct,this.hook("reading",Ct),it},Fn.prototype.defineClass=function(){return this.mapToClass(function(it){at(this,it)})},Fn.prototype.add=function(it,ct){var pt=this,gt=this.schema.primKey,yt=gt.auto,_t=gt.keyPath,St=it;return _t&&yt&&(St=ds(_t)(it)),this._trans("readwrite",function(Ct){return pt.core.mutate({trans:Ct,type:"add",keys:ct!=null?[ct]:null,values:[St]})}).then(function(Ct){return Ct.numFailures?fn.reject(Ct.failures[0]):Ct.lastResult}).then(function(Ct){if(_t)try{wt(it,_t,Ct)}catch{}return Ct})},Fn.prototype.update=function(it,ct){return typeof it!="object"||st(it)?this.where(":id").equals(it).modify(ct):(it=Lt(it,this.schema.primKey.keyPath),it===void 0?Vn(new nn.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(it).modify(ct))},Fn.prototype.put=function(it,ct){var pt=this,gt=this.schema.primKey,yt=gt.auto,_t=gt.keyPath,St=it;return _t&&yt&&(St=ds(_t)(it)),this._trans("readwrite",function(Ct){return pt.core.mutate({trans:Ct,type:"put",values:[St],keys:ct!=null?[ct]:null})}).then(function(Ct){return Ct.numFailures?fn.reject(Ct.failures[0]):Ct.lastResult}).then(function(Ct){if(_t)try{wt(it,_t,Ct)}catch{}return Ct})},Fn.prototype.delete=function(it){var ct=this;return this._trans("readwrite",function(pt){return ct.core.mutate({trans:pt,type:"delete",keys:[it]})}).then(function(pt){return pt.numFailures?fn.reject(pt.failures[0]):void 0})},Fn.prototype.clear=function(){var it=this;return this._trans("readwrite",function(ct){return it.core.mutate({trans:ct,type:"deleteRange",range:lo})}).then(function(ct){return ct.numFailures?fn.reject(ct.failures[0]):void 0})},Fn.prototype.bulkGet=function(it){var ct=this;return this._trans("readonly",function(pt){return ct.core.getMany({keys:it,trans:pt}).then(function(gt){return gt.map(function(yt){return ct.hook.reading.fire(yt)})})})},Fn.prototype.bulkAdd=function(it,ct,pt){var gt=this,yt=Array.isArray(ct)?ct:void 0,_t=(pt=pt||(yt?void 0:ct))?pt.allKeys:void 0;return this._trans("readwrite",function(St){var Ot=gt.schema.primKey,Ct=Ot.auto,Ot=Ot.keyPath;if(Ot&&yt)throw new nn.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(yt&&yt.length!==it.length)throw new nn.InvalidArgument("Arguments objects and keys must have the same length");var Nt=it.length,Ot=Ot&&Ct?it.map(ds(Ot)):it;return gt.core.mutate({trans:St,type:"add",keys:yt,values:Ot,wantResults:_t}).then(function(It){var $t=It.numFailures,Ft=It.results,jt=It.lastResult,It=It.failures;if($t===0)return _t?Ft:jt;throw new Sn("".concat(gt.name,".bulkAdd(): ").concat($t," of ").concat(Nt," operations failed"),It)})})},Fn.prototype.bulkPut=function(it,ct,pt){var gt=this,yt=Array.isArray(ct)?ct:void 0,_t=(pt=pt||(yt?void 0:ct))?pt.allKeys:void 0;return this._trans("readwrite",function(St){var Ot=gt.schema.primKey,Ct=Ot.auto,Ot=Ot.keyPath;if(Ot&&yt)throw new nn.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(yt&&yt.length!==it.length)throw new nn.InvalidArgument("Arguments objects and keys must have the same length");var Nt=it.length,Ot=Ot&&Ct?it.map(ds(Ot)):it;return gt.core.mutate({trans:St,type:"put",keys:yt,values:Ot,wantResults:_t}).then(function(It){var $t=It.numFailures,Ft=It.results,jt=It.lastResult,It=It.failures;if($t===0)return _t?Ft:jt;throw new Sn("".concat(gt.name,".bulkPut(): ").concat($t," of ").concat(Nt," operations failed"),It)})})},Fn.prototype.bulkUpdate=function(it){var ct=this,pt=this.core,gt=it.map(function(St){return St.key}),yt=it.map(function(St){return St.changes}),_t=[];return this._trans("readwrite",function(St){return pt.getMany({trans:St,keys:gt,cache:"clone"}).then(function(Ct){var Nt=[],Ot=[];it.forEach(function($t,Ft){var jt=$t.key,It=$t.changes,Ht=Ct[Ft];if(Ht){for(var Mt=0,Ut=Object.keys(It);Mt<Ut.length;Mt++){var qt=Ut[Mt],zt=It[qt];if(qt===ct.schema.primKey.keyPath){if(jn(zt,jt)!==0)throw new nn.Constraint("Cannot update primary key in bulkUpdate()")}else wt(Ht,qt,zt)}_t.push(Ft),Nt.push(jt),Ot.push(Ht)}});var Dt=Nt.length;return pt.mutate({trans:St,type:"put",keys:Nt,values:Ot,updates:{keys:gt,changeSpecs:yt}}).then(function($t){var Ft=$t.numFailures,jt=$t.failures;if(Ft===0)return Dt;for(var It=0,Ht=Object.keys(jt);It<Ht.length;It++){var Mt,Ut=Ht[It],qt=_t[Number(Ut)];qt!=null&&(Mt=jt[Ut],delete jt[Ut],jt[qt]=Mt)}throw new Sn("".concat(ct.name,".bulkUpdate(): ").concat(Ft," of ").concat(Dt," operations failed"),jt)})})})},Fn.prototype.bulkDelete=function(it){var ct=this,pt=it.length;return this._trans("readwrite",function(gt){return ct.core.mutate({trans:gt,type:"delete",keys:it})}).then(function(St){var yt=St.numFailures,_t=St.lastResult,St=St.failures;if(yt===0)return _t;throw new Sn("".concat(ct.name,".bulkDelete(): ").concat(yt," of ").concat(pt," operations failed"),St)})},Fn);function Fn(){}function Gr(it){function ct(St,Ct){if(Ct){for(var Nt=arguments.length,Ot=new Array(Nt-1);--Nt;)Ot[Nt-1]=arguments[Nt];return pt[St].subscribe.apply(null,Ot),it}if(typeof St=="string")return pt[St]}var pt={};ct.addEventType=_t;for(var gt=1,yt=arguments.length;gt<yt;++gt)_t(arguments[gt]);return ct;function _t(St,Ct,Nt){if(typeof St!="object"){var Ot;Ct=Ct||xn;var Dt={subscribers:[],fire:Nt=Nt||kn,subscribe:function($t){Dt.subscribers.indexOf($t)===-1&&(Dt.subscribers.push($t),Dt.fire=Ct(Dt.fire,$t))},unsubscribe:function($t){Dt.subscribers=Dt.subscribers.filter(function(Ft){return Ft!==$t}),Dt.fire=Dt.subscribers.reduce(Ct,Nt)}};return pt[St]=ct[St]=Dt}rt(Ot=St).forEach(function($t){var Ft=Ot[$t];if(st(Ft))_t($t,Ot[$t][0],Ot[$t][1]);else{if(Ft!=="asap")throw new nn.InvalidArgument("Invalid event config");var jt=_t($t,Kn,function(){for(var It=arguments.length,Ht=new Array(It);It--;)Ht[It]=arguments[It];jt.subscribers.forEach(function(Mt){kt(function(){Mt.apply(null,Ht)})})})}})}}function Qr(it,ct){return vt(ct).from({prototype:it}),ct}function Fr(it,ct){return!(it.filter||it.algorithm||it.or)&&(ct?it.justLimit:!it.replayFilter)}function js(it,ct){it.filter=$r(it.filter,ct)}function Ns(it,ct,pt){var gt=it.replayFilter;it.replayFilter=gt?function(){return $r(gt(),ct())}:ct,it.justLimit=pt&&!gt}function ps(it,ct){if(it.isPrimKey)return ct.primaryKey;var pt=ct.getIndexByKeyPath(it.index);if(!pt)throw new nn.Schema("KeyPath "+it.index+" on object store "+ct.name+" is not indexed");return pt}function ho(it,ct,pt){var gt=ps(it,ct.schema);return ct.openCursor({trans:pt,values:!it.keysOnly,reverse:it.dir==="prev",unique:!!it.unique,query:{index:gt,range:it.range}})}function hs(it,ct,pt,gt){var yt=it.replayFilter?$r(it.filter,it.replayFilter()):it.filter;if(it.or){var _t={},St=function(Ct,Nt,Ot){var Dt,$t;yt&&!yt(Nt,Ot,function(Ft){return Nt.stop(Ft)},function(Ft){return Nt.fail(Ft)})||(($t=""+(Dt=Nt.primaryKey))=="[object ArrayBuffer]"&&($t=""+new Uint8Array(Dt)),ot(_t,$t)||(_t[$t]=!0,ct(Ct,Nt,Ot)))};return Promise.all([it.or._iterate(St,pt),mo(ho(it,gt,pt),it.algorithm,St,!it.keysOnly&&it.valueMapper)])}return mo(ho(it,gt,pt),$r(it.algorithm,yt),ct,!it.keysOnly&&it.valueMapper)}function mo(it,ct,pt,gt){var yt=Ln(gt?function(_t,St,Ct){return pt(gt(_t),St,Ct)}:pt);return it.then(function(_t){if(_t)return _t.start(function(){var St=function(){return _t.continue()};ct&&!ct(_t,function(Ct){return St=Ct},function(Ct){_t.stop(Ct),St=kn},function(Ct){_t.fail(Ct),St=kn})||yt(_t.value,_t,function(Ct){return St=Ct}),St()})})}var dr=Symbol(),Yr=(go.prototype.execute=function(it){if(this.add!==void 0){var ct=this.add;if(st(ct))return tt(tt([],st(it)?it:[],!0),ct).sort();if(typeof ct=="number")return(Number(it)||0)+ct;if(typeof ct=="bigint")try{return BigInt(it)+ct}catch{return BigInt(0)+ct}throw new TypeError("Invalid term ".concat(ct))}if(this.remove!==void 0){var pt=this.remove;if(st(pt))return st(it)?it.filter(function(gt){return!pt.includes(gt)}).sort():[];if(typeof pt=="number")return Number(it)-pt;if(typeof pt=="bigint")try{return BigInt(it)-pt}catch{return BigInt(0)-pt}throw new TypeError("Invalid subtrahend ".concat(pt))}return ct=(ct=this.replacePrefix)===null||ct===void 0?void 0:ct[0],ct&&typeof it=="string"&&it.startsWith(ct)?this.replacePrefix[1]+it.substring(ct.length):it},go);function go(it){Object.assign(this,it)}var Do=(Nn.prototype._read=function(it,ct){var pt=this._ctx;return pt.error?pt.table._trans(null,Vn.bind(null,pt.error)):pt.table._trans("readonly",it).then(ct)},Nn.prototype._write=function(it){var ct=this._ctx;return ct.error?ct.table._trans(null,Vn.bind(null,ct.error)):ct.table._trans("readwrite",it,"locked")},Nn.prototype._addAlgorithm=function(it){var ct=this._ctx;ct.algorithm=$r(ct.algorithm,it)},Nn.prototype._iterate=function(it,ct){return hs(this._ctx,it,ct,this._ctx.table.core)},Nn.prototype.clone=function(it){var ct=Object.create(this.constructor.prototype),pt=Object.create(this._ctx);return it&&at(pt,it),ct._ctx=pt,ct},Nn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nn.prototype.each=function(it){var ct=this._ctx;return this._read(function(pt){return hs(ct,it,pt,ct.table.core)})},Nn.prototype.count=function(it){var ct=this;return this._read(function(pt){var gt=ct._ctx,yt=gt.table.core;if(Fr(gt,!0))return yt.count({trans:pt,query:{index:ps(gt,yt.schema),range:gt.range}}).then(function(St){return Math.min(St,gt.limit)});var _t=0;return hs(gt,function(){return++_t,!1},pt,yt).then(function(){return _t})}).then(it)},Nn.prototype.sortBy=function(it,ct){var pt=it.split(".").reverse(),gt=pt[0],yt=pt.length-1;function _t(Nt,Ot){return Ot?_t(Nt[pt[Ot]],Ot-1):Nt[gt]}var St=this._ctx.dir==="next"?1:-1;function Ct(Nt,Ot){return Nt=_t(Nt,yt),Ot=_t(Ot,yt),Nt<Ot?-St:Ot<Nt?St:0}return this.toArray(function(Nt){return Nt.sort(Ct)}).then(ct)},Nn.prototype.toArray=function(it){var ct=this;return this._read(function(pt){var gt=ct._ctx;if(gt.dir==="next"&&Fr(gt,!0)&&0<gt.limit){var yt=gt.valueMapper,_t=ps(gt,gt.table.core.schema);return gt.table.core.query({trans:pt,limit:gt.limit,values:!0,query:{index:_t,range:gt.range}}).then(function(Ct){return Ct=Ct.result,yt?Ct.map(yt):Ct})}var St=[];return hs(gt,function(Ct){return St.push(Ct)},pt,gt.table.core).then(function(){return St})},it)},Nn.prototype.offset=function(it){var ct=this._ctx;return it<=0||(ct.offset+=it,Fr(ct)?Ns(ct,function(){var pt=it;return function(gt,yt){return pt===0||(pt===1?--pt:yt(function(){gt.advance(pt),pt=0}),!1)}}):Ns(ct,function(){var pt=it;return function(){return--pt<0}})),this},Nn.prototype.limit=function(it){return this._ctx.limit=Math.min(this._ctx.limit,it),Ns(this._ctx,function(){var ct=it;return function(pt,gt,yt){return--ct<=0&&gt(yt),0<=ct}},!0),this},Nn.prototype.until=function(it,ct){return js(this._ctx,function(pt,gt,yt){return!it(pt.value)||(gt(yt),ct)}),this},Nn.prototype.first=function(it){return this.limit(1).toArray(function(ct){return ct[0]}).then(it)},Nn.prototype.last=function(it){return this.reverse().first(it)},Nn.prototype.filter=function(it){var ct;return js(this._ctx,function(pt){return it(pt.value)}),(ct=this._ctx).isMatch=$r(ct.isMatch,it),this},Nn.prototype.and=function(it){return this.filter(it)},Nn.prototype.or=function(it){return new this.db.WhereClause(this._ctx.table,it,this)},Nn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nn.prototype.desc=function(){return this.reverse()},Nn.prototype.eachKey=function(it){var ct=this._ctx;return ct.keysOnly=!ct.isMatch,this.each(function(pt,gt){it(gt.key,gt)})},Nn.prototype.eachUniqueKey=function(it){return this._ctx.unique="unique",this.eachKey(it)},Nn.prototype.eachPrimaryKey=function(it){var ct=this._ctx;return ct.keysOnly=!ct.isMatch,this.each(function(pt,gt){it(gt.primaryKey,gt)})},Nn.prototype.keys=function(it){var ct=this._ctx;ct.keysOnly=!ct.isMatch;var pt=[];return this.each(function(gt,yt){pt.push(yt.key)}).then(function(){return pt}).then(it)},Nn.prototype.primaryKeys=function(it){var ct=this._ctx;if(ct.dir==="next"&&Fr(ct,!0)&&0<ct.limit)return this._read(function(gt){var yt=ps(ct,ct.table.core.schema);return ct.table.core.query({trans:gt,values:!1,limit:ct.limit,query:{index:yt,range:ct.range}})}).then(function(gt){return gt.result}).then(it);ct.keysOnly=!ct.isMatch;var pt=[];return this.each(function(gt,yt){pt.push(yt.primaryKey)}).then(function(){return pt}).then(it)},Nn.prototype.uniqueKeys=function(it){return this._ctx.unique="unique",this.keys(it)},Nn.prototype.firstKey=function(it){return this.limit(1).keys(function(ct){return ct[0]}).then(it)},Nn.prototype.lastKey=function(it){return this.reverse().firstKey(it)},Nn.prototype.distinct=function(){var it=this._ctx,it=it.index&&it.table.schema.idxByName[it.index];if(!it||!it.multi)return this;var ct={};return js(this._ctx,function(yt){var gt=yt.primaryKey.toString(),yt=ot(ct,gt);return ct[gt]=!0,!yt}),this},Nn.prototype.modify=function(it){var ct=this,pt=this._ctx;return this._write(function(gt){var yt,_t,St;St=typeof it=="function"?it:(yt=rt(it),_t=yt.length,function(Mt){for(var Ut=!1,qt=0;qt<_t;++qt){var zt=yt[qt],Gt=it[zt],Jt=Lt(Mt,zt);Gt instanceof Yr?(wt(Mt,zt,Gt.execute(Jt)),Ut=!0):Jt!==Gt&&(wt(Mt,zt,Gt),Ut=!0)}return Ut});function Ct(Mt,zt){var qt=zt.failures,zt=zt.numFailures;It+=Mt-zt;for(var Gt=0,Jt=rt(qt);Gt<Jt.length;Gt++){var ln=Jt[Gt];jt.push(qt[ln])}}var Nt=pt.table.core,Ot=Nt.schema.primaryKey,Dt=Ot.outbound,$t=Ot.extractKey,Ft=ct.db._options.modifyChunkSize||200,jt=[],It=0,Ht=[];return ct.clone().primaryKeys().then(function(Mt){function Ut(zt){var Gt=Math.min(Ft,Mt.length-zt);return Nt.getMany({trans:gt,keys:Mt.slice(zt,zt+Gt),cache:"immutable"}).then(function(Jt){for(var ln=[],en=[],an=Dt?[]:null,un=[],Zt=0;Zt<Gt;++Zt){var Cn=Jt[Zt],Rn={value:En(Cn),primKey:Mt[zt+Zt]};St.call(Rn,Rn.value,Rn)!==!1&&(Rn.value==null?un.push(Mt[zt+Zt]):Dt||jn($t(Cn),$t(Rn.value))===0?(en.push(Rn.value),Dt&&an.push(Mt[zt+Zt])):(un.push(Mt[zt+Zt]),ln.push(Rn.value)))}return Promise.resolve(0<ln.length&&Nt.mutate({trans:gt,type:"add",values:ln}).then(function($n){for(var Tn in $n.failures)un.splice(parseInt(Tn),1);Ct(ln.length,$n)})).then(function(){return(0<en.length||qt&&typeof it=="object")&&Nt.mutate({trans:gt,type:"put",keys:an,values:en,criteria:qt,changeSpec:typeof it!="function"&&it,isAdditionalChunk:0<zt}).then(function($n){return Ct(en.length,$n)})}).then(function(){return(0<un.length||qt&&it===Ms)&&Nt.mutate({trans:gt,type:"delete",keys:un,criteria:qt,isAdditionalChunk:0<zt}).then(function($n){return Ct(un.length,$n)})}).then(function(){return Mt.length>zt+Gt&&Ut(zt+Ft)})})}var qt=Fr(pt)&&pt.limit===1/0&&(typeof it!="function"||it===Ms)&&{index:pt.index,range:pt.range};return Ut(0).then(function(){if(0<jt.length)throw new _n("Error modifying one or more objects",jt,It,Ht);return Mt.length})})})},Nn.prototype.delete=function(){var it=this._ctx,ct=it.range;return Fr(it)&&(it.isPrimKey||ct.type===3)?this._write(function(pt){var gt=it.table.core.schema.primaryKey,yt=ct;return it.table.core.count({trans:pt,query:{index:gt,range:yt}}).then(function(_t){return it.table.core.mutate({trans:pt,type:"deleteRange",range:yt}).then(function(St){var Ct=St.failures;if(St.lastResult,St.results,St=St.numFailures,St)throw new _n("Could not delete some values",Object.keys(Ct).map(function(Nt){return Ct[Nt]}),_t-St);return _t-St})})}):this.modify(Ms)},Nn);function Nn(){}var Ms=function(it,ct){return ct.value=null};function Fo(it,ct){return it<ct?-1:it===ct?0:1}function Ho(it,ct){return ct<it?-1:it===ct?0:1}function Xn(it,ct,pt){return it=it instanceof yo?new it.Collection(it):it,it._ctx.error=new(pt||TypeError)(ct),it}function Br(it){return new it.Collection(it,function(){return vo("")}).limit(0)}function ms(it,ct,pt,gt){var yt,_t,St,Ct,Nt,Ot,Dt,$t=pt.length;if(!pt.every(function(It){return typeof It=="string"}))return Xn(it,ao);function Ft(It){yt=It==="next"?function(Mt){return Mt.toUpperCase()}:function(Mt){return Mt.toLowerCase()},_t=It==="next"?function(Mt){return Mt.toLowerCase()}:function(Mt){return Mt.toUpperCase()},St=It==="next"?Fo:Ho;var Ht=pt.map(function(Mt){return{lower:_t(Mt),upper:yt(Mt)}}).sort(function(Mt,Ut){return St(Mt.lower,Ut.lower)});Ct=Ht.map(function(Mt){return Mt.upper}),Nt=Ht.map(function(Mt){return Mt.lower}),Dt=(Ot=It)==="next"?"":gt}Ft("next"),it=new it.Collection(it,function(){return br(Ct[0],Nt[$t-1]+gt)}),it._ondirectionchange=function(It){Ft(It)};var jt=0;return it._addAlgorithm(function(It,Ht,Mt){var Ut=It.key;if(typeof Ut!="string")return!1;var qt=_t(Ut);if(ct(qt,Nt,jt))return!0;for(var zt=null,Gt=jt;Gt<$t;++Gt){var Jt=function(ln,en,an,un,Zt,Cn){for(var Rn=Math.min(ln.length,un.length),$n=-1,Tn=0;Tn<Rn;++Tn){var rr=en[Tn];if(rr!==un[Tn])return Zt(ln[Tn],an[Tn])<0?ln.substr(0,Tn)+an[Tn]+an.substr(Tn+1):Zt(ln[Tn],un[Tn])<0?ln.substr(0,Tn)+un[Tn]+an.substr(Tn+1):0<=$n?ln.substr(0,$n)+en[$n]+an.substr($n+1):null;Zt(ln[Tn],rr)<0&&($n=Tn)}return Rn<un.length&&Cn==="next"?ln+an.substr(ln.length):Rn<ln.length&&Cn==="prev"?ln.substr(0,an.length):$n<0?null:ln.substr(0,$n)+un[$n]+an.substr($n+1)}(Ut,qt,Ct[Gt],Nt[Gt],St,Ot);Jt===null&&zt===null?jt=Gt+1:(zt===null||0<St(zt,Jt))&&(zt=Jt)}return Ht(zt!==null?function(){It.continue(zt+Dt)}:Mt),!1}),it}function br(it,ct,pt,gt){return{type:2,lower:it,upper:ct,lowerOpen:pt,upperOpen:gt}}function vo(it){return{type:1,lower:it,upper:it}}var yo=(Object.defineProperty(zn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),zn.prototype.between=function(it,ct,pt,gt){pt=pt!==!1,gt=gt===!0;try{return 0<this._cmp(it,ct)||this._cmp(it,ct)===0&&(pt||gt)&&(!pt||!gt)?Br(this):new this.Collection(this,function(){return br(it,ct,!pt,!gt)})}catch{return Xn(this,fr)}},zn.prototype.equals=function(it){return it==null?Xn(this,fr):new this.Collection(this,function(){return vo(it)})},zn.prototype.above=function(it){return it==null?Xn(this,fr):new this.Collection(this,function(){return br(it,void 0,!0)})},zn.prototype.aboveOrEqual=function(it){return it==null?Xn(this,fr):new this.Collection(this,function(){return br(it,void 0,!1)})},zn.prototype.below=function(it){return it==null?Xn(this,fr):new this.Collection(this,function(){return br(void 0,it,!1,!0)})},zn.prototype.belowOrEqual=function(it){return it==null?Xn(this,fr):new this.Collection(this,function(){return br(void 0,it)})},zn.prototype.startsWith=function(it){return typeof it!="string"?Xn(this,ao):this.between(it,it+Pr,!0,!0)},zn.prototype.startsWithIgnoreCase=function(it){return it===""?this.startsWith(it):ms(this,function(ct,pt){return ct.indexOf(pt[0])===0},[it],Pr)},zn.prototype.equalsIgnoreCase=function(it){return ms(this,function(ct,pt){return ct===pt[0]},[it],"")},zn.prototype.anyOfIgnoreCase=function(){var it=sn.apply(Qt,arguments);return it.length===0?Br(this):ms(this,function(ct,pt){return pt.indexOf(ct)!==-1},it,"")},zn.prototype.startsWithAnyOfIgnoreCase=function(){var it=sn.apply(Qt,arguments);return it.length===0?Br(this):ms(this,function(ct,pt){return pt.some(function(gt){return ct.indexOf(gt)===0})},it,Pr)},zn.prototype.anyOf=function(){var it=this,ct=sn.apply(Qt,arguments),pt=this._cmp;try{ct.sort(pt)}catch{return Xn(this,fr)}if(ct.length===0)return Br(this);var gt=new this.Collection(this,function(){return br(ct[0],ct[ct.length-1])});gt._ondirectionchange=function(_t){pt=_t==="next"?it._ascending:it._descending,ct.sort(pt)};var yt=0;return gt._addAlgorithm(function(_t,St,Ct){for(var Nt=_t.key;0<pt(Nt,ct[yt]);)if(++yt===ct.length)return St(Ct),!1;return pt(Nt,ct[yt])===0||(St(function(){_t.continue(ct[yt])}),!1)}),gt},zn.prototype.notEqual=function(it){return this.inAnyRange([[-1/0,it],[it,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},zn.prototype.noneOf=function(){var it=sn.apply(Qt,arguments);if(it.length===0)return new this.Collection(this);try{it.sort(this._ascending)}catch{return Xn(this,fr)}var ct=it.reduce(function(pt,gt){return pt?pt.concat([[pt[pt.length-1][1],gt]]):[[-1/0,gt]]},null);return ct.push([it[it.length-1],this.db._maxKey]),this.inAnyRange(ct,{includeLowers:!1,includeUppers:!1})},zn.prototype.inAnyRange=function(Ut,ct){var pt=this,gt=this._cmp,yt=this._ascending,_t=this._descending,St=this._min,Ct=this._max;if(Ut.length===0)return Br(this);if(!Ut.every(function(qt){return qt[0]!==void 0&&qt[1]!==void 0&&yt(qt[0],qt[1])<=0}))return Xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",nn.InvalidArgument);var Nt=!ct||ct.includeLowers!==!1,Ot=ct&&ct.includeUppers===!0,Dt,$t=yt;function Ft(qt,zt){return $t(qt[0],zt[0])}try{(Dt=Ut.reduce(function(qt,zt){for(var Gt=0,Jt=qt.length;Gt<Jt;++Gt){var ln=qt[Gt];if(gt(zt[0],ln[1])<0&&0<gt(zt[1],ln[0])){ln[0]=St(ln[0],zt[0]),ln[1]=Ct(ln[1],zt[1]);break}}return Gt===Jt&&qt.push(zt),qt},[])).sort(Ft)}catch{return Xn(this,fr)}var jt=0,It=Ot?function(qt){return 0<yt(qt,Dt[jt][1])}:function(qt){return 0<=yt(qt,Dt[jt][1])},Ht=Nt?function(qt){return 0<_t(qt,Dt[jt][0])}:function(qt){return 0<=_t(qt,Dt[jt][0])},Mt=It,Ut=new this.Collection(this,function(){return br(Dt[0][0],Dt[Dt.length-1][1],!Nt,!Ot)});return Ut._ondirectionchange=function(qt){$t=qt==="next"?(Mt=It,yt):(Mt=Ht,_t),Dt.sort(Ft)},Ut._addAlgorithm(function(qt,zt,Gt){for(var Jt,ln=qt.key;Mt(ln);)if(++jt===Dt.length)return zt(Gt),!1;return!It(Jt=ln)&&!Ht(Jt)||(pt._cmp(ln,Dt[jt][1])===0||pt._cmp(ln,Dt[jt][0])===0||zt(function(){$t===yt?qt.continue(Dt[jt][0]):qt.continue(Dt[jt][1])}),!1)}),Ut},zn.prototype.startsWithAnyOf=function(){var it=sn.apply(Qt,arguments);return it.every(function(ct){return typeof ct=="string"})?it.length===0?Br(this):this.inAnyRange(it.map(function(ct){return[ct,ct+Pr]})):Xn(this,"startsWithAnyOf() only works with strings")},zn);function zn(){}function ir(it){return Ln(function(ct){return Xr(ct),it(ct.target.error),!1})}function Xr(it){it.stopPropagation&&it.stopPropagation(),it.preventDefault&&it.preventDefault()}var Zr="storagemutated",Is="x-storagemutated-1",wr=Gr(null,Zr),Bo=(ar.prototype._lock=function(){return At(!gn.global),++this._reculock,this._reculock!==1||gn.global||(gn.lockOwnerFor=this),this},ar.prototype._unlock=function(){if(At(!gn.global),--this._reculock==0)for(gn.global||(gn.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var it=this._blockedFuncs.shift();try{Tr(it[1],it[0])}catch{}}return this},ar.prototype._locked=function(){return this._reculock&&gn.lockOwnerFor!==this},ar.prototype.create=function(it){var ct=this;if(!this.mode)return this;var pt=this.db.idbdb,gt=this.db._state.dbOpenError;if(At(!this.idbtrans),!it&&!pt)switch(gt&&gt.name){case"DatabaseClosedError":throw new nn.DatabaseClosed(gt);case"MissingAPIError":throw new nn.MissingAPI(gt.message,gt);default:throw new nn.OpenFailed(gt)}if(!this.active)throw new nn.TransactionInactive;return At(this._completion._state===null),(it=this.idbtrans=it||(this.db.core||pt).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ln(function(yt){Xr(yt),ct._reject(it.error)}),it.onabort=Ln(function(yt){Xr(yt),ct.active&&ct._reject(new nn.Abort(it.error)),ct.active=!1,ct.on("abort").fire(yt)}),it.oncomplete=Ln(function(){ct.active=!1,ct._resolve(),"mutatedParts"in it&&wr.storagemutated.fire(it.mutatedParts)}),this},ar.prototype._promise=function(it,ct,pt){var gt=this;if(it==="readwrite"&&this.mode!=="readwrite")return Vn(new nn.ReadOnly("Transaction is readonly"));if(!this.active)return Vn(new nn.TransactionInactive);if(this._locked())return new fn(function(_t,St){gt._blockedFuncs.push([function(){gt._promise(it,ct,pt).then(_t,St)},gn])});if(pt)return xr(function(){var _t=new fn(function(St,Ct){gt._lock();var Nt=ct(St,Ct,gt);Nt&&Nt.then&&Nt.then(St,Ct)});return _t.finally(function(){return gt._unlock()}),_t._lib=!0,_t});var yt=new fn(function(_t,St){var Ct=ct(_t,St,gt);Ct&&Ct.then&&Ct.then(_t,St)});return yt._lib=!0,yt},ar.prototype._root=function(){return this.parent?this.parent._root():this},ar.prototype.waitFor=function(it){var ct,pt=this._root(),gt=fn.resolve(it);pt._waitingFor?pt._waitingFor=pt._waitingFor.then(function(){return gt}):(pt._waitingFor=gt,pt._waitingQueue=[],ct=pt.idbtrans.objectStore(pt.storeNames[0]),function _t(){for(++pt._spinCount;pt._waitingQueue.length;)pt._waitingQueue.shift()();pt._waitingFor&&(ct.get(-1/0).onsuccess=_t)}());var yt=pt._waitingFor;return new fn(function(_t,St){gt.then(function(Ct){return pt._waitingQueue.push(Ln(_t.bind(null,Ct)))},function(Ct){return pt._waitingQueue.push(Ln(St.bind(null,Ct)))}).finally(function(){pt._waitingFor===yt&&(pt._waitingFor=null)})})},ar.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new nn.Abort))},ar.prototype.table=function(it){var ct=this._memoizedTables||(this._memoizedTables={});if(ot(ct,it))return ct[it];var pt=this.schema[it];if(!pt)throw new nn.NotFound("Table "+it+" not part of transaction");return pt=new this.db.Table(it,pt,this),pt.core=this.db.core.table(it),ct[it]=pt},ar);function ar(){}function Ls(it,ct,pt,gt,yt,_t,St){return{name:it,keyPath:ct,unique:pt,multi:gt,auto:yt,compound:_t,src:(pt&&!St?"&":"")+(gt?"*":"")+(yt?"++":"")+xo(ct)}}function xo(it){return typeof it=="string"?it:it?"["+[].join.call(it,"+")+"]":""}function Ds(it,ct,pt){return{name:it,primKey:ct,indexes:pt,mappedClass:null,idxByName:(gt=function(yt){return[yt.name,yt]},pt.reduce(function(yt,_t,St){return St=gt(_t,St),St&&(yt[St[0]]=St[1]),yt},{}))};var gt}var Jr=function(it){try{return it.only([[]]),Jr=function(){return[[]]},[[]]}catch{return Jr=function(){return Pr},Pr}};function Fs(it){return it==null?function(){}:typeof it=="string"?(ct=it).split(".").length===1?function(pt){return pt[ct]}:function(pt){return Lt(pt,ct)}:function(pt){return Lt(pt,it)};var ct}function Eo(it){return[].slice.call(it)}var Uo=0;function es(it){return it==null?":id":typeof it=="string"?it:"[".concat(it.join("+"),"]")}function Vo(it,ct,Nt){function gt(Mt){if(Mt.type===3)return null;if(Mt.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var jt=Mt.lower,It=Mt.upper,Ht=Mt.lowerOpen,Mt=Mt.upperOpen;return jt===void 0?It===void 0?null:ct.upperBound(It,!!Mt):It===void 0?ct.lowerBound(jt,!!Ht):ct.bound(jt,It,!!Ht,!!Mt)}function yt(Ft){var jt,It=Ft.name;return{name:It,schema:Ft,mutate:function(Ht){var Mt=Ht.trans,Ut=Ht.type,qt=Ht.keys,zt=Ht.values,Gt=Ht.range;return new Promise(function(Jt,ln){Jt=Ln(Jt);var en=Mt.objectStore(It),an=en.keyPath==null,un=Ut==="put"||Ut==="add";if(!un&&Ut!=="delete"&&Ut!=="deleteRange")throw new Error("Invalid operation type: "+Ut);var Zt,Cn=(qt||zt||{length:1}).length;if(qt&&zt&&qt.length!==zt.length)throw new Error("Given keys array must have same length as given values array.");if(Cn===0)return Jt({numFailures:0,failures:{},results:[],lastResult:void 0});function Rn(Yn){++rr,Xr(Yn)}var $n=[],Tn=[],rr=0;if(Ut==="deleteRange"){if(Gt.type===4)return Jt({numFailures:rr,failures:Tn,results:[],lastResult:void 0});Gt.type===3?$n.push(Zt=en.clear()):$n.push(Zt=en.delete(gt(Gt)))}else{var an=un?an?[zt,qt]:[zt,null]:[qt,null],Pn=an[0],Wn=an[1];if(un)for(var Gn=0;Gn<Cn;++Gn)$n.push(Zt=Wn&&Wn[Gn]!==void 0?en[Ut](Pn[Gn],Wn[Gn]):en[Ut](Pn[Gn])),Zt.onerror=Rn;else for(Gn=0;Gn<Cn;++Gn)$n.push(Zt=en[Ut](Pn[Gn])),Zt.onerror=Rn}function Ts(Yn){Yn=Yn.target.result,$n.forEach(function(jr,so){return jr.error!=null&&(Tn[so]=jr.error)}),Jt({numFailures:rr,failures:Tn,results:Ut==="delete"?qt:$n.map(function(jr){return jr.result}),lastResult:Yn})}Zt.onerror=function(Yn){Rn(Yn),Ts(Yn)},Zt.onsuccess=Ts})},getMany:function(Ht){var Mt=Ht.trans,Ut=Ht.keys;return new Promise(function(qt,zt){qt=Ln(qt);for(var Gt,Jt=Mt.objectStore(It),ln=Ut.length,en=new Array(ln),an=0,un=0,Zt=function($n){$n=$n.target,en[$n._pos]=$n.result,++un===an&&qt(en)},Cn=ir(zt),Rn=0;Rn<ln;++Rn)Ut[Rn]!=null&&((Gt=Jt.get(Ut[Rn]))._pos=Rn,Gt.onsuccess=Zt,Gt.onerror=Cn,++an);an===0&&qt(en)})},get:function(Ht){var Mt=Ht.trans,Ut=Ht.key;return new Promise(function(qt,zt){qt=Ln(qt);var Gt=Mt.objectStore(It).get(Ut);Gt.onsuccess=function(Jt){return qt(Jt.target.result)},Gt.onerror=ir(zt)})},query:(jt=Ot,function(Ht){return new Promise(function(Mt,Ut){Mt=Ln(Mt);var qt,zt,Gt,an=Ht.trans,Jt=Ht.values,ln=Ht.limit,Zt=Ht.query,en=ln===1/0?void 0:ln,un=Zt.index,Zt=Zt.range,an=an.objectStore(It),un=un.isPrimaryKey?an:an.index(un.name),Zt=gt(Zt);if(ln===0)return Mt({result:[]});jt?((en=Jt?un.getAll(Zt,en):un.getAllKeys(Zt,en)).onsuccess=function(Cn){return Mt({result:Cn.target.result})},en.onerror=ir(Ut)):(qt=0,zt=!Jt&&"openKeyCursor"in un?un.openKeyCursor(Zt):un.openCursor(Zt),Gt=[],zt.onsuccess=function(Cn){var Rn=zt.result;return Rn?(Gt.push(Jt?Rn.value:Rn.primaryKey),++qt===ln?Mt({result:Gt}):void Rn.continue()):Mt({result:Gt})},zt.onerror=ir(Ut))})}),openCursor:function(Ht){var Mt=Ht.trans,Ut=Ht.values,qt=Ht.query,zt=Ht.reverse,Gt=Ht.unique;return new Promise(function(Jt,ln){Jt=Ln(Jt);var un=qt.index,en=qt.range,an=Mt.objectStore(It),an=un.isPrimaryKey?an:an.index(un.name),un=zt?Gt?"prevunique":"prev":Gt?"nextunique":"next",Zt=!Ut&&"openKeyCursor"in an?an.openKeyCursor(gt(en),un):an.openCursor(gt(en),un);Zt.onerror=ir(ln),Zt.onsuccess=Ln(function(Cn){var Rn,$n,Tn,rr,Pn=Zt.result;Pn?(Pn.___id=++Uo,Pn.done=!1,Rn=Pn.continue.bind(Pn),$n=($n=Pn.continuePrimaryKey)&&$n.bind(Pn),Tn=Pn.advance.bind(Pn),rr=function(){throw new Error("Cursor not stopped")},Pn.trans=Mt,Pn.stop=Pn.continue=Pn.continuePrimaryKey=Pn.advance=function(){throw new Error("Cursor not started")},Pn.fail=Ln(ln),Pn.next=function(){var Wn=this,Gn=1;return this.start(function(){return Gn--?Wn.continue():Wn.stop()}).then(function(){return Wn})},Pn.start=function(Wn){function Gn(){if(Zt.result)try{Wn()}catch(Yn){Pn.fail(Yn)}else Pn.done=!0,Pn.start=function(){throw new Error("Cursor behind last entry")},Pn.stop()}var Ts=new Promise(function(Yn,jr){Yn=Ln(Yn),Zt.onerror=ir(jr),Pn.fail=jr,Pn.stop=function(so){Pn.stop=Pn.continue=Pn.continuePrimaryKey=Pn.advance=rr,Yn(so)}});return Zt.onsuccess=Ln(function(Yn){Zt.onsuccess=Gn,Gn()}),Pn.continue=Rn,Pn.continuePrimaryKey=$n,Pn.advance=Tn,Gn(),Ts},Jt(Pn)):Jt(null)},ln)})},count:function(Ht){var Mt=Ht.query,Ut=Ht.trans,qt=Mt.index,zt=Mt.range;return new Promise(function(Gt,Jt){var ln=Ut.objectStore(It),en=qt.isPrimaryKey?ln:ln.index(qt.name),ln=gt(zt),en=ln?en.count(ln):en.count();en.onsuccess=Ln(function(an){return Gt(an.target.result)}),en.onerror=ir(Jt)})}}}var _t,St,Ct,Dt=(St=Nt,Ct=Eo((_t=it).objectStoreNames),{schema:{name:_t.name,tables:Ct.map(function(Ft){return St.objectStore(Ft)}).map(function(Ft){var jt=Ft.keyPath,Mt=Ft.autoIncrement,It=st(jt),Ht={},Mt={name:Ft.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:jt==null,compound:It,keyPath:jt,autoIncrement:Mt,unique:!0,extractKey:Fs(jt)},indexes:Eo(Ft.indexNames).map(function(Ut){return Ft.index(Ut)}).map(function(Gt){var qt=Gt.name,zt=Gt.unique,Jt=Gt.multiEntry,Gt=Gt.keyPath,Jt={name:qt,compound:st(Gt),keyPath:Gt,unique:zt,multiEntry:Jt,extractKey:Fs(Gt)};return Ht[es(Gt)]=Jt}),getIndexByKeyPath:function(Ut){return Ht[es(Ut)]}};return Ht[":id"]=Mt.primaryKey,jt!=null&&(Ht[es(jt)]=Mt.primaryKey),Mt})},hasGetAll:0<Ct.length&&"getAll"in St.objectStore(Ct[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Nt=Dt.schema,Ot=Dt.hasGetAll,Dt=Nt.tables.map(yt),$t={};return Dt.forEach(function(Ft){return $t[Ft.name]=Ft}),{stack:"dbcore",transaction:it.transaction.bind(it),table:function(Ft){if(!$t[Ft])throw new Error("Table '".concat(Ft,"' not found"));return $t[Ft]},MIN_KEY:-1/0,MAX_KEY:Jr(ct),schema:Nt}}function qo(it,ct,pt,gt){var yt=pt.IDBKeyRange;return pt.indexedDB,{dbcore:(gt=Vo(ct,yt,gt),it.dbcore.reduce(function(_t,St){return St=St.create,et(et({},_t),St(_t))},gt))}}function gs(it,gt){var pt=gt.db,gt=qo(it._middlewares,pt,it._deps,gt);it.core=gt.dbcore,it.tables.forEach(function(yt){var _t=yt.name;it.core.schema.tables.some(function(St){return St.name===_t})&&(yt.core=it.core.table(_t),it[_t]instanceof it.Table&&(it[_t].core=yt.core))})}function vs(it,ct,pt,gt){pt.forEach(function(yt){var _t=gt[yt];ct.forEach(function(St){var Ct=function Nt(Ot,Dt){return bt(Ot,Dt)||(Ot=ut(Ot))&&Nt(Ot,Dt)}(St,yt);(!Ct||"value"in Ct&&Ct.value===void 0)&&(St===it.Transaction.prototype||St instanceof it.Transaction?ht(St,yt,{get:function(){return this.table(yt)},set:function(Nt){ft(this,yt,{value:Nt,writable:!0,configurable:!0,enumerable:!0})}}):St[yt]=new it.Table(yt,_t))})})}function Hs(it,ct){ct.forEach(function(pt){for(var gt in pt)pt[gt]instanceof it.Table&&delete pt[gt]})}function zo(it,ct){return it._cfg.version-ct._cfg.version}function Ko(it,ct,pt,gt){var yt=it._dbSchema;pt.objectStoreNames.contains("$meta")&&!yt.$meta&&(yt.$meta=Ds("$meta",bo("")[0],[]),it._storeNames.push("$meta"));var _t=it._createTransaction("readwrite",it._storeNames,yt);_t.create(pt),_t._completion.catch(gt);var St=_t._reject.bind(_t),Ct=gn.transless||gn;xr(function(){return gn.trans=_t,gn.transless=Ct,ct!==0?(gs(it,pt),Ot=ct,((Nt=_t).storeNames.includes("$meta")?Nt.table("$meta").get("version").then(function(Dt){return Dt??Ot}):fn.resolve(Ot)).then(function(Dt){return Ft=Dt,jt=_t,It=pt,Ht=[],Dt=($t=it)._versions,Mt=$t._dbSchema=xs(0,$t.idbdb,It),(Dt=Dt.filter(function(Ut){return Ut._cfg.version>=Ft})).length!==0?(Dt.forEach(function(Ut){Ht.push(function(){var qt=Mt,zt=Ut._cfg.dbschema;Es($t,qt,It),Es($t,zt,It),Mt=$t._dbSchema=zt;var Gt=Bs(qt,zt);Gt.add.forEach(function(un){Us(It,un[0],un[1].primKey,un[1].indexes)}),Gt.change.forEach(function(un){if(un.recreate)throw new nn.Upgrade("Not yet support for changing primary key");var Zt=It.objectStore(un.name);un.add.forEach(function(Cn){return ys(Zt,Cn)}),un.change.forEach(function(Cn){Zt.deleteIndex(Cn.name),ys(Zt,Cn)}),un.del.forEach(function(Cn){return Zt.deleteIndex(Cn)})});var Jt=Ut._cfg.contentUpgrade;if(Jt&&Ut._cfg.version>Ft){gs($t,It),jt._memoizedTables={};var ln=Pt(zt);Gt.del.forEach(function(un){ln[un]=qt[un]}),Hs($t,[$t.Transaction.prototype]),vs($t,[$t.Transaction.prototype],rt(ln),ln),jt.schema=ln;var en,an=tn(Jt);return an&&Lr(),Gt=fn.follow(function(){var un;(en=Jt(jt))&&an&&(un=Er.bind(null,null),en.then(un,un))}),en&&typeof en.then=="function"?fn.resolve(en):Gt.then(function(){return en})}}),Ht.push(function(qt){var zt,Gt,Jt=Ut._cfg.dbschema;zt=Jt,Gt=qt,[].slice.call(Gt.db.objectStoreNames).forEach(function(ln){return zt[ln]==null&&Gt.db.deleteObjectStore(ln)}),Hs($t,[$t.Transaction.prototype]),vs($t,[$t.Transaction.prototype],$t._storeNames,$t._dbSchema),jt.schema=$t._dbSchema}),Ht.push(function(qt){$t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($t.idbdb.version/10)===Ut._cfg.version?($t.idbdb.deleteObjectStore("$meta"),delete $t._dbSchema.$meta,$t._storeNames=$t._storeNames.filter(function(zt){return zt!=="$meta"})):qt.objectStore("$meta").put(Ut._cfg.version,"version"))})}),function Ut(){return Ht.length?fn.resolve(Ht.shift()(jt.idbtrans)).then(Ut):fn.resolve()}().then(function(){_o(Mt,It)})):fn.resolve();var $t,Ft,jt,It,Ht,Mt}).catch(St)):(rt(yt).forEach(function(Dt){Us(pt,Dt,yt[Dt].primKey,yt[Dt].indexes)}),gs(it,pt),void fn.follow(function(){return it.on.populate.fire(_t)}).catch(St));var Nt,Ot})}function Wo(it,ct){_o(it._dbSchema,ct),ct.db.version%10!=0||ct.objectStoreNames.contains("$meta")||ct.db.createObjectStore("$meta").add(Math.ceil(ct.db.version/10-1),"version");var pt=xs(0,it.idbdb,ct);Es(it,it._dbSchema,ct);for(var gt=0,yt=Bs(pt,it._dbSchema).change;gt<yt.length;gt++){var _t=function(St){if(St.change.length||St.recreate)return console.warn("Unable to patch indexes of table ".concat(St.name," because it has changes on the type of index or primary key.")),{value:void 0};var Ct=ct.objectStore(St.name);St.add.forEach(function(Nt){Jn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(St.name,".").concat(Nt.src)),ys(Ct,Nt)})}(yt[gt]);if(typeof _t=="object")return _t.value}}function Bs(it,ct){var pt,gt={del:[],add:[],change:[]};for(pt in it)ct[pt]||gt.del.push(pt);for(pt in ct){var yt=it[pt],_t=ct[pt];if(yt){var St={name:pt,def:_t,recreate:!1,del:[],add:[],change:[]};if(""+(yt.primKey.keyPath||"")!=""+(_t.primKey.keyPath||"")||yt.primKey.auto!==_t.primKey.auto)St.recreate=!0,gt.change.push(St);else{var Ct=yt.idxByName,Nt=_t.idxByName,Ot=void 0;for(Ot in Ct)Nt[Ot]||St.del.push(Ot);for(Ot in Nt){var Dt=Ct[Ot],$t=Nt[Ot];Dt?Dt.src!==$t.src&&St.change.push($t):St.add.push($t)}(0<St.del.length||0<St.add.length||0<St.change.length)&&gt.change.push(St)}}else gt.add.push([pt,_t])}return gt}function Us(it,ct,pt,gt){var yt=it.db.createObjectStore(ct,pt.keyPath?{keyPath:pt.keyPath,autoIncrement:pt.auto}:{autoIncrement:pt.auto});return gt.forEach(function(_t){return ys(yt,_t)}),yt}function _o(it,ct){rt(it).forEach(function(pt){ct.db.objectStoreNames.contains(pt)||(Jn&&console.debug("Dexie: Creating missing table",pt),Us(ct,pt,it[pt].primKey,it[pt].indexes))})}function ys(it,ct){it.createIndex(ct.name,ct.keyPath,{unique:ct.unique,multiEntry:ct.multi})}function xs(it,ct,pt){var gt={};return xt(ct.objectStoreNames,0).forEach(function(yt){for(var _t=pt.objectStore(yt),St=Ls(xo(Ot=_t.keyPath),Ot||"",!0,!1,!!_t.autoIncrement,Ot&&typeof Ot!="string",!0),Ct=[],Nt=0;Nt<_t.indexNames.length;++Nt){var Dt=_t.index(_t.indexNames[Nt]),Ot=Dt.keyPath,Dt=Ls(Dt.name,Ot,!!Dt.unique,!!Dt.multiEntry,!1,Ot&&typeof Ot!="string",!1);Ct.push(Dt)}gt[yt]=Ds(yt,St,Ct)}),gt}function Es(it,ct,pt){for(var gt=pt.db.objectStoreNames,yt=0;yt<gt.length;++yt){var _t=gt[yt],St=pt.objectStore(_t);it._hasGetAll="getAll"in St;for(var Ct=0;Ct<St.indexNames.length;++Ct){var Nt=St.indexNames[Ct],Ot=St.index(Nt).keyPath,Dt=typeof Ot=="string"?Ot:"["+xt(Ot).join("+")+"]";!ct[_t]||(Ot=ct[_t].idxByName[Dt])&&(Ot.name=Nt,delete ct[_t].idxByName[Dt],ct[_t].idxByName[Nt]=Ot)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&nt.WorkerGlobalScope&&nt instanceof nt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(it._hasGetAll=!1)}function bo(it){return it.split(",").map(function(ct,pt){var gt=(ct=ct.trim()).replace(/([&*]|\+\+)/g,""),yt=/^\[/.test(gt)?gt.match(/^\[(.*)\]$/)[1].split("+"):gt;return Ls(gt,yt||null,/\&/.test(ct),/\*/.test(ct),/\+\+/.test(ct),st(yt),pt===0)})}var Go=(_s.prototype._parseStoresSpec=function(it,ct){rt(it).forEach(function(pt){if(it[pt]!==null){var gt=bo(it[pt]),yt=gt.shift();if(yt.unique=!0,yt.multi)throw new nn.Schema("Primary key cannot be multi-valued");gt.forEach(function(_t){if(_t.auto)throw new nn.Schema("Only primary key can be marked as autoIncrement (++)");if(!_t.keyPath)throw new nn.Schema("Index must have a name and cannot be an empty string")}),ct[pt]=Ds(pt,yt,gt)}})},_s.prototype.stores=function(pt){var ct=this.db;this._cfg.storesSource=this._cfg.storesSource?at(this._cfg.storesSource,pt):pt;var pt=ct._versions,gt={},yt={};return pt.forEach(function(_t){at(gt,_t._cfg.storesSource),yt=_t._cfg.dbschema={},_t._parseStoresSpec(gt,yt)}),ct._dbSchema=yt,Hs(ct,[ct._allTables,ct,ct.Transaction.prototype]),vs(ct,[ct._allTables,ct,ct.Transaction.prototype,this._cfg.tables],rt(yt),yt),ct._storeNames=rt(yt),this},_s.prototype.upgrade=function(it){return this._cfg.contentUpgrade=Mr(this._cfg.contentUpgrade||kn,it),this},_s);function _s(){}function Vs(it,ct){var pt=it._dbNamesDB;return pt||(pt=it._dbNamesDB=new pr(fs,{addons:[],indexedDB:it,IDBKeyRange:ct})).version(1).stores({dbnames:"name"}),pt.table("dbnames")}function qs(it){return it&&typeof it.databases=="function"}function zs(it){return xr(function(){return gn.letThrough=!0,it()})}function Ks(it){return!("from"in it)}var Qn=function(it,ct){if(!this){var pt=new Qn;return it&&"d"in it&&at(pt,it),pt}at(this,arguments.length?{d:1,from:it,to:1<arguments.length?ct:it}:{d:0})};function ns(it,ct,pt){var gt=jn(ct,pt);if(!isNaN(gt)){if(0<gt)throw RangeError();if(Ks(it))return at(it,{from:ct,to:pt,d:1});var yt=it.l,gt=it.r;if(jn(pt,it.from)<0)return yt?ns(yt,ct,pt):it.l={from:ct,to:pt,d:1,l:null,r:null},So(it);if(0<jn(ct,it.to))return gt?ns(gt,ct,pt):it.r={from:ct,to:pt,d:1,l:null,r:null},So(it);jn(ct,it.from)<0&&(it.from=ct,it.l=null,it.d=gt?gt.d+1:1),0<jn(pt,it.to)&&(it.to=pt,it.r=null,it.d=it.l?it.l.d+1:1),pt=!it.r,yt&&!it.l&&rs(it,yt),gt&&pt&&rs(it,gt)}}function rs(it,ct){Ks(ct)||function pt(gt,Nt){var _t=Nt.from,St=Nt.to,Ct=Nt.l,Nt=Nt.r;ns(gt,_t,St),Ct&&pt(gt,Ct),Nt&&pt(gt,Nt)}(it,ct)}function wo(it,ct){var pt=bs(ct),gt=pt.next();if(gt.done)return!1;for(var yt=gt.value,_t=bs(it),St=_t.next(yt.from),Ct=St.value;!gt.done&&!St.done;){if(jn(Ct.from,yt.to)<=0&&0<=jn(Ct.to,yt.from))return!0;jn(yt.from,Ct.from)<0?yt=(gt=pt.next(Ct.from)).value:Ct=(St=_t.next(yt.from)).value}return!1}function bs(it){var ct=Ks(it)?null:{s:0,n:it};return{next:function(pt){for(var gt=0<arguments.length;ct;)switch(ct.s){case 0:if(ct.s=1,gt)for(;ct.n.l&&jn(pt,ct.n.from)<0;)ct={up:ct,n:ct.n.l,s:1};else for(;ct.n.l;)ct={up:ct,n:ct.n.l,s:1};case 1:if(ct.s=2,!gt||jn(pt,ct.n.to)<=0)return{value:ct.n,done:!1};case 2:if(ct.n.r){ct.s=3,ct={up:ct,n:ct.n.r,s:0};continue}case 3:ct=ct.up}return{done:!0}}}}function So(it){var ct,pt,gt=(((ct=it.r)===null||ct===void 0?void 0:ct.d)||0)-(((pt=it.l)===null||pt===void 0?void 0:pt.d)||0),yt=1<gt?"r":gt<-1?"l":"";yt&&(ct=yt=="r"?"l":"r",pt=et({},it),gt=it[yt],it.from=gt.from,it.to=gt.to,it[yt]=gt[yt],pt[yt]=gt[ct],(it[ct]=pt).d=Ao(pt)),it.d=Ao(it)}function Ao(pt){var ct=pt.r,pt=pt.l;return(ct?pt?Math.max(ct.d,pt.d):ct.d:pt?pt.d:0)+1}function ws(it,ct){return rt(ct).forEach(function(pt){it[pt]?rs(it[pt],ct[pt]):it[pt]=function gt(yt){var _t,St,Ct={};for(_t in yt)ot(yt,_t)&&(St=yt[_t],Ct[_t]=!St||typeof St!="object"||Xt.has(St.constructor)?St:gt(St));return Ct}(ct[pt])}),it}function Ws(it,ct){return it.all||ct.all||Object.keys(it).some(function(pt){return ct[pt]&&wo(ct[pt],it[pt])})}lt(Qn.prototype,((er={add:function(it){return rs(this,it),this},addKey:function(it){return ns(this,it,it),this},addKeys:function(it){var ct=this;return it.forEach(function(pt){return ns(ct,pt,pt)}),this},hasKey:function(it){var ct=bs(this).next(it).value;return ct&&jn(ct.from,it)<=0&&0<=jn(ct.to,it)}})[on]=function(){return bs(this)},er));var kr={},Gs={},Qs=!1;function Ss(it){ws(Gs,it),Qs||(Qs=!0,setTimeout(function(){Qs=!1,Ys(Gs,!(Gs={}))},0))}function Ys(it,ct){ct===void 0&&(ct=!1);var pt=new Set;if(it.all)for(var gt=0,yt=Object.values(kr);gt<yt.length;gt++)Co(St=yt[gt],it,pt,ct);else for(var _t in it){var St,Ct=/^idb\:\/\/(.*)\/(.*)\//.exec(_t);Ct&&(_t=Ct[1],Ct=Ct[2],(St=kr["idb://".concat(_t,"/").concat(Ct)])&&Co(St,it,pt,ct))}pt.forEach(function(Nt){return Nt()})}function Co(it,ct,pt,gt){for(var yt=[],_t=0,St=Object.entries(it.queries.query);_t<St.length;_t++){for(var Ct=St[_t],Nt=Ct[0],Ot=[],Dt=0,$t=Ct[1];Dt<$t.length;Dt++){var Ft=$t[Dt];Ws(ct,Ft.obsSet)?Ft.subscribers.forEach(function(Mt){return pt.add(Mt)}):gt&&Ot.push(Ft)}gt&&yt.push([Nt,Ot])}if(gt)for(var jt=0,It=yt;jt<It.length;jt++){var Ht=It[jt],Nt=Ht[0],Ot=Ht[1];it.queries.query[Nt]=Ot}}function Qo(it){var ct=it._state,pt=it._deps.indexedDB;if(ct.isBeingOpened||it.idbdb)return ct.dbReadyPromise.then(function(){return ct.dbOpenError?Vn(ct.dbOpenError):it});ct.isBeingOpened=!0,ct.dbOpenError=null,ct.openComplete=!1;var gt=ct.openCanceller,yt=Math.round(10*it.verno),_t=!1;function St(){if(ct.openCanceller!==gt)throw new nn.DatabaseClosed("db.open() was cancelled")}function Ct(){return new fn(function(Ft,jt){if(St(),!pt)throw new nn.MissingAPI;var It=it.name,Ht=ct.autoSchema||!yt?pt.open(It):pt.open(It,yt);if(!Ht)throw new nn.MissingAPI;Ht.onerror=ir(jt),Ht.onblocked=Ln(it._fireOnBlocked),Ht.onupgradeneeded=Ln(function(Mt){var Ut;Dt=Ht.transaction,ct.autoSchema&&!it._options.allowEmptyDB?(Ht.onerror=Xr,Dt.abort(),Ht.result.close(),(Ut=pt.deleteDatabase(It)).onsuccess=Ut.onerror=Ln(function(){jt(new nn.NoSuchDatabase("Database ".concat(It," doesnt exist")))})):(Dt.onerror=ir(jt),Mt=Mt.oldVersion>Math.pow(2,62)?0:Mt.oldVersion,$t=Mt<1,it.idbdb=Ht.result,_t&&Wo(it,Dt),Ko(it,Mt/10,Dt,jt))},jt),Ht.onsuccess=Ln(function(){Dt=null;var Mt,Ut,qt,zt,Gt,Jt=it.idbdb=Ht.result,ln=xt(Jt.objectStoreNames);if(0<ln.length)try{var en=Jt.transaction((zt=ln).length===1?zt[0]:zt,"readonly");if(ct.autoSchema)Ut=Jt,qt=en,(Mt=it).verno=Ut.version/10,qt=Mt._dbSchema=xs(0,Ut,qt),Mt._storeNames=xt(Ut.objectStoreNames,0),vs(Mt,[Mt._allTables],rt(qt),qt);else if(Es(it,it._dbSchema,en),((Gt=Bs(xs(0,(Gt=it).idbdb,en),Gt._dbSchema)).add.length||Gt.change.some(function(an){return an.add.length||an.change.length}))&&!_t)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Jt.close(),yt=Jt.version+1,_t=!0,Ft(Ct());gs(it,en)}catch{}Dr.push(it),Jt.onversionchange=Ln(function(an){ct.vcFired=!0,it.on("versionchange").fire(an)}),Jt.onclose=Ln(function(an){it.on("close").fire(an)}),$t&&(Gt=it._deps,en=It,Jt=Gt.indexedDB,Gt=Gt.IDBKeyRange,qs(Jt)||en===fs||Vs(Jt,Gt).put({name:en}).catch(kn)),Ft()},jt)}).catch(function(Ft){switch(Ft==null?void 0:Ft.name){case"UnknownError":if(0<ct.PR1398_maxLoop)return ct.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),Ct();break;case"VersionError":if(0<yt)return yt=0,Ct()}return fn.reject(Ft)})}var Nt,Ot=ct.dbReadyResolve,Dt=null,$t=!1;return fn.race([gt,(typeof navigator>"u"?fn.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ft){function jt(){return indexedDB.databases().finally(Ft)}Nt=setInterval(jt,100),jt()}).finally(function(){return clearInterval(Nt)}):Promise.resolve()).then(Ct)]).then(function(){return St(),ct.onReadyBeingFired=[],fn.resolve(zs(function(){return it.on.ready.fire(it.vip)})).then(function Ft(){if(0<ct.onReadyBeingFired.length){var jt=ct.onReadyBeingFired.reduce(Mr,kn);return ct.onReadyBeingFired=[],fn.resolve(zs(function(){return jt(it.vip)})).then(Ft)}})}).finally(function(){ct.openCanceller===gt&&(ct.onReadyBeingFired=null,ct.isBeingOpened=!1)}).catch(function(Ft){ct.dbOpenError=Ft;try{Dt&&Dt.abort()}catch{}return gt===ct.openCanceller&&it._close(),Vn(Ft)}).finally(function(){ct.openComplete=!0,Ot()}).then(function(){var Ft;return $t&&(Ft={},it.tables.forEach(function(jt){jt.schema.indexes.forEach(function(It){It.name&&(Ft["idb://".concat(it.name,"/").concat(jt.name,"/").concat(It.name)]=new Qn(-1/0,[[[]]]))}),Ft["idb://".concat(it.name,"/").concat(jt.name,"/")]=Ft["idb://".concat(it.name,"/").concat(jt.name,"/:dels")]=new Qn(-1/0,[[[]]])}),wr(Zr).fire(Ft),Ys(Ft,!0)),it})}function Xs(it){function ct(_t){return it.next(_t)}var pt=yt(ct),gt=yt(function(_t){return it.throw(_t)});function yt(_t){return function(Nt){var Ct=_t(Nt),Nt=Ct.value;return Ct.done?Nt:Nt&&typeof Nt.then=="function"?Nt.then(pt,gt):st(Nt)?Promise.all(Nt).then(pt,gt):pt(Nt)}}return yt(ct)()}function As(it,ct,pt){for(var gt=st(it)?it.slice():[it],yt=0;yt<pt;++yt)gt.push(ct);return gt}var Yo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(it){return et(et({},it),{table:function(ct){var pt=it.table(ct),gt=pt.schema,yt={},_t=[];function St($t,Ft,jt){var It=es($t),Ht=yt[It]=yt[It]||[],Mt=$t==null?0:typeof $t=="string"?1:$t.length,Ut=0<Ft,Ut=et(et({},jt),{name:Ut?"".concat(It,"(virtual-from:").concat(jt.name,")"):jt.name,lowLevelIndex:jt,isVirtual:Ut,keyTail:Ft,keyLength:Mt,extractKey:Fs($t),unique:!Ut&&jt.unique});return Ht.push(Ut),Ut.isPrimaryKey||_t.push(Ut),1<Mt&&St(Mt===2?$t[0]:$t.slice(0,Mt-1),Ft+1,jt),Ht.sort(function(qt,zt){return qt.keyTail-zt.keyTail}),Ut}ct=St(gt.primaryKey.keyPath,0,gt.primaryKey),yt[":id"]=[ct];for(var Ct=0,Nt=gt.indexes;Ct<Nt.length;Ct++){var Ot=Nt[Ct];St(Ot.keyPath,0,Ot)}function Dt($t){var Ft,jt=$t.query.index;return jt.isVirtual?et(et({},$t),{query:{index:jt.lowLevelIndex,range:(Ft=$t.query.range,jt=jt.keyTail,{type:Ft.type===1?2:Ft.type,lower:As(Ft.lower,Ft.lowerOpen?it.MAX_KEY:it.MIN_KEY,jt),lowerOpen:!0,upper:As(Ft.upper,Ft.upperOpen?it.MIN_KEY:it.MAX_KEY,jt),upperOpen:!0})}}):$t}return et(et({},pt),{schema:et(et({},gt),{primaryKey:ct,indexes:_t,getIndexByKeyPath:function($t){return($t=yt[es($t)])&&$t[0]}}),count:function($t){return pt.count(Dt($t))},query:function($t){return pt.query(Dt($t))},openCursor:function($t){var Ft=$t.query.index,jt=Ft.keyTail,It=Ft.isVirtual,Ht=Ft.keyLength;return It?pt.openCursor(Dt($t)).then(function(Ut){return Ut&&Mt(Ut)}):pt.openCursor($t);function Mt(Ut){return Object.create(Ut,{continue:{value:function(qt){qt!=null?Ut.continue(As(qt,$t.reverse?it.MAX_KEY:it.MIN_KEY,jt)):$t.unique?Ut.continue(Ut.key.slice(0,Ht).concat($t.reverse?it.MIN_KEY:it.MAX_KEY,jt)):Ut.continue()}},continuePrimaryKey:{value:function(qt,zt){Ut.continuePrimaryKey(As(qt,it.MAX_KEY,jt),zt)}},primaryKey:{get:function(){return Ut.primaryKey}},key:{get:function(){var qt=Ut.key;return Ht===1?qt[0]:qt.slice(0,Ht)}},value:{get:function(){return Ut.value}}})}}})}})}};function Zs(it,ct,pt,gt){return pt=pt||{},gt=gt||"",rt(it).forEach(function(yt){var _t,St,Ct;ot(ct,yt)?(_t=it[yt],St=ct[yt],typeof _t=="object"&&typeof St=="object"&&_t&&St?(Ct=rn(_t))!==rn(St)?pt[gt+yt]=ct[yt]:Ct==="Object"?Zs(_t,St,pt,gt+yt+"."):_t!==St&&(pt[gt+yt]=ct[yt]):_t!==St&&(pt[gt+yt]=ct[yt])):pt[gt+yt]=void 0}),rt(ct).forEach(function(yt){ot(it,yt)||(pt[gt+yt]=ct[yt])}),pt}function Js(it,ct){return ct.type==="delete"?ct.keys:ct.keys||ct.values.map(it.extractKey)}var Xo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(it){return et(et({},it),{table:function(ct){var pt=it.table(ct),gt=pt.schema.primaryKey;return et(et({},pt),{mutate:function(yt){var _t=gn.trans,St=_t.table(ct).hook,Ct=St.deleting,Nt=St.creating,Ot=St.updating;switch(yt.type){case"add":if(Nt.fire===kn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"put":if(Nt.fire===kn&&Ot.fire===kn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"delete":if(Ct.fire===kn)break;return _t._promise("readwrite",function(){return Dt(yt)},!0);case"deleteRange":if(Ct.fire===kn)break;return _t._promise("readwrite",function(){return function $t(Ft,jt,It){return pt.query({trans:Ft,values:!1,query:{index:gt,range:jt},limit:It}).then(function(Ht){var Mt=Ht.result;return Dt({type:"delete",keys:Mt,trans:Ft}).then(function(Ut){return 0<Ut.numFailures?Promise.reject(Ut.failures[0]):Mt.length<It?{failures:[],numFailures:0,lastResult:void 0}:$t(Ft,et(et({},jt),{lower:Mt[Mt.length-1],lowerOpen:!0}),It)})})}(yt.trans,yt.range,1e4)},!0)}return pt.mutate(yt);function Dt($t){var Ft,jt,It,Ht=gn.trans,Mt=$t.keys||Js(gt,$t);if(!Mt)throw new Error("Keys missing");return($t=$t.type==="add"||$t.type==="put"?et(et({},$t),{keys:Mt}):et({},$t)).type!=="delete"&&($t.values=tt([],$t.values)),$t.keys&&($t.keys=tt([],$t.keys)),Ft=pt,It=Mt,((jt=$t).type==="add"?Promise.resolve([]):Ft.getMany({trans:jt.trans,keys:It,cache:"immutable"})).then(function(Ut){var qt=Mt.map(function(zt,Gt){var Jt,ln,en,an=Ut[Gt],un={onerror:null,onsuccess:null};return $t.type==="delete"?Ct.fire.call(un,zt,an,Ht):$t.type==="add"||an===void 0?(Jt=Nt.fire.call(un,zt,$t.values[Gt],Ht),zt==null&&Jt!=null&&($t.keys[Gt]=zt=Jt,gt.outbound||wt($t.values[Gt],gt.keyPath,zt))):(Jt=Zs(an,$t.values[Gt]),(ln=Ot.fire.call(un,Jt,zt,an,Ht))&&(en=$t.values[Gt],Object.keys(ln).forEach(function(Zt){ot(en,Zt)?en[Zt]=ln[Zt]:wt(en,Zt,ln[Zt])}))),un});return pt.mutate($t).then(function(zt){for(var Gt=zt.failures,Jt=zt.results,ln=zt.numFailures,zt=zt.lastResult,en=0;en<Mt.length;++en){var an=(Jt||Mt)[en],un=qt[en];an==null?un.onerror&&un.onerror(Gt[en]):un.onsuccess&&un.onsuccess($t.type==="put"&&Ut[en]?$t.values[en]:an)}return{failures:Gt,results:Jt,numFailures:ln,lastResult:zt}}).catch(function(zt){return qt.forEach(function(Gt){return Gt.onerror&&Gt.onerror(zt)}),Promise.reject(zt)})})}}})}})}};function Ro(it,ct,pt){try{if(!ct||ct.keys.length<it.length)return null;for(var gt=[],yt=0,_t=0;yt<ct.keys.length&&_t<it.length;++yt)jn(ct.keys[yt],it[_t])===0&&(gt.push(pt?En(ct.values[yt]):ct.values[yt]),++_t);return gt.length===it.length?gt:null}catch{return null}}var Zo={stack:"dbcore",level:-1,create:function(it){return{table:function(ct){var pt=it.table(ct);return et(et({},pt),{getMany:function(gt){if(!gt.cache)return pt.getMany(gt);var yt=Ro(gt.keys,gt.trans._cache,gt.cache==="clone");return yt?fn.resolve(yt):pt.getMany(gt).then(function(_t){return gt.trans._cache={keys:gt.keys,values:gt.cache==="clone"?En(_t):_t},_t})},mutate:function(gt){return gt.type!=="add"&&(gt.trans._cache=null),pt.mutate(gt)}})}}}};function To(it,ct){return it.trans.mode==="readonly"&&!!it.subscr&&!it.trans.explicit&&it.trans.db._options.cache!=="disabled"&&!ct.schema.primaryKey.outbound}function Po(it,ct){switch(it){case"query":return ct.values&&!ct.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Jo={stack:"dbcore",level:0,name:"Observability",create:function(it){var ct=it.schema.name,pt=new Qn(it.MIN_KEY,it.MAX_KEY);return et(et({},it),{transaction:function(gt,yt,_t){if(gn.subscr&&yt!=="readonly")throw new nn.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(gn.querier));return it.transaction(gt,yt,_t)},table:function(gt){var yt=it.table(gt),_t=yt.schema,St=_t.primaryKey,$t=_t.indexes,Ct=St.extractKey,Nt=St.outbound,Ot=St.autoIncrement&&$t.filter(function(jt){return jt.compound&&jt.keyPath.includes(St.keyPath)}),Dt=et(et({},yt),{mutate:function(jt){function It(Zt){return Zt="idb://".concat(ct,"/").concat(gt,"/").concat(Zt),zt[Zt]||(zt[Zt]=new Qn)}var Ht,Mt,Ut,qt=jt.trans,zt=jt.mutatedParts||(jt.mutatedParts={}),Gt=It(""),Jt=It(":dels"),ln=jt.type,un=jt.type==="deleteRange"?[jt.range]:jt.type==="delete"?[jt.keys]:jt.values.length<50?[Js(St,jt).filter(function(Zt){return Zt}),jt.values]:[],en=un[0],an=un[1],un=jt.trans._cache;return st(en)?(Gt.addKeys(en),(un=ln==="delete"||en.length===an.length?Ro(en,un):null)||Jt.addKeys(en),(un||an)&&(Ht=It,Mt=un,Ut=an,_t.indexes.forEach(function(Zt){var Cn=Ht(Zt.name||"");function Rn(Tn){return Tn!=null?Zt.extractKey(Tn):null}function $n(Tn){return Zt.multiEntry&&st(Tn)?Tn.forEach(function(rr){return Cn.addKey(rr)}):Cn.addKey(Tn)}(Mt||Ut).forEach(function(Tn,Wn){var Pn=Mt&&Rn(Mt[Wn]),Wn=Ut&&Rn(Ut[Wn]);jn(Pn,Wn)!==0&&(Pn!=null&&$n(Pn),Wn!=null&&$n(Wn))})}))):en?(an={from:en.lower,to:en.upper},Jt.add(an),Gt.add(an)):(Gt.add(pt),Jt.add(pt),_t.indexes.forEach(function(Zt){return It(Zt.name).add(pt)})),yt.mutate(jt).then(function(Zt){return!en||jt.type!=="add"&&jt.type!=="put"||(Gt.addKeys(Zt.results),Ot&&Ot.forEach(function(Cn){var Rn=jt.values.map(function(Tn){return Cn.extractKey(Tn)}),$n=Cn.keyPath.findIndex(function(Tn){return Tn===St.keyPath});Zt.results.forEach(function(Tn){return Rn[$n]=Tn}),It(Cn.name).addKeys(Rn)})),qt.mutatedParts=ws(qt.mutatedParts||{},zt),Zt})}}),$t=function(It){var Ht=It.query,It=Ht.index,Ht=Ht.range;return[It,new Qn((It=Ht.lower)!==null&&It!==void 0?It:it.MIN_KEY,(Ht=Ht.upper)!==null&&Ht!==void 0?Ht:it.MAX_KEY)]},Ft={get:function(jt){return[St,new Qn(jt.key)]},getMany:function(jt){return[St,new Qn().addKeys(jt.keys)]},count:$t,query:$t,openCursor:$t};return rt(Ft).forEach(function(jt){Dt[jt]=function(It){var Ht=gn.subscr,Mt=!!Ht,Ut=To(gn,yt)&&Po(jt,It)?It.obsSet={}:Ht;if(Mt){var qt=function(an){return an="idb://".concat(ct,"/").concat(gt,"/").concat(an),Ut[an]||(Ut[an]=new Qn)},zt=qt(""),Gt=qt(":dels"),Ht=Ft[jt](It),Mt=Ht[0],Ht=Ht[1];if((jt==="query"&&Mt.isPrimaryKey&&!It.values?Gt:qt(Mt.name||"")).add(Ht),!Mt.isPrimaryKey){if(jt!=="count"){var Jt=jt==="query"&&Nt&&It.values&&yt.query(et(et({},It),{values:!1}));return yt[jt].apply(this,arguments).then(function(an){if(jt==="query"){if(Nt&&It.values)return Jt.then(function(Rn){return Rn=Rn.result,zt.addKeys(Rn),an});var un=It.values?an.result.map(Ct):an.result;(It.values?zt:Gt).addKeys(un)}else if(jt==="openCursor"){var Zt=an,Cn=It.values;return Zt&&Object.create(Zt,{key:{get:function(){return Gt.addKey(Zt.primaryKey),Zt.key}},primaryKey:{get:function(){var Rn=Zt.primaryKey;return Gt.addKey(Rn),Rn}},value:{get:function(){return Cn&&zt.addKey(Zt.primaryKey),Zt.value}}})}return an})}Gt.add(pt)}}return yt[jt].apply(this,arguments)}}),Dt}})}};function $o(it,ct,pt){if(pt.numFailures===0)return ct;if(ct.type==="deleteRange")return null;var gt=ct.keys?ct.keys.length:"values"in ct&&ct.values?ct.values.length:1;return pt.numFailures===gt?null:(ct=et({},ct),st(ct.keys)&&(ct.keys=ct.keys.filter(function(yt,_t){return!(_t in pt.failures)})),"values"in ct&&st(ct.values)&&(ct.values=ct.values.filter(function(yt,_t){return!(_t in pt.failures)})),ct)}function eo(it,ct){return pt=it,((gt=ct).lower===void 0||(gt.lowerOpen?0<jn(pt,gt.lower):0<=jn(pt,gt.lower)))&&(it=it,(ct=ct).upper===void 0||(ct.upperOpen?jn(it,ct.upper)<0:jn(it,ct.upper)<=0));var pt,gt}function ko(it,ct,Ft,gt,yt,_t){if(!Ft||Ft.length===0)return it;var St=ct.query.index,Ct=St.multiEntry,Nt=ct.query.range,Ot=gt.schema.primaryKey.extractKey,Dt=St.extractKey,$t=(St.lowLevelIndex||St).extractKey,Ft=Ft.reduce(function(jt,It){var Ht=jt,Mt=[];if(It.type==="add"||It.type==="put")for(var Ut=new Qn,qt=It.values.length-1;0<=qt;--qt){var zt,Gt=It.values[qt],Jt=Ot(Gt);Ut.hasKey(Jt)||(zt=Dt(Gt),(Ct&&st(zt)?zt.some(function(un){return eo(un,Nt)}):eo(zt,Nt))&&(Ut.addKey(Jt),Mt.push(Gt)))}switch(It.type){case"add":Ht=jt.concat(ct.values?Mt:Mt.map(function(Zt){return Ot(Zt)}));break;case"put":var ln=new Qn().addKeys(It.values.map(function(Zt){return Ot(Zt)})),Ht=jt.filter(function(Zt){return!ln.hasKey(ct.values?Ot(Zt):Zt)}).concat(ct.values?Mt:Mt.map(function(Zt){return Ot(Zt)}));break;case"delete":var en=new Qn().addKeys(It.keys);Ht=jt.filter(function(Zt){return!en.hasKey(ct.values?Ot(Zt):Zt)});break;case"deleteRange":var an=It.range;Ht=jt.filter(function(Zt){return!eo(Ot(Zt),an)})}return Ht},it);return Ft===it?it:(Ft.sort(function(jt,It){return jn($t(jt),$t(It))||jn(Ot(jt),Ot(It))}),ct.limit&&ct.limit<1/0&&(Ft.length>ct.limit?Ft.length=ct.limit:it.length===ct.limit&&Ft.length<ct.limit&&(yt.dirty=!0)),_t?Object.freeze(Ft):Ft)}function Oo(it,ct){return jn(it.lower,ct.lower)===0&&jn(it.upper,ct.upper)===0&&!!it.lowerOpen==!!ct.lowerOpen&&!!it.upperOpen==!!ct.upperOpen}function _i(it,ct){return function(pt,gt,yt,_t){if(pt===void 0)return gt!==void 0?-1:0;if(gt===void 0)return 1;if((gt=jn(pt,gt))===0){if(yt&&_t)return 0;if(yt)return 1;if(_t)return-1}return gt}(it.lower,ct.lower,it.lowerOpen,ct.lowerOpen)<=0&&0<=function(pt,gt,yt,_t){if(pt===void 0)return gt!==void 0?1:0;if(gt===void 0)return-1;if((gt=jn(pt,gt))===0){if(yt&&_t)return 0;if(yt)return-1;if(_t)return 1}return gt}(it.upper,ct.upper,it.upperOpen,ct.upperOpen)}function na(it,ct,pt,gt){it.subscribers.add(pt),gt.addEventListener("abort",function(){var yt,_t;it.subscribers.delete(pt),it.subscribers.size===0&&(yt=it,_t=ct,setTimeout(function(){yt.subscribers.size===0&&Kt(_t,yt)},3e3))})}var ga={stack:"dbcore",level:0,name:"Cache",create:function(it){var ct=it.schema.name;return et(et({},it),{transaction:function(pt,gt,yt){var _t,St,Ct=it.transaction(pt,gt,yt);return gt==="readwrite"&&(St=(_t=new AbortController).signal,yt=function(Nt){return function(){if(_t.abort(),gt==="readwrite"){for(var Ot=new Set,Dt=0,$t=pt;Dt<$t.length;Dt++){var Ft=$t[Dt],jt=kr["idb://".concat(ct,"/").concat(Ft)];if(jt){var It=it.table(Ft),Ht=jt.optimisticOps.filter(function(Cn){return Cn.trans===Ct});if(Ct._explicit&&Nt&&Ct.mutatedParts)for(var Mt=0,Ut=Object.values(jt.queries.query);Mt<Ut.length;Mt++)for(var qt=0,zt=(ln=Ut[Mt]).slice();qt<zt.length;qt++)Ws((en=zt[qt]).obsSet,Ct.mutatedParts)&&(Kt(ln,en),en.subscribers.forEach(function(Cn){return Ot.add(Cn)}));else if(0<Ht.length){jt.optimisticOps=jt.optimisticOps.filter(function(Cn){return Cn.trans!==Ct});for(var Gt=0,Jt=Object.values(jt.queries.query);Gt<Jt.length;Gt++)for(var ln,en,an,un=0,Zt=(ln=Jt[Gt]).slice();un<Zt.length;un++)(en=Zt[un]).res!=null&&Ct.mutatedParts&&(Nt&&!en.dirty?(an=Object.isFrozen(en.res),an=ko(en.res,en.req,Ht,It,en,an),en.dirty?(Kt(ln,en),en.subscribers.forEach(function(Cn){return Ot.add(Cn)})):an!==en.res&&(en.res=an,en.promise=fn.resolve({result:an}))):(en.dirty&&Kt(ln,en),en.subscribers.forEach(function(Cn){return Ot.add(Cn)})))}}}Ot.forEach(function(Cn){return Cn()})}}},Ct.addEventListener("abort",yt(!1),{signal:St}),Ct.addEventListener("error",yt(!1),{signal:St}),Ct.addEventListener("complete",yt(!0),{signal:St})),Ct},table:function(pt){var gt=it.table(pt),yt=gt.schema.primaryKey;return et(et({},gt),{mutate:function(_t){var St=gn.trans;if(yt.outbound||St.db._options.cache==="disabled"||St.explicit)return gt.mutate(_t);var Ct=kr["idb://".concat(ct,"/").concat(pt)];return Ct?(St=gt.mutate(_t),_t.type!=="add"&&_t.type!=="put"||!(50<=_t.values.length||Js(yt,_t).some(function(Nt){return Nt==null}))?(Ct.optimisticOps.push(_t),_t.mutatedParts&&Ss(_t.mutatedParts),St.then(function(Nt){0<Nt.numFailures&&(Kt(Ct.optimisticOps,_t),(Nt=$o(0,_t,Nt))&&Ct.optimisticOps.push(Nt),_t.mutatedParts&&Ss(_t.mutatedParts))}),St.catch(function(){Kt(Ct.optimisticOps,_t),_t.mutatedParts&&Ss(_t.mutatedParts)})):St.then(function(Nt){var Ot=$o(0,et(et({},_t),{values:_t.values.map(function(jt,$t){var Ft,jt=(Ft=yt.keyPath)!==null&&Ft!==void 0&&Ft.includes(".")?En(jt):et({},jt);return wt(jt,yt.keyPath,Nt.results[$t]),jt})}),Nt);Ct.optimisticOps.push(Ot),queueMicrotask(function(){return _t.mutatedParts&&Ss(_t.mutatedParts)})}),St):gt.mutate(_t)},query:function(_t){if(!To(gn,gt)||!Po("query",_t))return gt.query(_t);var St=((Ot=gn.trans)===null||Ot===void 0?void 0:Ot.db._options.cache)==="immutable",$t=gn,Ct=$t.requery,Nt=$t.signal,Ot=function(It,Ht,Mt,Ut){var qt=kr["idb://".concat(It,"/").concat(Ht)];if(!qt)return[];if(!(Ht=qt.queries[Mt]))return[null,!1,qt,null];var zt=Ht[(Ut.query?Ut.query.index.name:null)||""];if(!zt)return[null,!1,qt,null];switch(Mt){case"query":var Gt=zt.find(function(Jt){return Jt.req.limit===Ut.limit&&Jt.req.values===Ut.values&&Oo(Jt.req.query.range,Ut.query.range)});return Gt?[Gt,!0,qt,zt]:[zt.find(function(Jt){return("limit"in Jt.req?Jt.req.limit:1/0)>=Ut.limit&&(!Ut.values||Jt.req.values)&&_i(Jt.req.query.range,Ut.query.range)}),!1,qt,zt];case"count":return Gt=zt.find(function(Jt){return Oo(Jt.req.query.range,Ut.query.range)}),[Gt,!!Gt,qt,zt]}}(ct,pt,"query",_t),Dt=Ot[0],$t=Ot[1],Ft=Ot[2],jt=Ot[3];return Dt&&$t?Dt.obsSet=_t.obsSet:($t=gt.query(_t).then(function(It){var Ht=It.result;if(Dt&&(Dt.res=Ht),St){for(var Mt=0,Ut=Ht.length;Mt<Ut;++Mt)Object.freeze(Ht[Mt]);Object.freeze(Ht)}else It.result=En(Ht);return It}).catch(function(It){return jt&&Dt&&Kt(jt,Dt),Promise.reject(It)}),Dt={obsSet:_t.obsSet,promise:$t,subscribers:new Set,type:"query",req:_t,dirty:!1},jt?jt.push(Dt):(jt=[Dt],(Ft=Ft||(kr["idb://".concat(ct,"/").concat(pt)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_t.query.index.name||""]=jt)),na(Dt,jt,Ct,Nt),Dt.promise.then(function(It){return{result:ko(It.result,_t,Ft==null?void 0:Ft.optimisticOps,gt,Dt,St)}})}})}})}};function Cs(it,ct){return new Proxy(it,{get:function(pt,gt,yt){return gt==="db"?ct:Reflect.get(pt,gt,yt)}})}var pr=(qn.prototype.version=function(it){if(isNaN(it)||it<.1)throw new nn.Type("Given version is not a positive number");if(it=Math.round(10*it)/10,this.idbdb||this._state.isBeingOpened)throw new nn.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,it);var ct=this._versions,pt=ct.filter(function(gt){return gt._cfg.version===it})[0];return pt||(pt=new this.Version(it),ct.push(pt),ct.sort(zo),pt.stores({}),this._state.autoSchema=!1,pt)},qn.prototype._whenReady=function(it){var ct=this;return this.idbdb&&(this._state.openComplete||gn.letThrough||this._vip)?it():new fn(function(pt,gt){if(ct._state.openComplete)return gt(new nn.DatabaseClosed(ct._state.dbOpenError));if(!ct._state.isBeingOpened){if(!ct._state.autoOpen)return void gt(new nn.DatabaseClosed);ct.open().catch(kn)}ct._state.dbReadyPromise.then(pt,gt)}).then(it)},qn.prototype.use=function(it){var ct=it.stack,pt=it.create,gt=it.level,yt=it.name;return yt&&this.unuse({stack:ct,name:yt}),it=this._middlewares[ct]||(this._middlewares[ct]=[]),it.push({stack:ct,create:pt,level:gt??10,name:yt}),it.sort(function(_t,St){return _t.level-St.level}),this},qn.prototype.unuse=function(it){var ct=it.stack,pt=it.name,gt=it.create;return ct&&this._middlewares[ct]&&(this._middlewares[ct]=this._middlewares[ct].filter(function(yt){return gt?yt.create!==gt:!!pt&&yt.name!==pt})),this},qn.prototype.open=function(){var it=this;return Tr(nr,function(){return Qo(it)})},qn.prototype._close=function(){var it=this._state,ct=Dr.indexOf(this);if(0<=ct&&Dr.splice(ct,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}it.isBeingOpened||(it.dbReadyPromise=new fn(function(pt){it.dbReadyResolve=pt}),it.openCanceller=new fn(function(pt,gt){it.cancelOpen=gt}))},qn.prototype.close=function(pt){var ct=(pt===void 0?{disableAutoOpen:!0}:pt).disableAutoOpen,pt=this._state;ct?(pt.isBeingOpened&&pt.cancelOpen(new nn.DatabaseClosed),this._close(),pt.autoOpen=!1,pt.dbOpenError=new nn.DatabaseClosed):(this._close(),pt.autoOpen=this._options.autoOpen||pt.isBeingOpened,pt.openComplete=!1,pt.dbOpenError=null)},qn.prototype.delete=function(it){var ct=this;it===void 0&&(it={disableAutoOpen:!0});var pt=0<arguments.length&&typeof arguments[0]!="object",gt=this._state;return new fn(function(yt,_t){function St(){ct.close(it);var Ct=ct._deps.indexedDB.deleteDatabase(ct.name);Ct.onsuccess=Ln(function(){var Nt,Ot,Dt;Nt=ct._deps,Ot=ct.name,Dt=Nt.indexedDB,Nt=Nt.IDBKeyRange,qs(Dt)||Ot===fs||Vs(Dt,Nt).delete(Ot).catch(kn),yt()}),Ct.onerror=ir(_t),Ct.onblocked=ct._fireOnBlocked}if(pt)throw new nn.InvalidArgument("Invalid closeOptions argument to db.delete()");gt.isBeingOpened?gt.dbReadyPromise.then(St):St()})},qn.prototype.backendDB=function(){return this.idbdb},qn.prototype.isOpen=function(){return this.idbdb!==null},qn.prototype.hasBeenClosed=function(){var it=this._state.dbOpenError;return it&&it.name==="DatabaseClosed"},qn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},qn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(qn.prototype,"tables",{get:function(){var it=this;return rt(this._allTables).map(function(ct){return it._allTables[ct]})},enumerable:!1,configurable:!0}),qn.prototype.transaction=function(){var it=(function(ct,pt,gt){var yt=arguments.length;if(yt<2)throw new nn.InvalidArgument("Too few arguments");for(var _t=new Array(yt-1);--yt;)_t[yt-1]=arguments[yt];return gt=_t.pop(),[ct,Vt(_t),gt]}).apply(this,arguments);return this._transaction.apply(this,it)},qn.prototype._transaction=function(it,ct,pt){var gt=this,yt=gn.trans;yt&&yt.db===this&&it.indexOf("!")===-1||(yt=null);var _t,St,Ct=it.indexOf("?")!==-1;it=it.replace("!","").replace("?","");try{if(St=ct.map(function(Ot){if(Ot=Ot instanceof gt.Table?Ot.name:Ot,typeof Ot!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Ot}),it=="r"||it===ks)_t=ks;else{if(it!="rw"&&it!=Os)throw new nn.InvalidArgument("Invalid transaction mode: "+it);_t=Os}if(yt){if(yt.mode===ks&&_t===Os){if(!Ct)throw new nn.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");yt=null}yt&&St.forEach(function(Ot){if(yt&&yt.storeNames.indexOf(Ot)===-1){if(!Ct)throw new nn.SubTransaction("Table "+Ot+" not included in parent transaction.");yt=null}}),Ct&&yt&&!yt.active&&(yt=null)}}catch(Ot){return yt?yt._promise(null,function(Dt,$t){$t(Ot)}):Vn(Ot)}var Nt=(function Ot(Dt,$t,Ft,jt,It){return fn.resolve().then(function(){var Ht=gn.transless||gn,Mt=Dt._createTransaction($t,Ft,Dt._dbSchema,jt);if(Mt.explicit=!0,Ht={trans:Mt,transless:Ht},jt)Mt.idbtrans=jt.idbtrans;else try{Mt.create(),Mt.idbtrans._explicit=!0,Dt._state.PR1398_maxLoop=3}catch(zt){return zt.name===yn.InvalidState&&Dt.isOpen()&&0<--Dt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Dt.close({disableAutoOpen:!1}),Dt.open().then(function(){return Ot(Dt,$t,Ft,null,It)})):Vn(zt)}var Ut,qt=tn(It);return qt&&Lr(),Ht=fn.follow(function(){var zt;(Ut=It.call(Mt,Mt))&&(qt?(zt=Er.bind(null,null),Ut.then(zt,zt)):typeof Ut.next=="function"&&typeof Ut.throw=="function"&&(Ut=Xs(Ut)))},Ht),(Ut&&typeof Ut.then=="function"?fn.resolve(Ut).then(function(zt){return Mt.active?zt:Vn(new nn.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ht.then(function(){return Ut})).then(function(zt){return jt&&Mt._resolve(),Mt._completion.then(function(){return zt})}).catch(function(zt){return Mt._reject(zt),Vn(zt)})})}).bind(null,this,_t,St,yt,pt);return yt?yt._promise(_t,Nt,"lock"):gn.trans?Tr(gn.transless,function(){return gt._whenReady(Nt)}):this._whenReady(Nt)},qn.prototype.table=function(it){if(!ot(this._allTables,it))throw new nn.InvalidTable("Table ".concat(it," does not exist"));return this._allTables[it]},qn);function qn(it,ct){var pt=this;this._middlewares={},this.verno=0;var gt=qn.dependencies;this._options=ct=et({addons:qn.addons,autoOpen:!0,indexedDB:gt.indexedDB,IDBKeyRange:gt.IDBKeyRange,cache:"cloned"},ct),this._deps={indexedDB:ct.indexedDB,IDBKeyRange:ct.IDBKeyRange},gt=ct.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var yt,_t,St,Ct,Nt,Ot={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:kn,dbReadyPromise:null,cancelOpen:kn,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:ct.autoOpen};Ot.dbReadyPromise=new fn(function($t){Ot.dbReadyResolve=$t}),Ot.openCanceller=new fn(function($t,Ft){Ot.cancelOpen=Ft}),this._state=Ot,this.name=it,this.on=Gr(this,"populate","blocked","versionchange","close",{ready:[Mr,kn]}),this.on.ready.subscribe=Et(this.on.ready.subscribe,function($t){return function(Ft,jt){qn.vip(function(){var It,Ht=pt._state;Ht.openComplete?(Ht.dbOpenError||fn.resolve().then(Ft),jt&&$t(Ft)):Ht.onReadyBeingFired?(Ht.onReadyBeingFired.push(Ft),jt&&$t(Ft)):($t(Ft),It=pt,jt||$t(function Mt(){It.on.ready.unsubscribe(Ft),It.on.ready.unsubscribe(Mt)}))})}}),this.Collection=(yt=this,Qr(Do.prototype,function(Ut,Mt){this.db=yt;var jt=lo,It=null;if(Mt)try{jt=Mt()}catch(qt){It=qt}var Ht=Ut._ctx,Mt=Ht.table,Ut=Mt.hook.reading.fire;this._ctx={table:Mt,index:Ht.index,isPrimKey:!Ht.index||Mt.schema.primKey.keyPath&&Ht.index===Mt.schema.primKey.name,range:jt,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:It,or:Ht.or,valueMapper:Ut!==Kn?Ut:null}})),this.Table=(_t=this,Qr(po.prototype,function($t,Ft,jt){this.db=_t,this._tx=jt,this.name=$t,this.schema=Ft,this.hook=_t._allTables[$t]?_t._allTables[$t].hook:Gr(null,{creating:[Nr,kn],reading:[lr,Kn],updating:[qr,kn],deleting:[Vr,kn]})})),this.Transaction=(St=this,Qr(Bo.prototype,function($t,Ft,jt,It,Ht){var Mt=this;this.db=St,this.mode=$t,this.storeNames=Ft,this.schema=jt,this.chromeTransactionDurability=It,this.idbtrans=null,this.on=Gr(this,"complete","error","abort"),this.parent=Ht||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new fn(function(Ut,qt){Mt._resolve=Ut,Mt._reject=qt}),this._completion.then(function(){Mt.active=!1,Mt.on.complete.fire()},function(Ut){var qt=Mt.active;return Mt.active=!1,Mt.on.error.fire(Ut),Mt.parent?Mt.parent._reject(Ut):qt&&Mt.idbtrans&&Mt.idbtrans.abort(),Vn(Ut)})})),this.Version=(Ct=this,Qr(Go.prototype,function($t){this.db=Ct,this._cfg={version:$t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Nt=this,Qr(yo.prototype,function($t,Ft,jt){if(this.db=Nt,this._ctx={table:$t,index:Ft===":id"?null:Ft,or:jt},this._cmp=this._ascending=jn,this._descending=function(It,Ht){return jn(Ht,It)},this._max=function(It,Ht){return 0<jn(It,Ht)?It:Ht},this._min=function(It,Ht){return jn(It,Ht)<0?It:Ht},this._IDBKeyRange=Nt._deps.IDBKeyRange,!this._IDBKeyRange)throw new nn.MissingAPI})),this.on("versionchange",function($t){0<$t.newVersion?console.warn("Another connection wants to upgrade database '".concat(pt.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(pt.name,"'. Closing db now to resume the delete request.")),pt.close({disableAutoOpen:!1})}),this.on("blocked",function($t){!$t.newVersion||$t.newVersion<$t.oldVersion?console.warn("Dexie.delete('".concat(pt.name,"') was blocked")):console.warn("Upgrade '".concat(pt.name,"' blocked by other connection holding version ").concat($t.oldVersion/10))}),this._maxKey=Jr(ct.IDBKeyRange),this._createTransaction=function($t,Ft,jt,It){return new pt.Transaction($t,Ft,jt,pt._options.chromeTransactionDurability,It)},this._fireOnBlocked=function($t){pt.on("blocked").fire($t),Dr.filter(function(Ft){return Ft.name===pt.name&&Ft!==pt&&!Ft._state.vcFired}).map(function(Ft){return Ft.on("versionchange").fire($t)})},this.use(Zo),this.use(ga),this.use(Jo),this.use(Yo),this.use(Xo);var Dt=new Proxy(this,{get:function($t,Ft,jt){if(Ft==="_vip")return!0;if(Ft==="table")return function(Ht){return Cs(pt.table(Ht),Dt)};var It=Reflect.get($t,Ft,jt);return It instanceof po?Cs(It,Dt):Ft==="tables"?It.map(function(Ht){return Cs(Ht,Dt)}):Ft==="_createTransaction"?function(){return Cs(It.apply(this,arguments),Dt)}:It}});this.vip=Dt,gt.forEach(function($t){return $t(pt)})}var Rs,er=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",xa=(no.prototype.subscribe=function(it,ct,pt){return this._subscribe(it&&typeof it!="function"?it:{next:it,error:ct,complete:pt})},no.prototype[er]=function(){return this},no);function no(it){this._subscribe=it}try{Rs={indexedDB:nt.indexedDB||nt.mozIndexedDB||nt.webkitIndexedDB||nt.msIndexedDB,IDBKeyRange:nt.IDBKeyRange||nt.webkitIDBKeyRange}}catch{Rs={indexedDB:null,IDBKeyRange:null}}function jo(it){var ct,pt=!1,gt=new xa(function(yt){var _t=tn(it),St,Ct=!1,Nt={},Ot={},Dt={get closed(){return Ct},unsubscribe:function(){Ct||(Ct=!0,St&&St.abort(),$t&&wr.storagemutated.unsubscribe(jt))}};yt.start&&yt.start(Dt);var $t=!1,Ft=function(){return $s(It)},jt=function(Ht){ws(Nt,Ht),Ws(Ot,Nt)&&Ft()},It=function(){var Ht,Mt,Ut;!Ct&&Rs.indexedDB&&(Nt={},Ht={},St&&St.abort(),St=new AbortController,Ut=function(qt){var zt=An();try{_t&&Lr();var Gt=xr(it,qt);return Gt=_t?Gt.finally(Er):Gt}finally{zt&&On()}}(Mt={subscr:Ht,signal:St.signal,requery:Ft,querier:it,trans:null}),Promise.resolve(Ut).then(function(qt){pt=!0,ct=qt,Ct||Mt.signal.aborted||(Nt={},function(zt){for(var Gt in zt)if(ot(zt,Gt))return;return 1}(Ot=Ht)||$t||(wr(Zr,jt),$t=!0),$s(function(){return!Ct&&yt.next&&yt.next(qt)}))},function(qt){pt=!1,["DatabaseClosedError","AbortError"].includes(qt==null?void 0:qt.name)||Ct||$s(function(){Ct||yt.error&&yt.error(qt)})}))};return setTimeout(Ft,0),Dt});return gt.hasValue=function(){return pt},gt.getValue=function(){return ct},gt}var Or=pr;function ro(it){var ct=Sr;try{Sr=!0,wr.storagemutated.fire(it),Ys(it,!0)}finally{Sr=ct}}lt(Or,et(et({},tr),{delete:function(it){return new Or(it,{addons:[]}).delete()},exists:function(it){return new Or(it,{addons:[]}).open().then(function(ct){return ct.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(it){try{return ct=Or.dependencies,pt=ct.indexedDB,ct=ct.IDBKeyRange,(qs(pt)?Promise.resolve(pt.databases()).then(function(gt){return gt.map(function(yt){return yt.name}).filter(function(yt){return yt!==fs})}):Vs(pt,ct).toCollection().primaryKeys()).then(it)}catch{return Vn(new nn.MissingAPI)}var ct,pt},defineClass:function(){return function(it){at(this,it)}},ignoreTransaction:function(it){return gn.trans?Tr(gn.transless,it):it()},vip:zs,async:function(it){return function(){try{var ct=Xs(it.apply(this,arguments));return ct&&typeof ct.then=="function"?ct:fn.resolve(ct)}catch(pt){return Vn(pt)}}},spawn:function(it,ct,pt){try{var gt=Xs(it.apply(pt,ct||[]));return gt&&typeof gt.then=="function"?gt:fn.resolve(gt)}catch(yt){return Vn(yt)}},currentTransaction:{get:function(){return gn.trans||null}},waitFor:function(it,ct){return ct=fn.resolve(typeof it=="function"?Or.ignoreTransaction(it):it).timeout(ct||6e4),gn.trans?gn.trans.waitFor(ct):ct},Promise:fn,debug:{get:function(){return Jn},set:function(it){hr(it)}},derive:vt,extend:at,props:lt,override:Et,Events:Gr,on:wr,liveQuery:jo,extendObservabilitySet:ws,getByKeyPath:Lt,setByKeyPath:wt,delByKeyPath:function(it,ct){typeof ct=="string"?wt(it,ct,void 0):"length"in ct&&[].map.call(ct,function(pt){wt(it,pt,void 0)})},shallowClone:Pt,deepClone:En,getObjectDiff:Zs,cmp:jn,asap:kt,minKey:-1/0,addons:[],connections:Dr,errnames:yn,dependencies:Rs,cache:kr,semVer:"4.0.8",version:"4.0.8".split(".").map(function(it){return parseInt(it)}).reduce(function(it,ct,pt){return it+ct/Math.pow(10,2*pt)})})),Or.maxKey=Jr(Or.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(wr(Zr,function(it){Sr||(it=new CustomEvent(Is,{detail:it}),Sr=!0,dispatchEvent(it),Sr=!1)}),addEventListener(Is,function(it){it=it.detail,Sr||ro(it)}));var Ur,Sr=!1,No=function(){};return typeof BroadcastChannel<"u"&&((No=function(){(Ur=new BroadcastChannel(Is)).onmessage=function(it){return it.data&&ro(it.data)}})(),typeof Ur.unref=="function"&&Ur.unref(),wr(Zr,function(it){Sr||Ur.postMessage(it)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(it){if(!pr.disableBfCache&&it.persisted){Jn&&console.debug("Dexie: handling persisted pagehide"),Ur!=null&&Ur.close();for(var ct=0,pt=Dr;ct<pt.length;ct++)pt[ct].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(it){!pr.disableBfCache&&it.persisted&&(Jn&&console.debug("Dexie: handling persisted pageshow"),No(),ro({all:new Qn(-1/0,[[]])}))})),fn.rejectionMapper=function(it,ct){return!it||it instanceof wn||it instanceof TypeError||it instanceof SyntaxError||!it.name||!Bn[it.name]?it:(ct=new Bn[it.name](ct||it.message,it),"stack"in it&&ht(ct,"stack",{get:function(){return this.inner.stack}}),ct)},hr(Jn),et(pr,Object.freeze({__proto__:null,Dexie:pr,liveQuery:jo,Entity:uo,cmp:jn,PropModSymbol:dr,PropModification:Yr,replacePrefix:function(it,ct){return new Yr({replacePrefix:[it,ct]})},add:function(it){return new Yr({add:it})},remove:function(it){return new Yr({remove:it})},default:pr,RangeSet:Qn,mergeRanges:rs,rangesOverlap:wo}),{default:pr}),pr})})(dexie_min);var dexie_minExports=dexie_min.exports;const _Dexie=getDefaultExportFromCjs(dexie_minExports),DexieSymbol=Symbol.for("Dexie"),Dexie=globalThis[DexieSymbol]||(globalThis[DexieSymbol]=_Dexie);if(_Dexie.semVer!==Dexie.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_Dexie.semVer} and ${Dexie.semVer}`);class QspiderDatabase extends Dexie{constructor(){super("QspiderDatabase"),this.version(2).stores({games:"id, title",gameResources:"++, game_id, &[game_id+path]",gameSaves:"++, game_id, &[game_id+key+slot], slot, [game_id+slot], [game_id+key]"})}}class WebStorage{constructor(){this.db=new QspiderDatabase}async prepareLoadConfig(j,_e){return{url:`/qspider-files/${j}/`,entrypoint:_e}}async getGames(){return(await this.db.games.toArray()).reduce((_e,et)=>(_e[et.id]=et,_e),{})}async addGame(j,_e){await this.db.games.put(_e,j)}async updateGame(j,_e){await this.db.games.update(j,_e)}async removeGame(j){await this.db.transaction("rw",this.db.games,this.db.gameResources,async()=>{await this.db.games.delete(j),await this.db.gameResources.where("game_id").equals(j).delete()})}async addGameResource(j,_e,et){const tt=_e.toLowerCase();await this.db.gameResources.where({game_id:j,path:tt}).delete(),await this.db.gameResources.put({game_id:j,path:tt,content:et})}async getGameResource(j,_e){const et=_e.toLowerCase(),tt=await this.db.gameResources.where({game_id:j,path:et}).first();return(tt==null?void 0:tt.content)||null}async saveByKey(j,_e,et){await this.db.gameSaves.where({game_id:j,key:_e,slot:-1}).delete();const tt={timestamp:Date.now(),game_id:j,key:_e,slot:-1,data:et};await this.db.gameSaves.put(tt)}async saveBySlot(j,_e,et){await this.db.gameSaves.where({game_id:j,key:"",slot:_e}).delete();const tt={timestamp:Date.now(),game_id:j,key:"",slot:_e,data:et};await this.db.gameSaves.put(tt)}async hasSaveByKey(j,_e){return await this.db.gameSaves.where({game_id:j,key:_e}).count()>0}async hasSaveBySlot(j,_e){return await this.db.gameSaves.where({game_id:j,slot:_e}).count()>0}async getSaveDataByKey(j,_e){const et=await this.db.gameSaves.where({game_id:j,key:_e}).first();return(et==null?void 0:et.data)||null}async getSaveDataBySlot(j,_e){const et=await this.db.gameSaves.where({game_id:j,slot:_e}).first();return(et==null?void 0:et.data)||null}async getSavedSlots(j){return await this.db.gameSaves.where({game_id:j}).and(_e=>_e.slot>0).toArray()}async getNamedSaves(j){return await this.db.gameSaves.where({game_id:j}).and(_e=>_e.key!=="").toArray()}async clearSaveSlot(j,_e){await this.db.gameSaves.where({game_id:j,key:"",slot:_e}).delete()}async clearSaveKey(j,_e){await this.db.gameSaves.where({game_id:j,key:_e,slot:-1}).delete()}}let instance$1=null;function getStorage(){return instance$1||(instance$1=new WebStorage),instance$1}async function fetchTextContent($,j){const _e=`${$}${cleanPath(j)}`,et=await fetchProxyFallback(_e);if(!et.ok)throw new Error("File not found");return await et.text()}async function fetchBinaryContent($,j){const _e=`${$}${cleanPath(j)}`,et=await fetchProxyFallback(_e);if(!et.ok)throw new Error("File not found");return await et.arrayBuffer()}const CLASSIC_THEME="qspider:classic",AERO_THEME="qspider:aero",DEFAULT_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;">%TEXT%</td></tr></table>',DEFAULT_SELECTED_LIST_FORMAT='<table><tr><td><img src="%IMAGE%"/></td><td style="width:100%;color:#0000FF;">%TEXT%</td></tr></table>',TEXT_PLACEHOLDER="%TEXT%",IMAGE_PLACEHOLDER="%IMAGE%",themeRegistry$=atom({},$=>({add(j,_e){$.update(et=>({...et,[j]:_e}))},reset(){$.update(j=>Object.entries(j).reduce((_e,[et,tt])=>(tt.is_user_defined||(_e[et]=tt),_e),{}))}})),currentTheme$=atom(CLASSIC_THEME),currentThemeData$=atom($=>$(themeRegistry$)[$(currentTheme$)]??{}),defaultClassicTheme$=atom($=>$(themeRegistry$)["qspider:classic"]),currentCssVariables$=atom($=>$(currentThemeData$).css_variables??[]),currentCssLinks$=atom($=>$(currentThemeData$).css_links??[]),currentScriptLinks$=atom($=>$(currentThemeData$).script_links??[]),currentTranslations$=atom($=>$(currentThemeData$).translations??[]);async function registerThemes($){for(const j of $){const _e=await fetchTextContent(baseUrl$.value,j),et=parseTheme(_e);for(const[tt,nt]of Object.entries(et))themeRegistry$.actions.add(tt,nt)}}const defaultThemes=["themes/classic.html","themes/aero.html"];async function registerDefaultThemes($){for(const j of defaultThemes){const _e=await fetch(new URL(j,$).href).then(tt=>tt.text()),et=parseTheme(_e,!1);for(const[tt,nt]of Object.entries(et))themeRegistry$.actions.add(tt,nt)}}const parser=new DOMParser;function parseTheme($,j=!0){const _e={},tt=parser.parseFromString($,"text/html").querySelectorAll("qspider-theme");for(const nt of tt){const rt=nt.getAttribute("name");if(!rt){console.error("Malformed theme definition - missing theme name in qspider-theme tag");continue}_e[rt]={is_user_defined:j,css_variables:extractCssVariables(nt),translations:extractTranslations(nt),css_links:extractLinks(nt,"css-link"),script_links:extractLinks(nt,"script-link"),qsp_player:extractTagData(nt,"qsp-player")}}return _e}function extractTagData($,j){const _e=$.querySelector(j);if(_e)return{attrs:extractAttributes(_e),template:_e.innerHTML.replace(/[ \t]*\r?\n[ \t]*/gm,"")}}function extractCssVariables($){const j=[];for(const _e of $.querySelectorAll("definitions qsp-css-variable")){const et=_e.getAttribute("name"),tt=_e.getAttribute("from");!et||!tt||j.push({name:et,from:tt,defaultValue:_e.getAttribute("default-value")||"",type:_e.getAttribute("type"),unit:_e.getAttribute("unit"),withSize:_e.hasAttribute("with-size"),withContrast:_e.hasAttribute("with-contrast"),withInverted:_e.hasAttribute("with-inverted")})}return j}function extractTranslations($){const j=[];for(const _e of $.querySelectorAll("definitions qsp-translation")){const et=_e.getAttribute("lang")||"",tt=_e.getAttribute("tkey")||"",nt=_e.getAttribute("value")||"";j.push({lang:et,tkey:tt,value:nt})}return j}function extractLinks($,j){const _e=[];for(const et of $.querySelectorAll(j)){const tt=et.getAttribute("src");tt&&_e.push(tt)}return _e}const counterDelay$=atom(500),isPaused$=atom(!0),counterTimeout$=atom(),pauseStack=[];async function withCounterPaused($){pauseStack.push(isPaused$.value);try{isPaused$.set(!0),await $()}finally{const j=pauseStack.pop()||!1;isPaused$.set(j)}}function scheduleCounter(){counterTimeout$.set(setTimeout(()=>{var $;($=qspApi$.value)==null||$.execCounter(),scheduleCounter()},counterDelay$.value))}isPaused$.watch($=>{$?clearTimeout(counterTimeout$.value):scheduleCounter()});counterDelay$.subscribe(()=>{clearTimeout(counterTimeout$.value),isPaused$.value||scheduleCounter()});var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function($){(function(){var j=function(){this.init()};j.prototype={init:function(){var ot=this||_e;return ot._counter=1e3,ot._html5AudioPool=[],ot.html5PoolSize=10,ot._codecs={},ot._howls=[],ot._muted=!1,ot._volume=1,ot._canPlayEvent="canplaythrough",ot._navigator=typeof window<"u"&&window.navigator?window.navigator:null,ot.masterGain=null,ot.noAudio=!1,ot.usingWebAudio=!0,ot.autoSuspend=!0,ot.ctx=null,ot.autoUnlock=!0,ot._setup(),ot},volume:function(ot){var lt=this||_e;if(ot=parseFloat(ot),lt.ctx||dt(),typeof ot<"u"&&ot>=0&&ot<=1){if(lt._volume=ot,lt._muted)return lt;lt.usingWebAudio&&lt.masterGain.gain.setValueAtTime(ot,_e.ctx.currentTime);for(var ft=0;ft<lt._howls.length;ft++)if(!lt._howls[ft]._webAudio)for(var ht=lt._howls[ft]._getSoundIds(),vt=0;vt<ht.length;vt++){var bt=lt._howls[ft]._soundById(ht[vt]);bt&&bt._node&&(bt._node.volume=bt._volume*ot)}return lt}return lt._volume},mute:function(ot){var lt=this||_e;lt.ctx||dt(),lt._muted=ot,lt.usingWebAudio&&lt.masterGain.gain.setValueAtTime(ot?0:lt._volume,_e.ctx.currentTime);for(var ft=0;ft<lt._howls.length;ft++)if(!lt._howls[ft]._webAudio)for(var ht=lt._howls[ft]._getSoundIds(),vt=0;vt<ht.length;vt++){var bt=lt._howls[ft]._soundById(ht[vt]);bt&&bt._node&&(bt._node.muted=ot?!0:bt._muted)}return lt},stop:function(){for(var ot=this||_e,lt=0;lt<ot._howls.length;lt++)ot._howls[lt].stop();return ot},unload:function(){for(var ot=this||_e,lt=ot._howls.length-1;lt>=0;lt--)ot._howls[lt].unload();return ot.usingWebAudio&&ot.ctx&&typeof ot.ctx.close<"u"&&(ot.ctx.close(),ot.ctx=null,dt()),ot},codecs:function(ot){return(this||_e)._codecs[ot.replace(/^x-/,"")]},_setup:function(){var ot=this||_e;if(ot.state=ot.ctx&&ot.ctx.state||"suspended",ot._autoSuspend(),!ot.usingWebAudio)if(typeof Audio<"u")try{var lt=new Audio;typeof lt.oncanplaythrough>"u"&&(ot._canPlayEvent="canplay")}catch{ot.noAudio=!0}else ot.noAudio=!0;try{var lt=new Audio;lt.muted&&(ot.noAudio=!0)}catch{}return ot.noAudio||ot._setupCodecs(),ot},_setupCodecs:function(){var ot=this||_e,lt=null;try{lt=typeof Audio<"u"?new Audio:null}catch{return ot}if(!lt||typeof lt.canPlayType!="function")return ot;var ft=lt.canPlayType("audio/mpeg;").replace(/^no$/,""),ht=ot._navigator?ot._navigator.userAgent:"",vt=ht.match(/OPR\/(\d+)/g),bt=vt&&parseInt(vt[0].split("/")[1],10)<33,mt=ht.indexOf("Safari")!==-1&&ht.indexOf("Chrome")===-1,xt=ht.match(/Version\/(.*?) /),Et=mt&&xt&&parseInt(xt[1],10)<15;return ot._codecs={mp3:!!(!bt&&(ft||lt.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!ft,opus:!!lt.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!lt.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!lt.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(lt.canPlayType('audio/wav; codecs="1"')||lt.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!lt.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!lt.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(lt.canPlayType("audio/x-m4a;")||lt.canPlayType("audio/m4a;")||lt.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(lt.canPlayType("audio/x-m4b;")||lt.canPlayType("audio/m4b;")||lt.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(lt.canPlayType("audio/x-mp4;")||lt.canPlayType("audio/mp4;")||lt.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Et&&lt.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Et&&lt.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!lt.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(lt.canPlayType("audio/x-flac;")||lt.canPlayType("audio/flac;")).replace(/^no$/,"")},ot},_unlockAudio:function(){var ot=this||_e;if(!(ot._audioUnlocked||!ot.ctx)){ot._audioUnlocked=!1,ot.autoUnlock=!1,!ot._mobileUnloaded&&ot.ctx.sampleRate!==44100&&(ot._mobileUnloaded=!0,ot.unload()),ot._scratchBuffer=ot.ctx.createBuffer(1,1,22050);var lt=function(ft){for(;ot._html5AudioPool.length<ot.html5PoolSize;)try{var ht=new Audio;ht._unlocked=!0,ot._releaseHtml5Audio(ht)}catch{ot.noAudio=!0;break}for(var vt=0;vt<ot._howls.length;vt++)if(!ot._howls[vt]._webAudio)for(var bt=ot._howls[vt]._getSoundIds(),mt=0;mt<bt.length;mt++){var xt=ot._howls[vt]._soundById(bt[mt]);xt&&xt._node&&!xt._node._unlocked&&(xt._node._unlocked=!0,xt._node.load())}ot._autoResume();var Et=ot.ctx.createBufferSource();Et.buffer=ot._scratchBuffer,Et.connect(ot.ctx.destination),typeof Et.start>"u"?Et.noteOn(0):Et.start(0),typeof ot.ctx.resume=="function"&&ot.ctx.resume(),Et.onended=function(){Et.disconnect(0),ot._audioUnlocked=!0,document.removeEventListener("touchstart",lt,!0),document.removeEventListener("touchend",lt,!0),document.removeEventListener("click",lt,!0),document.removeEventListener("keydown",lt,!0);for(var At=0;At<ot._howls.length;At++)ot._howls[At]._emit("unlock")}};return document.addEventListener("touchstart",lt,!0),document.addEventListener("touchend",lt,!0),document.addEventListener("click",lt,!0),document.addEventListener("keydown",lt,!0),ot}},_obtainHtml5Audio:function(){var ot=this||_e;if(ot._html5AudioPool.length)return ot._html5AudioPool.pop();var lt=new Audio().play();return lt&&typeof Promise<"u"&&(lt instanceof Promise||typeof lt.then=="function")&&lt.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(ot){var lt=this||_e;return ot._unlocked&&lt._html5AudioPool.push(ot),lt},_autoSuspend:function(){var ot=this;if(!(!ot.autoSuspend||!ot.ctx||typeof ot.ctx.suspend>"u"||!_e.usingWebAudio)){for(var lt=0;lt<ot._howls.length;lt++)if(ot._howls[lt]._webAudio){for(var ft=0;ft<ot._howls[lt]._sounds.length;ft++)if(!ot._howls[lt]._sounds[ft]._paused)return ot}return ot._suspendTimer&&clearTimeout(ot._suspendTimer),ot._suspendTimer=setTimeout(function(){if(ot.autoSuspend){ot._suspendTimer=null,ot.state="suspending";var ht=function(){ot.state="suspended",ot._resumeAfterSuspend&&(delete ot._resumeAfterSuspend,ot._autoResume())};ot.ctx.suspend().then(ht,ht)}},3e4),ot}},_autoResume:function(){var ot=this;if(!(!ot.ctx||typeof ot.ctx.resume>"u"||!_e.usingWebAudio))return ot.state==="running"&&ot.ctx.state!=="interrupted"&&ot._suspendTimer?(clearTimeout(ot._suspendTimer),ot._suspendTimer=null):ot.state==="suspended"||ot.state==="running"&&ot.ctx.state==="interrupted"?(ot.ctx.resume().then(function(){ot.state="running";for(var lt=0;lt<ot._howls.length;lt++)ot._howls[lt]._emit("resume")}),ot._suspendTimer&&(clearTimeout(ot._suspendTimer),ot._suspendTimer=null)):ot.state==="suspending"&&(ot._resumeAfterSuspend=!0),ot}};var _e=new j,et=function(ot){var lt=this;if(!ot.src||ot.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}lt.init(ot)};et.prototype={init:function(ot){var lt=this;return _e.ctx||dt(),lt._autoplay=ot.autoplay||!1,lt._format=typeof ot.format!="string"?ot.format:[ot.format],lt._html5=ot.html5||!1,lt._muted=ot.mute||!1,lt._loop=ot.loop||!1,lt._pool=ot.pool||5,lt._preload=typeof ot.preload=="boolean"||ot.preload==="metadata"?ot.preload:!0,lt._rate=ot.rate||1,lt._sprite=ot.sprite||{},lt._src=typeof ot.src!="string"?ot.src:[ot.src],lt._volume=ot.volume!==void 0?ot.volume:1,lt._xhr={method:ot.xhr&&ot.xhr.method?ot.xhr.method:"GET",headers:ot.xhr&&ot.xhr.headers?ot.xhr.headers:null,withCredentials:ot.xhr&&ot.xhr.withCredentials?ot.xhr.withCredentials:!1},lt._duration=0,lt._state="unloaded",lt._sounds=[],lt._endTimers={},lt._queue=[],lt._playLock=!1,lt._onend=ot.onend?[{fn:ot.onend}]:[],lt._onfade=ot.onfade?[{fn:ot.onfade}]:[],lt._onload=ot.onload?[{fn:ot.onload}]:[],lt._onloaderror=ot.onloaderror?[{fn:ot.onloaderror}]:[],lt._onplayerror=ot.onplayerror?[{fn:ot.onplayerror}]:[],lt._onpause=ot.onpause?[{fn:ot.onpause}]:[],lt._onplay=ot.onplay?[{fn:ot.onplay}]:[],lt._onstop=ot.onstop?[{fn:ot.onstop}]:[],lt._onmute=ot.onmute?[{fn:ot.onmute}]:[],lt._onvolume=ot.onvolume?[{fn:ot.onvolume}]:[],lt._onrate=ot.onrate?[{fn:ot.onrate}]:[],lt._onseek=ot.onseek?[{fn:ot.onseek}]:[],lt._onunlock=ot.onunlock?[{fn:ot.onunlock}]:[],lt._onresume=[],lt._webAudio=_e.usingWebAudio&&!lt._html5,typeof _e.ctx<"u"&&_e.ctx&&_e.autoUnlock&&_e._unlockAudio(),_e._howls.push(lt),lt._autoplay&&lt._queue.push({event:"play",action:function(){lt.play()}}),lt._preload&&lt._preload!=="none"&&lt.load(),lt},load:function(){var ot=this,lt=null;if(_e.noAudio){ot._emit("loaderror",null,"No audio support.");return}typeof ot._src=="string"&&(ot._src=[ot._src]);for(var ft=0;ft<ot._src.length;ft++){var ht,vt;if(ot._format&&ot._format[ft])ht=ot._format[ft];else{if(vt=ot._src[ft],typeof vt!="string"){ot._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}ht=/^data:audio\/([^;,]+);/i.exec(vt),ht||(ht=/\.([^.]+)$/.exec(vt.split("?",1)[0])),ht&&(ht=ht[1].toLowerCase())}if(ht||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ht&&_e.codecs(ht)){lt=ot._src[ft];break}}if(!lt){ot._emit("loaderror",null,"No codec support for selected audio sources.");return}return ot._src=lt,ot._state="loading",window.location.protocol==="https:"&&lt.slice(0,5)==="http:"&&(ot._html5=!0,ot._webAudio=!1),new tt(ot),ot._webAudio&&rt(ot),ot},play:function(ot,lt){var ft=this,ht=null;if(typeof ot=="number")ht=ot,ot=null;else{if(typeof ot=="string"&&ft._state==="loaded"&&!ft._sprite[ot])return null;if(typeof ot>"u"&&(ot="__default",!ft._playLock)){for(var vt=0,bt=0;bt<ft._sounds.length;bt++)ft._sounds[bt]._paused&&!ft._sounds[bt]._ended&&(vt++,ht=ft._sounds[bt]._id);vt===1?ot=null:ht=null}}var mt=ht?ft._soundById(ht):ft._inactiveSound();if(!mt)return null;if(ht&&!ot&&(ot=mt._sprite||"__default"),ft._state!=="loaded"){mt._sprite=ot,mt._ended=!1;var xt=mt._id;return ft._queue.push({event:"play",action:function(){ft.play(xt)}}),xt}if(ht&&!mt._paused)return lt||ft._loadQueue("play"),mt._id;ft._webAudio&&_e._autoResume();var Et=Math.max(0,mt._seek>0?mt._seek:ft._sprite[ot][0]/1e3),At=Math.max(0,(ft._sprite[ot][0]+ft._sprite[ot][1])/1e3-Et),kt=At*1e3/Math.abs(mt._rate),Lt=ft._sprite[ot][0]/1e3,wt=(ft._sprite[ot][0]+ft._sprite[ot][1])/1e3;mt._sprite=ot,mt._ended=!1;var Pt=function(){mt._paused=!1,mt._seek=Et,mt._start=Lt,mt._stop=wt,mt._loop=!!(mt._loop||ft._sprite[ot][2])};if(Et>=wt){ft._ended(mt);return}var Bt=mt._node;if(ft._webAudio){var Vt=function(){ft._playLock=!1,Pt(),ft._refreshBuffer(mt);var Yt=mt._muted||ft._muted?0:mt._volume;Bt.gain.setValueAtTime(Yt,_e.ctx.currentTime),mt._playStart=_e.ctx.currentTime,typeof Bt.bufferSource.start>"u"?mt._loop?Bt.bufferSource.noteGrainOn(0,Et,86400):Bt.bufferSource.noteGrainOn(0,Et,At):mt._loop?Bt.bufferSource.start(0,Et,86400):Bt.bufferSource.start(0,Et,At),kt!==1/0&&(ft._endTimers[mt._id]=setTimeout(ft._ended.bind(ft,mt),kt)),lt||setTimeout(function(){ft._emit("play",mt._id),ft._loadQueue()},0)};_e.state==="running"&&_e.ctx.state!=="interrupted"?Vt():(ft._playLock=!0,ft.once("resume",Vt),ft._clearTimer(mt._id))}else{var Xt=function(){Bt.currentTime=Et,Bt.muted=mt._muted||ft._muted||_e._muted||Bt.muted,Bt.volume=mt._volume*_e.volume(),Bt.playbackRate=mt._rate;try{var Yt=Bt.play();if(Yt&&typeof Promise<"u"&&(Yt instanceof Promise||typeof Yt.then=="function")?(ft._playLock=!0,Pt(),Yt.then(function(){ft._playLock=!1,Bt._unlocked=!0,lt?ft._loadQueue():ft._emit("play",mt._id)}).catch(function(){ft._playLock=!1,ft._emit("playerror",mt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),mt._ended=!0,mt._paused=!0})):lt||(ft._playLock=!1,Pt(),ft._emit("play",mt._id)),Bt.playbackRate=mt._rate,Bt.paused){ft._emit("playerror",mt._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}ot!=="__default"||mt._loop?ft._endTimers[mt._id]=setTimeout(ft._ended.bind(ft,mt),kt):(ft._endTimers[mt._id]=function(){ft._ended(mt),Bt.removeEventListener("ended",ft._endTimers[mt._id],!1)},Bt.addEventListener("ended",ft._endTimers[mt._id],!1))}catch(rn){ft._emit("playerror",mt._id,rn)}};Bt.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Bt.src=ft._src,Bt.load());var pn=window&&window.ejecta||!Bt.readyState&&_e._navigator.isCocoonJS;if(Bt.readyState>=3||pn)Xt();else{ft._playLock=!0,ft._state="loading";var En=function(){ft._state="loaded",Xt(),Bt.removeEventListener(_e._canPlayEvent,En,!1)};Bt.addEventListener(_e._canPlayEvent,En,!1),ft._clearTimer(mt._id)}}return mt._id},pause:function(ot){var lt=this;if(lt._state!=="loaded"||lt._playLock)return lt._queue.push({event:"pause",action:function(){lt.pause(ot)}}),lt;for(var ft=lt._getSoundIds(ot),ht=0;ht<ft.length;ht++){lt._clearTimer(ft[ht]);var vt=lt._soundById(ft[ht]);if(vt&&!vt._paused&&(vt._seek=lt.seek(ft[ht]),vt._rateSeek=0,vt._paused=!0,lt._stopFade(ft[ht]),vt._node))if(lt._webAudio){if(!vt._node.bufferSource)continue;typeof vt._node.bufferSource.stop>"u"?vt._node.bufferSource.noteOff(0):vt._node.bufferSource.stop(0),lt._cleanBuffer(vt._node)}else(!isNaN(vt._node.duration)||vt._node.duration===1/0)&&vt._node.pause();arguments[1]||lt._emit("pause",vt?vt._id:null)}return lt},stop:function(ot,lt){var ft=this;if(ft._state!=="loaded"||ft._playLock)return ft._queue.push({event:"stop",action:function(){ft.stop(ot)}}),ft;for(var ht=ft._getSoundIds(ot),vt=0;vt<ht.length;vt++){ft._clearTimer(ht[vt]);var bt=ft._soundById(ht[vt]);bt&&(bt._seek=bt._start||0,bt._rateSeek=0,bt._paused=!0,bt._ended=!0,ft._stopFade(ht[vt]),bt._node&&(ft._webAudio?bt._node.bufferSource&&(typeof bt._node.bufferSource.stop>"u"?bt._node.bufferSource.noteOff(0):bt._node.bufferSource.stop(0),ft._cleanBuffer(bt._node)):(!isNaN(bt._node.duration)||bt._node.duration===1/0)&&(bt._node.currentTime=bt._start||0,bt._node.pause(),bt._node.duration===1/0&&ft._clearSound(bt._node))),lt||ft._emit("stop",bt._id))}return ft},mute:function(ot,lt){var ft=this;if(ft._state!=="loaded"||ft._playLock)return ft._queue.push({event:"mute",action:function(){ft.mute(ot,lt)}}),ft;if(typeof lt>"u")if(typeof ot=="boolean")ft._muted=ot;else return ft._muted;for(var ht=ft._getSoundIds(lt),vt=0;vt<ht.length;vt++){var bt=ft._soundById(ht[vt]);bt&&(bt._muted=ot,bt._interval&&ft._stopFade(bt._id),ft._webAudio&&bt._node?bt._node.gain.setValueAtTime(ot?0:bt._volume,_e.ctx.currentTime):bt._node&&(bt._node.muted=_e._muted?!0:ot),ft._emit("mute",bt._id))}return ft},volume:function(){var ot=this,lt=arguments,ft,ht;if(lt.length===0)return ot._volume;if(lt.length===1||lt.length===2&&typeof lt[1]>"u"){var vt=ot._getSoundIds(),bt=vt.indexOf(lt[0]);bt>=0?ht=parseInt(lt[0],10):ft=parseFloat(lt[0])}else lt.length>=2&&(ft=parseFloat(lt[0]),ht=parseInt(lt[1],10));var mt;if(typeof ft<"u"&&ft>=0&&ft<=1){if(ot._state!=="loaded"||ot._playLock)return ot._queue.push({event:"volume",action:function(){ot.volume.apply(ot,lt)}}),ot;typeof ht>"u"&&(ot._volume=ft),ht=ot._getSoundIds(ht);for(var xt=0;xt<ht.length;xt++)mt=ot._soundById(ht[xt]),mt&&(mt._volume=ft,lt[2]||ot._stopFade(ht[xt]),ot._webAudio&&mt._node&&!mt._muted?mt._node.gain.setValueAtTime(ft,_e.ctx.currentTime):mt._node&&!mt._muted&&(mt._node.volume=ft*_e.volume()),ot._emit("volume",mt._id))}else return mt=ht?ot._soundById(ht):ot._sounds[0],mt?mt._volume:0;return ot},fade:function(ot,lt,ft,ht){var vt=this;if(vt._state!=="loaded"||vt._playLock)return vt._queue.push({event:"fade",action:function(){vt.fade(ot,lt,ft,ht)}}),vt;ot=Math.min(Math.max(0,parseFloat(ot)),1),lt=Math.min(Math.max(0,parseFloat(lt)),1),ft=parseFloat(ft),vt.volume(ot,ht);for(var bt=vt._getSoundIds(ht),mt=0;mt<bt.length;mt++){var xt=vt._soundById(bt[mt]);if(xt){if(ht||vt._stopFade(bt[mt]),vt._webAudio&&!xt._muted){var Et=_e.ctx.currentTime,At=Et+ft/1e3;xt._volume=ot,xt._node.gain.setValueAtTime(ot,Et),xt._node.gain.linearRampToValueAtTime(lt,At)}vt._startFadeInterval(xt,ot,lt,ft,bt[mt],typeof ht>"u")}}return vt},_startFadeInterval:function(ot,lt,ft,ht,vt,bt){var mt=this,xt=lt,Et=ft-lt,At=Math.abs(Et/.01),kt=Math.max(4,At>0?ht/At:ht),Lt=Date.now();ot._fadeTo=ft,ot._interval=setInterval(function(){var wt=(Date.now()-Lt)/ht;Lt=Date.now(),xt+=Et*wt,xt=Math.round(xt*100)/100,Et<0?xt=Math.max(ft,xt):xt=Math.min(ft,xt),mt._webAudio?ot._volume=xt:mt.volume(xt,ot._id,!0),bt&&(mt._volume=xt),(ft<lt&&xt<=ft||ft>lt&&xt>=ft)&&(clearInterval(ot._interval),ot._interval=null,ot._fadeTo=null,mt.volume(ft,ot._id),mt._emit("fade",ot._id))},kt)},_stopFade:function(ot){var lt=this,ft=lt._soundById(ot);return ft&&ft._interval&&(lt._webAudio&&ft._node.gain.cancelScheduledValues(_e.ctx.currentTime),clearInterval(ft._interval),ft._interval=null,lt.volume(ft._fadeTo,ot),ft._fadeTo=null,lt._emit("fade",ot)),lt},loop:function(){var ot=this,lt=arguments,ft,ht,vt;if(lt.length===0)return ot._loop;if(lt.length===1)if(typeof lt[0]=="boolean")ft=lt[0],ot._loop=ft;else return vt=ot._soundById(parseInt(lt[0],10)),vt?vt._loop:!1;else lt.length===2&&(ft=lt[0],ht=parseInt(lt[1],10));for(var bt=ot._getSoundIds(ht),mt=0;mt<bt.length;mt++)vt=ot._soundById(bt[mt]),vt&&(vt._loop=ft,ot._webAudio&&vt._node&&vt._node.bufferSource&&(vt._node.bufferSource.loop=ft,ft&&(vt._node.bufferSource.loopStart=vt._start||0,vt._node.bufferSource.loopEnd=vt._stop,ot.playing(bt[mt])&&(ot.pause(bt[mt],!0),ot.play(bt[mt],!0)))));return ot},rate:function(){var ot=this,lt=arguments,ft,ht;if(lt.length===0)ht=ot._sounds[0]._id;else if(lt.length===1){var vt=ot._getSoundIds(),bt=vt.indexOf(lt[0]);bt>=0?ht=parseInt(lt[0],10):ft=parseFloat(lt[0])}else lt.length===2&&(ft=parseFloat(lt[0]),ht=parseInt(lt[1],10));var mt;if(typeof ft=="number"){if(ot._state!=="loaded"||ot._playLock)return ot._queue.push({event:"rate",action:function(){ot.rate.apply(ot,lt)}}),ot;typeof ht>"u"&&(ot._rate=ft),ht=ot._getSoundIds(ht);for(var xt=0;xt<ht.length;xt++)if(mt=ot._soundById(ht[xt]),mt){ot.playing(ht[xt])&&(mt._rateSeek=ot.seek(ht[xt]),mt._playStart=ot._webAudio?_e.ctx.currentTime:mt._playStart),mt._rate=ft,ot._webAudio&&mt._node&&mt._node.bufferSource?mt._node.bufferSource.playbackRate.setValueAtTime(ft,_e.ctx.currentTime):mt._node&&(mt._node.playbackRate=ft);var Et=ot.seek(ht[xt]),At=(ot._sprite[mt._sprite][0]+ot._sprite[mt._sprite][1])/1e3-Et,kt=At*1e3/Math.abs(mt._rate);(ot._endTimers[ht[xt]]||!mt._paused)&&(ot._clearTimer(ht[xt]),ot._endTimers[ht[xt]]=setTimeout(ot._ended.bind(ot,mt),kt)),ot._emit("rate",mt._id)}}else return mt=ot._soundById(ht),mt?mt._rate:ot._rate;return ot},seek:function(){var ot=this,lt=arguments,ft,ht;if(lt.length===0)ot._sounds.length&&(ht=ot._sounds[0]._id);else if(lt.length===1){var vt=ot._getSoundIds(),bt=vt.indexOf(lt[0]);bt>=0?ht=parseInt(lt[0],10):ot._sounds.length&&(ht=ot._sounds[0]._id,ft=parseFloat(lt[0]))}else lt.length===2&&(ft=parseFloat(lt[0]),ht=parseInt(lt[1],10));if(typeof ht>"u")return 0;if(typeof ft=="number"&&(ot._state!=="loaded"||ot._playLock))return ot._queue.push({event:"seek",action:function(){ot.seek.apply(ot,lt)}}),ot;var mt=ot._soundById(ht);if(mt)if(typeof ft=="number"&&ft>=0){var xt=ot.playing(ht);xt&&ot.pause(ht,!0),mt._seek=ft,mt._ended=!1,ot._clearTimer(ht),!ot._webAudio&&mt._node&&!isNaN(mt._node.duration)&&(mt._node.currentTime=ft);var Et=function(){xt&&ot.play(ht,!0),ot._emit("seek",ht)};if(xt&&!ot._webAudio){var At=function(){ot._playLock?setTimeout(At,0):Et()};setTimeout(At,0)}else Et()}else if(ot._webAudio){var kt=ot.playing(ht)?_e.ctx.currentTime-mt._playStart:0,Lt=mt._rateSeek?mt._rateSeek-mt._seek:0;return mt._seek+(Lt+kt*Math.abs(mt._rate))}else return mt._node.currentTime;return ot},playing:function(ot){var lt=this;if(typeof ot=="number"){var ft=lt._soundById(ot);return ft?!ft._paused:!1}for(var ht=0;ht<lt._sounds.length;ht++)if(!lt._sounds[ht]._paused)return!0;return!1},duration:function(ot){var lt=this,ft=lt._duration,ht=lt._soundById(ot);return ht&&(ft=lt._sprite[ht._sprite][1]/1e3),ft},state:function(){return this._state},unload:function(){for(var ot=this,lt=ot._sounds,ft=0;ft<lt.length;ft++)lt[ft]._paused||ot.stop(lt[ft]._id),ot._webAudio||(ot._clearSound(lt[ft]._node),lt[ft]._node.removeEventListener("error",lt[ft]._errorFn,!1),lt[ft]._node.removeEventListener(_e._canPlayEvent,lt[ft]._loadFn,!1),lt[ft]._node.removeEventListener("ended",lt[ft]._endFn,!1),_e._releaseHtml5Audio(lt[ft]._node)),delete lt[ft]._node,ot._clearTimer(lt[ft]._id);var ht=_e._howls.indexOf(ot);ht>=0&&_e._howls.splice(ht,1);var vt=!0;for(ft=0;ft<_e._howls.length;ft++)if(_e._howls[ft]._src===ot._src||ot._src.indexOf(_e._howls[ft]._src)>=0){vt=!1;break}return nt&&vt&&delete nt[ot._src],_e.noAudio=!1,ot._state="unloaded",ot._sounds=[],ot=null,null},on:function(ot,lt,ft,ht){var vt=this,bt=vt["_on"+ot];return typeof lt=="function"&&bt.push(ht?{id:ft,fn:lt,once:ht}:{id:ft,fn:lt}),vt},off:function(ot,lt,ft){var ht=this,vt=ht["_on"+ot],bt=0;if(typeof lt=="number"&&(ft=lt,lt=null),lt||ft)for(bt=0;bt<vt.length;bt++){var mt=ft===vt[bt].id;if(lt===vt[bt].fn&&mt||!lt&&mt){vt.splice(bt,1);break}}else if(ot)ht["_on"+ot]=[];else{var xt=Object.keys(ht);for(bt=0;bt<xt.length;bt++)xt[bt].indexOf("_on")===0&&Array.isArray(ht[xt[bt]])&&(ht[xt[bt]]=[])}return ht},once:function(ot,lt,ft){var ht=this;return ht.on(ot,lt,ft,1),ht},_emit:function(ot,lt,ft){for(var ht=this,vt=ht["_on"+ot],bt=vt.length-1;bt>=0;bt--)(!vt[bt].id||vt[bt].id===lt||ot==="load")&&(setTimeout((function(mt){mt.call(this,lt,ft)}).bind(ht,vt[bt].fn),0),vt[bt].once&&ht.off(ot,vt[bt].fn,vt[bt].id));return ht._loadQueue(ot),ht},_loadQueue:function(ot){var lt=this;if(lt._queue.length>0){var ft=lt._queue[0];ft.event===ot&&(lt._queue.shift(),lt._loadQueue()),ot||ft.action()}return lt},_ended:function(ot){var lt=this,ft=ot._sprite;if(!lt._webAudio&&ot._node&&!ot._node.paused&&!ot._node.ended&&ot._node.currentTime<ot._stop)return setTimeout(lt._ended.bind(lt,ot),100),lt;var ht=!!(ot._loop||lt._sprite[ft][2]);if(lt._emit("end",ot._id),!lt._webAudio&&ht&&lt.stop(ot._id,!0).play(ot._id),lt._webAudio&&ht){lt._emit("play",ot._id),ot._seek=ot._start||0,ot._rateSeek=0,ot._playStart=_e.ctx.currentTime;var vt=(ot._stop-ot._start)*1e3/Math.abs(ot._rate);lt._endTimers[ot._id]=setTimeout(lt._ended.bind(lt,ot),vt)}return lt._webAudio&&!ht&&(ot._paused=!0,ot._ended=!0,ot._seek=ot._start||0,ot._rateSeek=0,lt._clearTimer(ot._id),lt._cleanBuffer(ot._node),_e._autoSuspend()),!lt._webAudio&&!ht&&lt.stop(ot._id,!0),lt},_clearTimer:function(ot){var lt=this;if(lt._endTimers[ot]){if(typeof lt._endTimers[ot]!="function")clearTimeout(lt._endTimers[ot]);else{var ft=lt._soundById(ot);ft&&ft._node&&ft._node.removeEventListener("ended",lt._endTimers[ot],!1)}delete lt._endTimers[ot]}return lt},_soundById:function(ot){for(var lt=this,ft=0;ft<lt._sounds.length;ft++)if(ot===lt._sounds[ft]._id)return lt._sounds[ft];return null},_inactiveSound:function(){var ot=this;ot._drain();for(var lt=0;lt<ot._sounds.length;lt++)if(ot._sounds[lt]._ended)return ot._sounds[lt].reset();return new tt(ot)},_drain:function(){var ot=this,lt=ot._pool,ft=0,ht=0;if(!(ot._sounds.length<lt)){for(ht=0;ht<ot._sounds.length;ht++)ot._sounds[ht]._ended&&ft++;for(ht=ot._sounds.length-1;ht>=0;ht--){if(ft<=lt)return;ot._sounds[ht]._ended&&(ot._webAudio&&ot._sounds[ht]._node&&ot._sounds[ht]._node.disconnect(0),ot._sounds.splice(ht,1),ft--)}}},_getSoundIds:function(ot){var lt=this;if(typeof ot>"u"){for(var ft=[],ht=0;ht<lt._sounds.length;ht++)ft.push(lt._sounds[ht]._id);return ft}else return[ot]},_refreshBuffer:function(ot){var lt=this;return ot._node.bufferSource=_e.ctx.createBufferSource(),ot._node.bufferSource.buffer=nt[lt._src],ot._panner?ot._node.bufferSource.connect(ot._panner):ot._node.bufferSource.connect(ot._node),ot._node.bufferSource.loop=ot._loop,ot._loop&&(ot._node.bufferSource.loopStart=ot._start||0,ot._node.bufferSource.loopEnd=ot._stop||0),ot._node.bufferSource.playbackRate.setValueAtTime(ot._rate,_e.ctx.currentTime),lt},_cleanBuffer:function(ot){var lt=this,ft=_e._navigator&&_e._navigator.vendor.indexOf("Apple")>=0;if(!ot.bufferSource)return lt;if(_e._scratchBuffer&&ot.bufferSource&&(ot.bufferSource.onended=null,ot.bufferSource.disconnect(0),ft))try{ot.bufferSource.buffer=_e._scratchBuffer}catch{}return ot.bufferSource=null,lt},_clearSound:function(ot){var lt=/MSIE |Trident\//.test(_e._navigator&&_e._navigator.userAgent);lt||(ot.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var tt=function(ot){this._parent=ot,this.init()};tt.prototype={init:function(){var ot=this,lt=ot._parent;return ot._muted=lt._muted,ot._loop=lt._loop,ot._volume=lt._volume,ot._rate=lt._rate,ot._seek=0,ot._paused=!0,ot._ended=!0,ot._sprite="__default",ot._id=++_e._counter,lt._sounds.push(ot),ot.create(),ot},create:function(){var ot=this,lt=ot._parent,ft=_e._muted||ot._muted||ot._parent._muted?0:ot._volume;return lt._webAudio?(ot._node=typeof _e.ctx.createGain>"u"?_e.ctx.createGainNode():_e.ctx.createGain(),ot._node.gain.setValueAtTime(ft,_e.ctx.currentTime),ot._node.paused=!0,ot._node.connect(_e.masterGain)):_e.noAudio||(ot._node=_e._obtainHtml5Audio(),ot._errorFn=ot._errorListener.bind(ot),ot._node.addEventListener("error",ot._errorFn,!1),ot._loadFn=ot._loadListener.bind(ot),ot._node.addEventListener(_e._canPlayEvent,ot._loadFn,!1),ot._endFn=ot._endListener.bind(ot),ot._node.addEventListener("ended",ot._endFn,!1),ot._node.src=lt._src,ot._node.preload=lt._preload===!0?"auto":lt._preload,ot._node.volume=ft*_e.volume(),ot._node.load()),ot},reset:function(){var ot=this,lt=ot._parent;return ot._muted=lt._muted,ot._loop=lt._loop,ot._volume=lt._volume,ot._rate=lt._rate,ot._seek=0,ot._rateSeek=0,ot._paused=!0,ot._ended=!0,ot._sprite="__default",ot._id=++_e._counter,ot},_errorListener:function(){var ot=this;ot._parent._emit("loaderror",ot._id,ot._node.error?ot._node.error.code:0),ot._node.removeEventListener("error",ot._errorFn,!1)},_loadListener:function(){var ot=this,lt=ot._parent;lt._duration=Math.ceil(ot._node.duration*10)/10,Object.keys(lt._sprite).length===0&&(lt._sprite={__default:[0,lt._duration*1e3]}),lt._state!=="loaded"&&(lt._state="loaded",lt._emit("load"),lt._loadQueue()),ot._node.removeEventListener(_e._canPlayEvent,ot._loadFn,!1)},_endListener:function(){var ot=this,lt=ot._parent;lt._duration===1/0&&(lt._duration=Math.ceil(ot._node.duration*10)/10,lt._sprite.__default[1]===1/0&&(lt._sprite.__default[1]=lt._duration*1e3),lt._ended(ot)),ot._node.removeEventListener("ended",ot._endFn,!1)}};var nt={},rt=function(ot){var lt=ot._src;if(nt[lt]){ot._duration=nt[lt].duration,ut(ot);return}if(/^data:[^;]+;base64,/.test(lt)){for(var ft=atob(lt.split(",")[1]),ht=new Uint8Array(ft.length),vt=0;vt<ft.length;++vt)ht[vt]=ft.charCodeAt(vt);at(ht.buffer,ot)}else{var bt=new XMLHttpRequest;bt.open(ot._xhr.method,lt,!0),bt.withCredentials=ot._xhr.withCredentials,bt.responseType="arraybuffer",ot._xhr.headers&&Object.keys(ot._xhr.headers).forEach(function(mt){bt.setRequestHeader(mt,ot._xhr.headers[mt])}),bt.onload=function(){var mt=(bt.status+"")[0];if(mt!=="0"&&mt!=="2"&&mt!=="3"){ot._emit("loaderror",null,"Failed loading audio file with status: "+bt.status+".");return}at(bt.response,ot)},bt.onerror=function(){ot._webAudio&&(ot._html5=!0,ot._webAudio=!1,ot._sounds=[],delete nt[lt],ot.load())},st(bt)}},st=function(ot){try{ot.send()}catch{ot.onerror()}},at=function(ot,lt){var ft=function(){lt._emit("loaderror",null,"Decoding audio data failed.")},ht=function(vt){vt&&lt._sounds.length>0?(nt[lt._src]=vt,ut(lt,vt)):ft()};typeof Promise<"u"&&_e.ctx.decodeAudioData.length===1?_e.ctx.decodeAudioData(ot).then(ht).catch(ft):_e.ctx.decodeAudioData(ot,ht,ft)},ut=function(ot,lt){lt&&!ot._duration&&(ot._duration=lt.duration),Object.keys(ot._sprite).length===0&&(ot._sprite={__default:[0,ot._duration*1e3]}),ot._state!=="loaded"&&(ot._state="loaded",ot._emit("load"),ot._loadQueue())},dt=function(){if(_e.usingWebAudio){try{typeof AudioContext<"u"?_e.ctx=new AudioContext:typeof webkitAudioContext<"u"?_e.ctx=new webkitAudioContext:_e.usingWebAudio=!1}catch{_e.usingWebAudio=!1}_e.ctx||(_e.usingWebAudio=!1);var ot=/iP(hone|od|ad)/.test(_e._navigator&&_e._navigator.platform),lt=_e._navigator&&_e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),ft=lt?parseInt(lt[1],10):null;if(ot&&ft&&ft<9){var ht=/safari/.test(_e._navigator&&_e._navigator.userAgent.toLowerCase());_e._navigator&&!ht&&(_e.usingWebAudio=!1)}_e.usingWebAudio&&(_e.masterGain=typeof _e.ctx.createGain>"u"?_e.ctx.createGainNode():_e.ctx.createGain(),_e.masterGain.gain.setValueAtTime(_e._muted?0:_e._volume,_e.ctx.currentTime),_e.masterGain.connect(_e.ctx.destination)),_e._setup()}};$.Howler=_e,$.Howl=et,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=j,commonjsGlobal.Howler=_e,commonjsGlobal.Howl=et,commonjsGlobal.Sound=tt):typeof window<"u"&&(window.HowlerGlobal=j,window.Howler=_e,window.Howl=et,window.Sound=tt)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(_e){var et=this;if(!et.ctx||!et.ctx.listener)return et;for(var tt=et._howls.length-1;tt>=0;tt--)et._howls[tt].stereo(_e);return et},HowlerGlobal.prototype.pos=function(_e,et,tt){var nt=this;if(!nt.ctx||!nt.ctx.listener)return nt;if(et=typeof et!="number"?nt._pos[1]:et,tt=typeof tt!="number"?nt._pos[2]:tt,typeof _e=="number")nt._pos=[_e,et,tt],typeof nt.ctx.listener.positionX<"u"?(nt.ctx.listener.positionX.setTargetAtTime(nt._pos[0],Howler.ctx.currentTime,.1),nt.ctx.listener.positionY.setTargetAtTime(nt._pos[1],Howler.ctx.currentTime,.1),nt.ctx.listener.positionZ.setTargetAtTime(nt._pos[2],Howler.ctx.currentTime,.1)):nt.ctx.listener.setPosition(nt._pos[0],nt._pos[1],nt._pos[2]);else return nt._pos;return nt},HowlerGlobal.prototype.orientation=function(_e,et,tt,nt,rt,st){var at=this;if(!at.ctx||!at.ctx.listener)return at;var ut=at._orientation;if(et=typeof et!="number"?ut[1]:et,tt=typeof tt!="number"?ut[2]:tt,nt=typeof nt!="number"?ut[3]:nt,rt=typeof rt!="number"?ut[4]:rt,st=typeof st!="number"?ut[5]:st,typeof _e=="number")at._orientation=[_e,et,tt,nt,rt,st],typeof at.ctx.listener.forwardX<"u"?(at.ctx.listener.forwardX.setTargetAtTime(_e,Howler.ctx.currentTime,.1),at.ctx.listener.forwardY.setTargetAtTime(et,Howler.ctx.currentTime,.1),at.ctx.listener.forwardZ.setTargetAtTime(tt,Howler.ctx.currentTime,.1),at.ctx.listener.upX.setTargetAtTime(nt,Howler.ctx.currentTime,.1),at.ctx.listener.upY.setTargetAtTime(rt,Howler.ctx.currentTime,.1),at.ctx.listener.upZ.setTargetAtTime(st,Howler.ctx.currentTime,.1)):at.ctx.listener.setOrientation(_e,et,tt,nt,rt,st);else return ut;return at},Howl.prototype.init=function(_e){return function(et){var tt=this;return tt._orientation=et.orientation||[1,0,0],tt._stereo=et.stereo||null,tt._pos=et.pos||null,tt._pannerAttr={coneInnerAngle:typeof et.coneInnerAngle<"u"?et.coneInnerAngle:360,coneOuterAngle:typeof et.coneOuterAngle<"u"?et.coneOuterAngle:360,coneOuterGain:typeof et.coneOuterGain<"u"?et.coneOuterGain:0,distanceModel:typeof et.distanceModel<"u"?et.distanceModel:"inverse",maxDistance:typeof et.maxDistance<"u"?et.maxDistance:1e4,panningModel:typeof et.panningModel<"u"?et.panningModel:"HRTF",refDistance:typeof et.refDistance<"u"?et.refDistance:1,rolloffFactor:typeof et.rolloffFactor<"u"?et.rolloffFactor:1},tt._onstereo=et.onstereo?[{fn:et.onstereo}]:[],tt._onpos=et.onpos?[{fn:et.onpos}]:[],tt._onorientation=et.onorientation?[{fn:et.onorientation}]:[],_e.call(this,et)}}(Howl.prototype.init),Howl.prototype.stereo=function(_e,et){var tt=this;if(!tt._webAudio)return tt;if(tt._state!=="loaded")return tt._queue.push({event:"stereo",action:function(){tt.stereo(_e,et)}}),tt;var nt=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof et>"u")if(typeof _e=="number")tt._stereo=_e,tt._pos=[_e,0,0];else return tt._stereo;for(var rt=tt._getSoundIds(et),st=0;st<rt.length;st++){var at=tt._soundById(rt[st]);if(at)if(typeof _e=="number")at._stereo=_e,at._pos=[_e,0,0],at._node&&(at._pannerAttr.panningModel="equalpower",(!at._panner||!at._panner.pan)&&j(at,nt),nt==="spatial"?typeof at._panner.positionX<"u"?(at._panner.positionX.setValueAtTime(_e,Howler.ctx.currentTime),at._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),at._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):at._panner.setPosition(_e,0,0):at._panner.pan.setValueAtTime(_e,Howler.ctx.currentTime)),tt._emit("stereo",at._id);else return at._stereo}return tt},Howl.prototype.pos=function(_e,et,tt,nt){var rt=this;if(!rt._webAudio)return rt;if(rt._state!=="loaded")return rt._queue.push({event:"pos",action:function(){rt.pos(_e,et,tt,nt)}}),rt;if(et=typeof et!="number"?0:et,tt=typeof tt!="number"?-.5:tt,typeof nt>"u")if(typeof _e=="number")rt._pos=[_e,et,tt];else return rt._pos;for(var st=rt._getSoundIds(nt),at=0;at<st.length;at++){var ut=rt._soundById(st[at]);if(ut)if(typeof _e=="number")ut._pos=[_e,et,tt],ut._node&&((!ut._panner||ut._panner.pan)&&j(ut,"spatial"),typeof ut._panner.positionX<"u"?(ut._panner.positionX.setValueAtTime(_e,Howler.ctx.currentTime),ut._panner.positionY.setValueAtTime(et,Howler.ctx.currentTime),ut._panner.positionZ.setValueAtTime(tt,Howler.ctx.currentTime)):ut._panner.setPosition(_e,et,tt)),rt._emit("pos",ut._id);else return ut._pos}return rt},Howl.prototype.orientation=function(_e,et,tt,nt){var rt=this;if(!rt._webAudio)return rt;if(rt._state!=="loaded")return rt._queue.push({event:"orientation",action:function(){rt.orientation(_e,et,tt,nt)}}),rt;if(et=typeof et!="number"?rt._orientation[1]:et,tt=typeof tt!="number"?rt._orientation[2]:tt,typeof nt>"u")if(typeof _e=="number")rt._orientation=[_e,et,tt];else return rt._orientation;for(var st=rt._getSoundIds(nt),at=0;at<st.length;at++){var ut=rt._soundById(st[at]);if(ut)if(typeof _e=="number")ut._orientation=[_e,et,tt],ut._node&&(ut._panner||(ut._pos||(ut._pos=rt._pos||[0,0,-.5]),j(ut,"spatial")),typeof ut._panner.orientationX<"u"?(ut._panner.orientationX.setValueAtTime(_e,Howler.ctx.currentTime),ut._panner.orientationY.setValueAtTime(et,Howler.ctx.currentTime),ut._panner.orientationZ.setValueAtTime(tt,Howler.ctx.currentTime)):ut._panner.setOrientation(_e,et,tt)),rt._emit("orientation",ut._id);else return ut._orientation}return rt},Howl.prototype.pannerAttr=function(){var _e=this,et=arguments,tt,nt,rt;if(!_e._webAudio)return _e;if(et.length===0)return _e._pannerAttr;if(et.length===1)if(typeof et[0]=="object")tt=et[0],typeof nt>"u"&&(tt.pannerAttr||(tt.pannerAttr={coneInnerAngle:tt.coneInnerAngle,coneOuterAngle:tt.coneOuterAngle,coneOuterGain:tt.coneOuterGain,distanceModel:tt.distanceModel,maxDistance:tt.maxDistance,refDistance:tt.refDistance,rolloffFactor:tt.rolloffFactor,panningModel:tt.panningModel}),_e._pannerAttr={coneInnerAngle:typeof tt.pannerAttr.coneInnerAngle<"u"?tt.pannerAttr.coneInnerAngle:_e._coneInnerAngle,coneOuterAngle:typeof tt.pannerAttr.coneOuterAngle<"u"?tt.pannerAttr.coneOuterAngle:_e._coneOuterAngle,coneOuterGain:typeof tt.pannerAttr.coneOuterGain<"u"?tt.pannerAttr.coneOuterGain:_e._coneOuterGain,distanceModel:typeof tt.pannerAttr.distanceModel<"u"?tt.pannerAttr.distanceModel:_e._distanceModel,maxDistance:typeof tt.pannerAttr.maxDistance<"u"?tt.pannerAttr.maxDistance:_e._maxDistance,refDistance:typeof tt.pannerAttr.refDistance<"u"?tt.pannerAttr.refDistance:_e._refDistance,rolloffFactor:typeof tt.pannerAttr.rolloffFactor<"u"?tt.pannerAttr.rolloffFactor:_e._rolloffFactor,panningModel:typeof tt.pannerAttr.panningModel<"u"?tt.pannerAttr.panningModel:_e._panningModel});else return rt=_e._soundById(parseInt(et[0],10)),rt?rt._pannerAttr:_e._pannerAttr;else et.length===2&&(tt=et[0],nt=parseInt(et[1],10));for(var st=_e._getSoundIds(nt),at=0;at<st.length;at++)if(rt=_e._soundById(st[at]),rt){var ut=rt._pannerAttr;ut={coneInnerAngle:typeof tt.coneInnerAngle<"u"?tt.coneInnerAngle:ut.coneInnerAngle,coneOuterAngle:typeof tt.coneOuterAngle<"u"?tt.coneOuterAngle:ut.coneOuterAngle,coneOuterGain:typeof tt.coneOuterGain<"u"?tt.coneOuterGain:ut.coneOuterGain,distanceModel:typeof tt.distanceModel<"u"?tt.distanceModel:ut.distanceModel,maxDistance:typeof tt.maxDistance<"u"?tt.maxDistance:ut.maxDistance,refDistance:typeof tt.refDistance<"u"?tt.refDistance:ut.refDistance,rolloffFactor:typeof tt.rolloffFactor<"u"?tt.rolloffFactor:ut.rolloffFactor,panningModel:typeof tt.panningModel<"u"?tt.panningModel:ut.panningModel};var dt=rt._panner;dt||(rt._pos||(rt._pos=_e._pos||[0,0,-.5]),j(rt,"spatial"),dt=rt._panner),dt.coneInnerAngle=ut.coneInnerAngle,dt.coneOuterAngle=ut.coneOuterAngle,dt.coneOuterGain=ut.coneOuterGain,dt.distanceModel=ut.distanceModel,dt.maxDistance=ut.maxDistance,dt.refDistance=ut.refDistance,dt.rolloffFactor=ut.rolloffFactor,dt.panningModel=ut.panningModel}return _e},Sound.prototype.init=function(_e){return function(){var et=this,tt=et._parent;et._orientation=tt._orientation,et._stereo=tt._stereo,et._pos=tt._pos,et._pannerAttr=tt._pannerAttr,_e.call(this),et._stereo?tt.stereo(et._stereo):et._pos&&tt.pos(et._pos[0],et._pos[1],et._pos[2],et._id)}}(Sound.prototype.init),Sound.prototype.reset=function(_e){return function(){var et=this,tt=et._parent;return et._orientation=tt._orientation,et._stereo=tt._stereo,et._pos=tt._pos,et._pannerAttr=tt._pannerAttr,et._stereo?tt.stereo(et._stereo):et._pos?tt.pos(et._pos[0],et._pos[1],et._pos[2],et._id):et._panner&&(et._panner.disconnect(0),et._panner=void 0,tt._refreshBuffer(et)),_e.call(this)}}(Sound.prototype.reset);var j=function(_e,et){et=et||"spatial",et==="spatial"?(_e._panner=Howler.ctx.createPanner(),_e._panner.coneInnerAngle=_e._pannerAttr.coneInnerAngle,_e._panner.coneOuterAngle=_e._pannerAttr.coneOuterAngle,_e._panner.coneOuterGain=_e._pannerAttr.coneOuterGain,_e._panner.distanceModel=_e._pannerAttr.distanceModel,_e._panner.maxDistance=_e._pannerAttr.maxDistance,_e._panner.refDistance=_e._pannerAttr.refDistance,_e._panner.rolloffFactor=_e._pannerAttr.rolloffFactor,_e._panner.panningModel=_e._pannerAttr.panningModel,typeof _e._panner.positionX<"u"?(_e._panner.positionX.setValueAtTime(_e._pos[0],Howler.ctx.currentTime),_e._panner.positionY.setValueAtTime(_e._pos[1],Howler.ctx.currentTime),_e._panner.positionZ.setValueAtTime(_e._pos[2],Howler.ctx.currentTime)):_e._panner.setPosition(_e._pos[0],_e._pos[1],_e._pos[2]),typeof _e._panner.orientationX<"u"?(_e._panner.orientationX.setValueAtTime(_e._orientation[0],Howler.ctx.currentTime),_e._panner.orientationY.setValueAtTime(_e._orientation[1],Howler.ctx.currentTime),_e._panner.orientationZ.setValueAtTime(_e._orientation[2],Howler.ctx.currentTime)):_e._panner.setOrientation(_e._orientation[0],_e._orientation[1],_e._orientation[2])):(_e._panner=Howler.ctx.createStereoPanner(),_e._panner.pan.setValueAtTime(_e._stereo,Howler.ctx.currentTime)),_e._panner.connect(_e._node),_e._paused||_e._parent.pause(_e._id,!0).play(_e._id,!0)}})()})(howler);const normalizeVolume=$=>$>1?$*.01:$;let Sound$1=class Mo{constructor(j,_e){this._state=0,this._error=null,this.isScheduled=!1,this.howl=new howler.Howl({src:[j],volume:normalizeVolume(_e),loop:!1,preload:!0,autoplay:!1,onload:()=>{this._state=2,this.isScheduled&&this.howl.play()},onloaderror:(et,tt)=>{console.error(j,tt),this._state=1,this._error=tt},onplayerror:(et,tt)=>{console.error(j,tt),this._state=3,this._error=tt},onplay:()=>{this._state=4},onend:()=>{this._state=6},onpause:()=>{this._state=5},onstop:()=>{this._state=6},onunlock:()=>{this._state===2&&this.isScheduled&&(this._state=4,this.howl.play())}})}static create(j,_e){return new Mo(j,_e)}get state(){return this._state}get error(){return this._error}get isPlaying(){return this._state===4||this._state===0}play(j){this.howl.volume(normalizeVolume(j)),this.isScheduled=!0,this.howl.state()==="loaded"&&!this.howl.playing()&&this.howl.play()}stop(){this.isScheduled=!1,this.howl.stop()}dispose(){this.isScheduled=!1,this.howl.stop(),this.howl.unload()}};const n=[1026,1027,8218,1107,8222,8230,8224,8225,8364,8240,1033,8249,1034,1036,1035,1039,1106,8216,8217,8220,8221,8226,8211,8212,32,8482,1113,8250,1114,1116,1115,1119,160,1038,1118,1032,164,1168,166,167,1025,169,1028,171,172,173,174,1031,176,177,1030,1110,1169,181,182,183,1105,8470,1108,187,1112,1029,1109,1111,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103];function t($){return String.fromCharCode($>=128?n[$-128]:$)}class e{constructor(j){this.cursor=0,this.content=void 0,this.view=void 0,this.isUnicode=void 0,this.content=j??new ArrayBuffer(256),this.view=new DataView(this.content),this.isUnicode=this.view.getUint8(1)===0}ensureSize(j){if(this.content.byteLength>=j)return;const _e=new ArrayBuffer(2*this.content.byteLength);new Uint8Array(_e).set(new Uint8Array(this.content)),this.content=_e,this.view=new DataView(this.content)}finalize(){return this.content=this.content.slice(0,this.cursor),this.content}get eof(){return this.cursor>=this.content.byteLength}read(){const j=this.cursor;return this.cursor+=this.isUnicode?Uint16Array.BYTES_PER_ELEMENT:Uint8Array.BYTES_PER_ELEMENT,this.isUnicode?this.view.getUint16(j,!0):this.view.getUint8(j)}readLine(j=!0){const _e=[];for(;!this.eof;){const et=this.read();if(et===13){this.read();break}_e.push(j?et===-5?5:et+5:et)}return this.isUnicode?_e.map(et=>String.fromCharCode(et)).join(""):_e.map(t).join("")}write(j){this.ensureSize(this.cursor+Int16Array.BYTES_PER_ELEMENT);const _e=this.cursor;this.cursor+=Int16Array.BYTES_PER_ELEMENT,this.view.setUint16(_e,j,!0)}writeString(j,_e=!0){const et=j.split("").map(tt=>tt.charCodeAt(0));for(const tt of et.values())this.write(_e?tt===5?-5:tt-5:tt)}writeLine(j,_e=!0){j&&this.writeString(j,_e),this.writeString(`\r
`,!1)}seek(j){this.cursor=j}}const r=["'",'"'];function s($){const j=[];let _e=!1,et=null,tt=[];const nt=$.split(/\r?\n/);let rt="",st=0;for(const at of nt)if(_e){if(!rt&&!st&&at.startsWith("-")){_e=!1,et&&(et.code=tt,tt=[],j.push(et),et=null);continue}tt.push(at);const ut=at.split("");for(let dt=0;dt<ut.length;++dt){const ot=ut[dt];rt?ot==rt&&(ut[dt+1]==rt?dt++:rt=""):ot=="{"?++st:ot=="}"?st&&--st:r.includes(ot)&&(rt=ot)}}else at.startsWith("#")&&(_e=!0,et={name:at.slice(1).trim(),description:[],code:[],actions:[]});return _e&&et&&(et.code=tt,j.push(et)),j}function o($){const j=new e;j.writeLine("QSPGAME",!1),j.writeLine("@qsp/converters 1.0",!1),j.writeLine("No"),j.writeLine(String($.length));for(const et of $){j.writeLine(et.name),j.writeLine(et.description.join(`\r
`)),j.writeLine(et.code.join(`\r
`)),j.writeLine(String(et.actions.length));for(const tt of et.actions){var _e;j.writeLine((_e=tt.image)!=null?_e:""),j.writeLine(tt.name),j.writeLine(tt.code.join(`\r
`))}}return j.finalize()}function convertQsps($){const j=new Uint8Array($.slice(0,2)),_e=j[0]===255&&j[1]===254?"utf-16le":"utf-8",tt=new TextDecoder(_e).decode($);return o(s(tt))}function prepareContent($){return $.replace(/&gt([^;])/gi,(j,_e)=>"& gt "+_e).replace(/\\"/g,"&quot;")}function prepareList($){return $.map(j=>({name:prepareContent(j.name),image:cleanPath(j.image)}))}const clamp$3=function($,j,_e){return Math.min(Math.max($,j),_e)},VOLUME_STEP=10,sounds$=atom(new Map,$=>({isPlaying(j){const _e=getFileKey(j),et=$.value.get(_e);return!!(et!=null&&et.isPlaying)},play(j,_e){const et=getFileKey(j);let tt=$.value.get(et);tt||(tt=Sound$1.create(j,_e),$.value.set(et,tt)),tt.play(_e)},close(j){const _e=getFileKey(j),et=$.value.get(_e);et&&et.stop()},closeAll(){for(const j of $.value.values())j.stop()},clear(){for(const j of $.value.values())j.dispose();$.set(new Map)}})),muted$=atom(!1),volume$=atom(100,$=>({increase(){$.update(j=>clamp$3(j+VOLUME_STEP,0,100))},decrease(){$.update(j=>clamp$3(j-VOLUME_STEP,0,100))}}));muted$.watch($=>{howler.Howler.mute($)});volume$.watch($=>{howler.Howler.volume(normalizeVolume(clamp$3($,0,100)))});function getFileKey($){return $.replace("/","__").toUpperCase()}const saveLoadedCallback$=create(),gameSavedCallback$=create(),saveSlots$=create([]),namedSlots$=create([]),requestedAction$=create(null),QUICK_SAVE_KEY="__quicksave_qspider__";async function loadSaveList(){const $=currentGameEntry$.value;if(!$){saveSlots$.set([]),namedSlots$.set([]);return}const j=await getStorage().getSavedSlots($.id);saveSlots$.set(j||[]);const _e=await getStorage().getNamedSaves($.id);namedSlots$.set(_e||[])}async function saveToSlot($){var tt;const j=currentGameEntry$.value;if(!j)return;const _e=(tt=qspApi$.value)==null?void 0:tt.saveGame();_e&&await getStorage().saveBySlot(j.id,$,_e);const et=gameSavedCallback$.value;et==null||et(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function saveToPath($){var tt;const j=currentGameEntry$.value;if(!j)return;const _e=(tt=qspApi$.value)==null?void 0:tt.saveGame();_e&&await getStorage().saveByKey(j.id,$,_e);const et=gameSavedCallback$.value;et==null||et(),gameSavedCallback$.set(null),requestedAction$.set(null),await loadSaveList()}async function restoreFromSlot($){var tt;const j=currentGameEntry$.value;if(!j)return;const _e=await getStorage().getSaveDataBySlot(j.id,$),et=saveLoadedCallback$.value;et==null||et(),saveLoadedCallback$.set(null),requestedAction$.set(null),_e&&((tt=qspApi$.value)==null||tt.loadSave(_e))}async function restoreFromPath($){var tt;const j=currentGameEntry$.value;if(!j)return;const _e=await getStorage().getSaveDataByKey(j.id,$),et=saveLoadedCallback$.value;et==null||et(),saveLoadedCallback$.set(null),requestedAction$.set(null),_e&&((tt=qspApi$.value)==null||tt.loadSave(_e))}async function clearSlot($){const j=currentGameEntry$.value;j&&(await getStorage().clearSaveSlot(j.id,$),await loadSaveList())}async function clearPath($){const j=currentGameEntry$.value;j&&(await getStorage().clearSaveKey(j.id,$),await loadSaveList())}async function quickSave(){var _e;if((_e=qspApi$.value)==null?void 0:_e.readVariable("NOSAVE"))return;const j=currentGameEntry$.value;j&&await withCounterPaused(async()=>{var tt;const et=(tt=qspApi$.value)==null?void 0:tt.saveGame();et&&await getStorage().saveByKey(j.id,QUICK_SAVE_KEY,et)})}async function quickLoad(){const $=currentGameEntry$.value;$&&await withCounterPaused(async()=>{var _e;const j=await getStorage().getSaveDataByKey($.id,QUICK_SAVE_KEY);j&&((_e=qspApi$.value)==null||_e.loadSave(j),onRestore())})}async function onSaveCommand($,j){const{slot_index:_e,save_path:et}=j;switch($){case"load":_e>0?await restoreFromSlot(_e):et&&await restoreFromPath(et),onRestore(),closePauseScreen();break;case"save":_e>0?await saveToSlot(_e):et&&await saveToPath(et),closePauseScreen();break;case"clear":_e>0?clearSlot(_e):et&&clearPath(et);break;default:console.error(`Unknown save action: ${$}`)}}const isPauseScreenVisible$=atom(!1),pauseScreenCurrentPanel$=atom("credits");function openPauseScreen(){isPauseScreenVisible$.set(!0)}function closePauseScreen(){isPauseScreenVisible$.set(!1),saveLoadedCallback$.value&&(saveLoadedCallback$.value(),saveLoadedCallback$.set(null)),gameSavedCallback$.value&&(gameSavedCallback$.value(),gameSavedCallback$.set(null))}isPauseScreenVisible$.subscribe($=>{$?isPaused$.set(!0):isPaused$.set(!1)});var mousetrap={exports:{}};(function($){(function(j,_e,et){if(!j)return;for(var tt={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},nt={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rt={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},st={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},at,ut=1;ut<20;++ut)tt[111+ut]="f"+ut;for(ut=0;ut<=9;++ut)tt[ut+96]=ut.toString();function dt(wt,Pt,Bt){if(wt.addEventListener){wt.addEventListener(Pt,Bt,!1);return}wt.attachEvent("on"+Pt,Bt)}function ot(wt){if(wt.type=="keypress"){var Pt=String.fromCharCode(wt.which);return wt.shiftKey||(Pt=Pt.toLowerCase()),Pt}return tt[wt.which]?tt[wt.which]:nt[wt.which]?nt[wt.which]:String.fromCharCode(wt.which).toLowerCase()}function lt(wt,Pt){return wt.sort().join(",")===Pt.sort().join(",")}function ft(wt){var Pt=[];return wt.shiftKey&&Pt.push("shift"),wt.altKey&&Pt.push("alt"),wt.ctrlKey&&Pt.push("ctrl"),wt.metaKey&&Pt.push("meta"),Pt}function ht(wt){if(wt.preventDefault){wt.preventDefault();return}wt.returnValue=!1}function vt(wt){if(wt.stopPropagation){wt.stopPropagation();return}wt.cancelBubble=!0}function bt(wt){return wt=="shift"||wt=="ctrl"||wt=="alt"||wt=="meta"}function mt(){if(!at){at={};for(var wt in tt)wt>95&&wt<112||tt.hasOwnProperty(wt)&&(at[tt[wt]]=wt)}return at}function xt(wt,Pt,Bt){return Bt||(Bt=mt()[wt]?"keydown":"keypress"),Bt=="keypress"&&Pt.length&&(Bt="keydown"),Bt}function Et(wt){return wt==="+"?["+"]:(wt=wt.replace(/\+{2}/g,"+plus"),wt.split("+"))}function At(wt,Pt){var Bt,Vt,Xt,pn=[];for(Bt=Et(wt),Xt=0;Xt<Bt.length;++Xt)Vt=Bt[Xt],st[Vt]&&(Vt=st[Vt]),Pt&&Pt!="keypress"&&rt[Vt]&&(Vt=rt[Vt],pn.push("shift")),bt(Vt)&&pn.push(Vt);return Pt=xt(Vt,pn,Pt),{key:Vt,modifiers:pn,action:Pt}}function kt(wt,Pt){return wt===null||wt===_e?!1:wt===Pt?!0:kt(wt.parentNode,Pt)}function Lt(wt){var Pt=this;if(wt=wt||_e,!(Pt instanceof Lt))return new Lt(wt);Pt.target=wt,Pt._callbacks={},Pt._directMap={};var Bt={},Vt,Xt=!1,pn=!1,En=!1;function Yt(tn){tn=tn||{};var dn=!1,wn;for(wn in Bt){if(tn[wn]){dn=!0;continue}Bt[wn]=0}dn||(En=!1)}function rn(tn,dn,wn,bn,_n,Sn){var yn,Mn,nn=[],Bn=wn.type;if(!Pt._callbacks[tn])return[];for(Bn=="keyup"&&bt(tn)&&(dn=[tn]),yn=0;yn<Pt._callbacks[tn].length;++yn)if(Mn=Pt._callbacks[tn][yn],!(!bn&&Mn.seq&&Bt[Mn.seq]!=Mn.level)&&Bn==Mn.action&&(Bn=="keypress"&&!wn.metaKey&&!wn.ctrlKey||lt(dn,Mn.modifiers))){var tr=!bn&&Mn.combo==_n,kn=bn&&Mn.seq==bn&&Mn.level==Sn;(tr||kn)&&Pt._callbacks[tn].splice(yn,1),nn.push(Mn)}return nn}function on(tn,dn,wn,bn){Pt.stopCallback(dn,dn.target||dn.srcElement,wn,bn)||tn(dn,wn)===!1&&(ht(dn),vt(dn))}Pt._handleKey=function(tn,dn,wn){var bn=rn(tn,dn,wn),_n,Sn={},yn=0,Mn=!1;for(_n=0;_n<bn.length;++_n)bn[_n].seq&&(yn=Math.max(yn,bn[_n].level));for(_n=0;_n<bn.length;++_n){if(bn[_n].seq){if(bn[_n].level!=yn)continue;Mn=!0,Sn[bn[_n].seq]=1,on(bn[_n].callback,wn,bn[_n].combo,bn[_n].seq);continue}Mn||on(bn[_n].callback,wn,bn[_n].combo)}var nn=wn.type=="keypress"&&pn;wn.type==En&&!bt(tn)&&!nn&&Yt(Sn),pn=Mn&&wn.type=="keydown"};function hn(tn){typeof tn.which!="number"&&(tn.which=tn.keyCode);var dn=ot(tn);if(dn){if(tn.type=="keyup"&&Xt===dn){Xt=!1;return}Pt.handleKey(dn,ft(tn),tn)}}function Kt(){clearTimeout(Vt),Vt=setTimeout(Yt,1e3)}function Qt(tn,dn,wn,bn){Bt[tn]=0;function _n(Bn){return function(){En=Bn,++Bt[tn],Kt()}}function Sn(Bn){on(wn,Bn,tn),bn!=="keyup"&&(Xt=ot(Bn)),setTimeout(Yt,10)}for(var yn=0;yn<dn.length;++yn){var Mn=yn+1===dn.length,nn=Mn?Sn:_n(bn||At(dn[yn+1]).action);sn(dn[yn],nn,bn,tn,yn)}}function sn(tn,dn,wn,bn,_n){Pt._directMap[tn+":"+wn]=dn,tn=tn.replace(/\s+/g," ");var Sn=tn.split(" "),yn;if(Sn.length>1){Qt(tn,Sn,dn,wn);return}yn=At(tn,wn),Pt._callbacks[yn.key]=Pt._callbacks[yn.key]||[],rn(yn.key,yn.modifiers,{type:yn.action},bn,tn,_n),Pt._callbacks[yn.key][bn?"unshift":"push"]({callback:dn,modifiers:yn.modifiers,action:yn.action,seq:bn,level:_n,combo:tn})}Pt._bindMultiple=function(tn,dn,wn){for(var bn=0;bn<tn.length;++bn)sn(tn[bn],dn,wn)},dt(wt,"keypress",hn),dt(wt,"keydown",hn),dt(wt,"keyup",hn)}Lt.prototype.bind=function(wt,Pt,Bt){var Vt=this;return wt=wt instanceof Array?wt:[wt],Vt._bindMultiple.call(Vt,wt,Pt,Bt),Vt},Lt.prototype.unbind=function(wt,Pt){var Bt=this;return Bt.bind.call(Bt,wt,function(){},Pt)},Lt.prototype.trigger=function(wt,Pt){var Bt=this;return Bt._directMap[wt+":"+Pt]&&Bt._directMap[wt+":"+Pt]({},wt),Bt},Lt.prototype.reset=function(){var wt=this;return wt._callbacks={},wt._directMap={},wt},Lt.prototype.stopCallback=function(wt,Pt){var Bt=this;if((" "+Pt.className+" ").indexOf(" mousetrap ")>-1||kt(Pt,Bt.target))return!1;if("composedPath"in wt&&typeof wt.composedPath=="function"){var Vt=wt.composedPath()[0];Vt!==wt.target&&(Pt=Vt)}return Pt.tagName=="INPUT"||Pt.tagName=="SELECT"||Pt.tagName=="TEXTAREA"||Pt.isContentEditable},Lt.prototype.handleKey=function(){var wt=this;return wt._handleKey.apply(wt,arguments)},Lt.addKeycodes=function(wt){for(var Pt in wt)wt.hasOwnProperty(Pt)&&(tt[Pt]=wt[Pt]);at=null},Lt.init=function(){var wt=Lt(_e);for(var Pt in wt)Pt.charAt(0)!=="_"&&(Lt[Pt]=function(Bt){return function(){return wt[Bt].apply(wt,arguments)}}(Pt))},Lt.init(),j.Mousetrap=Lt,$.exports&&($.exports=Lt)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(mousetrap);var mousetrapExports=mousetrap.exports;const Mousetrap=getDefaultExportFromCjs(mousetrapExports),globalHotKeys$=create([{when_paused:!1,description:"Action #1",keys:"1",on_press:{type:"action",index:0}},{when_paused:!1,description:"Action #2",keys:"2",on_press:{type:"action",index:1}},{when_paused:!1,description:"Action #3",keys:"3",on_press:{type:"action",index:2}},{when_paused:!1,description:"Action #4",keys:"4",on_press:{type:"action",index:3}},{when_paused:!1,description:"Action #5",keys:"5",on_press:{type:"action",index:4}},{when_paused:!1,description:"Action #6",keys:"6",on_press:{type:"action",index:5}},{when_paused:!1,description:"Action #7",keys:"7",on_press:{type:"action",index:6}},{when_paused:!1,description:"Action #8",keys:"8",on_press:{type:"action",index:7}},{when_paused:!1,description:"Action #9",keys:"9",on_press:{type:"action",index:8}},{when_paused:!1,keys:"space",description:"Single action",on_press:()=>isPaused$.value?void 0:(actions$.value.length===1&&(selectAction(0),execSelectedAction()),!1)},{when_paused:!0,description:"Restart",keys:"mod+r",on_press:{type:"game_action",action:"restart"}},{when_paused:!1,description:"Quicksave",keys:"f5",on_press:{type:"game_action",action:"quicksave"}},{when_paused:!1,description:"Quickload",keys:"f9",on_press:{type:"game_action",action:"quickload"}},{when_paused:!1,keys:"mod+s",description:"Save",on_press:()=>{var j;if(!((j=qspApi$.value)!=null&&j.readVariable("NOSAVE")))return requestedAction$.set("save"),onGameCommand("pause:saves"),!1}},{when_paused:!1,keys:"mod+o",description:"Load",on_press:()=>(requestedAction$.set("load"),onGameCommand("pause:saves"),!1)},{when_paused:!0,keys:"pageup",description:"Increase volume",on_press:()=>(volume$.actions.increase(),!1)},{when_paused:!0,keys:"pagedown",description:"Decrease volume",on_press:()=>(volume$.actions.decrease(),!1)},{when_paused:!0,description:"Mute",keys:"home",on_press:{type:"game_action",action:"mute"}},{when_paused:!0,description:"Unmute",keys:"end",on_press:{type:"game_action",action:"unmute"}}]);function setupGlobalHotKeys(){for(const $ of globalHotKeys$.value)Mousetrap.bind([$.keys],(j,_e)=>{if(!(!$.when_paused&&isPaused$.value)){if(typeof $.on_press=="function")return $.on_press(j,_e);if($.on_press.type==="action"){if(canSelectAction($.on_press.index))return selectAction($.on_press.index),execSelectedAction(),!1}else if($.on_press.type==="game_action")return onGameCommand($.on_press.action),!1}})}function setupCustomHotKeys($){for(const[j,_e]of Object.entries($))Mousetrap.bind(j,()=>{var et;if(!isPaused$.value)return(et=qspApi$.value)==null||et.execLoc(_e),!1})}const prettySymbolsCommon={backspace:"BackSpace",tab:"Tab",enter:"↵ Enter",capslock:"CapsLock",space:"Space",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",left:"←",up:"↑",right:"→",down:"↓",ins:"Insert",del:"Delete",plus:"+",shift:"Shift",ctrl:"Ctrl",alt:"Alt",mod:"Ctrl"},prettySymbolsMacOs={shift:"⇧",ctrl:"⌃",alt:"⌥",mod:"⌘"};function prettifyHotkeys($){const j=[],_e=$.split(" ");for(let et=0;et<_e.length;et++){const tt=_e[et].split("+");for(let nt=0;nt<tt.length;nt++){let rt=tt[nt];rt in prettySymbolsCommon&&(rt=prettySymbolsCommon[rt]),windowManager.platform==="Macintosh"&&tt[nt]in prettySymbolsMacOs&&(rt=prettySymbolsMacOs[tt[nt]]),j.push({type:"key",symbol:rt}),nt<tt.length-1&&j.push({type:"separator",symbol:"+"})}et<_e.length-1&&j.push({type:"separator",symbol:" "})}return j}function clearHotkeys(){Mousetrap.reset()}var WxWidgetsDirection=($=>($[$.top=1]="top",$[$.right=2]="right",$[$.bottom=3]="bottom",$[$.left=4]="left",$[$.center=5]="center",$))(WxWidgetsDirection||{});const CAPTION_SIZE=20,qspGuiCfg$=atom(null);function buildLayoutTree($){const j=getMaxLayer($),_e=$.filter(nt=>nt.floating&&nt.name==="imgview"),et=$.filter(nt=>!nt.floating);let tt=null;for(let nt=0;nt<=j;nt++){const rt=getLayerPanels(nt,et);tt={index:nt,top:[],right:[],bottom:[],left:[],center:tt||[]};for(const st of rt)st.dir==="center"&&st.name!=="desc"||tt[st.dir].push(st)}return{layer:tt?cleanEmptyLayers(tt):null,floating:_e}}function cleanEmptyLayers($){return Array.isArray($.center)?$:!$.top.length&&!$.right.length&&!$.bottom.length&&!$.left.length?cleanEmptyLayers($.center):($.center=cleanEmptyLayers($.center),$)}function convertLayer($,j,_e){return`<qsp-cl-layer>${convertDock("top",$.top,j,_e)}${convertDock("left",$.left,j,_e)}${Array.isArray($.center)?convertDock("center",$.center,j,_e):convertLayer($.center,j,_e)}${convertDock("right",$.right,j,_e)}${convertDock("bottom",$.bottom,j,_e)}</qsp-cl-layer>`}function convertDock($,j,_e,et){if(!j.length)return"";const tt=j.map(ut=>ut.name!=="desc"?ut.name:"").filter(Boolean),nt=tt.length>0?` visibility="${tt.join("|")}"`:"",[rt]=j,st=`${WxWidgetsDirection[rt.dir]},${rt.layer},${rt.row}`;let at="";if($!=="center")if(_e[st])at=` size="${$==="bottom"||$==="top"?_e[st]-CAPTION_SIZE:_e[st]}"`;else{const ut=$==="left"||$==="right"?"bestw":"besth";at=` size="${Math.max(...j.map(ot=>ot[ut]))}"`}return`<qsp-cl-dock place="${$}"${nt}${at}>${j.map(ut=>convertPane(ut,et,!1)).join("")}</qsp-cl-dock>`}function convertPane($,j,_e){return`<qsp-cl-pane visibility="${$.name!=="desc"?$.name:""}" proportion="${$.prop}">${extractFromDefaultTheme($.name,j,_e)}</qsp-cl-pane>`}function getMaxLayer($){return Math.max(...$.map(({layer:j})=>j))}function getLayerPanels($,j){return j.filter(_e=>_e.layer===$).sort((_e,et)=>_e.pos-et.pos)}const paneToTagMap={imgview:"qsp-view",acts:"qsp-actions",desc:"qsp-main",objs:"qsp-objects",vars:"qsp-stats",input:"qsp-cmd"};function extractFromDefaultTheme($,j,_e){const et=paneToTagMap[$];if(!et)return"";const tt=new RegExp(`<${et}([\\s\\S]*?)</${et}>`,"im"),nt=j.match(tt),rt=(nt==null?void 0:nt[0])??"";return _e?rt.replace(new RegExp(`<${et}(.*?)>`,"im"),`<${et} modal>`):rt.replace(new RegExp(`<${et}(.*?)>`,"im"),`<${et}>`)}const GROUP_REGEXP=/\[(.*?)\]/i,LINE_REGEXP=/(.*?)=(.*)/i,DOCK_LINE=/dock_size\((.*?)\)=(.*)/,IS_FLOATABLE_MASK=1,asNumber=($,j)=>({[$]:Number(j)}),asString=($,j)=>({[$]:j}),converters={BackColor:asNumber,FontColor:asNumber,LinkColor:asNumber,FontSize:asNumber,FontName:asString,Panels:parsePanels,dir:($,j)=>({[$]:WxWidgetsDirection[j]}),layer:asNumber,name:asString,pos:asNumber,row:asNumber,prop:asNumber,bestw:asNumber,besth:asNumber};function processData($,j){const _e=converters[$];return(_e==null?void 0:_e($,j))??{}}function parsePanels($,j){const _e=[],et={};for(const tt of j.split("|").filter(Boolean))if(tt!=="layout2")if(tt.startsWith("dock_size")){const nt=tt.match(DOCK_LINE);if(nt){const[,rt,st]=nt;rt&&st&&(et[rt]=Number(st))}}else{const nt=tt.split(";").map(extractLineData).reduce((rt,[st,at])=>{if(st==="state")rt.floating=(Number(at)&IS_FLOATABLE_MASK)!==0;else if(st&&at&&st in converters)return{...rt,...processData(st,at)};return rt},{});_e.push(nt)}return{Panels:_e,Docks:et}}function extractLineData($){const j=$.match(LINE_REGEXP);if(j){const[,_e,et]=j;return[_e,et]}return[]}function parseCfg($){let j={};for(const _e of $.split(/\r?\n/gim).filter(Boolean)){if(GROUP_REGEXP.test(_e))continue;const[et,tt]=extractLineData(_e);et&&tt&&et in converters&&(j={...j,...processData(et,tt)})}return j}const consoleLogger={type:"logger",log($){this.output("log",$)},warn($){this.output("warn",$)},error($){this.output("error",$)},output($,j){console&&console[$]&&console[$].apply(console,j)}};class Logger{constructor(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(j,_e)}init(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=_e.prefix||"i18next:",this.logger=j||consoleLogger,this.options=_e,this.debug=_e.debug}log(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return this.forward(_e,"log","",!0)}warn(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return this.forward(_e,"warn","",!0)}error(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return this.forward(_e,"error","")}deprecate(){for(var j=arguments.length,_e=new Array(j),et=0;et<j;et++)_e[et]=arguments[et];return this.forward(_e,"warn","WARNING DEPRECATED: ",!0)}forward(j,_e,et,tt){return tt&&!this.debug?null:(typeof j[0]=="string"&&(j[0]=`${et}${this.prefix} ${j[0]}`),this.logger[_e](j))}create(j){return new Logger(this.logger,{prefix:`${this.prefix}:${j}:`,...this.options})}clone(j){return j=j||this.options,j.prefix=j.prefix||this.prefix,new Logger(this.logger,j)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(j,_e){return j.split(" ").forEach(et=>{this.observers[et]||(this.observers[et]=new Map);const tt=this.observers[et].get(_e)||0;this.observers[et].set(_e,tt+1)}),this}off(j,_e){if(this.observers[j]){if(!_e){delete this.observers[j];return}this.observers[j].delete(_e)}}emit(j){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];this.observers[j]&&Array.from(this.observers[j].entries()).forEach(rt=>{let[st,at]=rt;for(let ut=0;ut<at;ut++)st(...et)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(rt=>{let[st,at]=rt;for(let ut=0;ut<at;ut++)st.apply(st,[j,...et])})}}const defer=()=>{let $,j;const _e=new Promise((et,tt)=>{$=et,j=tt});return _e.resolve=$,_e.reject=j,_e},makeString=$=>$==null?"":""+$,copy=($,j,_e)=>{$.forEach(et=>{j[et]&&(_e[et]=j[et])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=$=>$&&$.indexOf("###")>-1?$.replace(lastOfPathSeparatorRegExp,"."):$,canNotTraverseDeeper=$=>!$||typeof $=="string",getLastOfPath=($,j,_e)=>{const et=typeof j!="string"?j:j.split(".");let tt=0;for(;tt<et.length-1;){if(canNotTraverseDeeper($))return{};const nt=cleanKey(et[tt]);!$[nt]&&_e&&($[nt]=new _e),Object.prototype.hasOwnProperty.call($,nt)?$=$[nt]:$={},++tt}return canNotTraverseDeeper($)?{}:{obj:$,k:cleanKey(et[tt])}},setPath=($,j,_e)=>{const{obj:et,k:tt}=getLastOfPath($,j,Object);if(et!==void 0||j.length===1){et[tt]=_e;return}let nt=j[j.length-1],rt=j.slice(0,j.length-1),st=getLastOfPath($,rt,Object);for(;st.obj===void 0&&rt.length;)nt=`${rt[rt.length-1]}.${nt}`,rt=rt.slice(0,rt.length-1),st=getLastOfPath($,rt,Object),st&&st.obj&&typeof st.obj[`${st.k}.${nt}`]<"u"&&(st.obj=void 0);st.obj[`${st.k}.${nt}`]=_e},pushPath=($,j,_e,et)=>{const{obj:tt,k:nt}=getLastOfPath($,j,Object);tt[nt]=tt[nt]||[],tt[nt].push(_e)},getPath=($,j)=>{const{obj:_e,k:et}=getLastOfPath($,j);if(_e)return _e[et]},getPathWithDefaults=($,j,_e)=>{const et=getPath($,_e);return et!==void 0?et:getPath(j,_e)},deepExtend=($,j,_e)=>{for(const et in j)et!=="__proto__"&&et!=="constructor"&&(et in $?typeof $[et]=="string"||$[et]instanceof String||typeof j[et]=="string"||j[et]instanceof String?_e&&($[et]=j[et]):deepExtend($[et],j[et],_e):$[et]=j[et]);return $},regexEscape=$=>$.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape=$=>typeof $=="string"?$.replace(/[&<>"'\/]/g,j=>_entityMap[j]):$;class RegExpCache{constructor(j){this.capacity=j,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(j){const _e=this.regExpMap.get(j);if(_e!==void 0)return _e;const et=new RegExp(j);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(j,et),this.regExpQueue.push(j),et}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=($,j,_e)=>{j=j||"",_e=_e||"";const et=chars.filter(rt=>j.indexOf(rt)<0&&_e.indexOf(rt)<0);if(et.length===0)return!0;const tt=looksLikeObjectPathRegExpCache.getRegExp(`(${et.map(rt=>rt==="?"?"\\?":rt).join("|")})`);let nt=!tt.test($);if(!nt){const rt=$.indexOf(_e);rt>0&&!tt.test($.substring(0,rt))&&(nt=!0)}return nt},deepFind=function($,j){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!$)return;if($[j])return $[j];const et=j.split(_e);let tt=$;for(let nt=0;nt<et.length;){if(!tt||typeof tt!="object")return;let rt,st="";for(let at=nt;at<et.length;++at)if(at!==nt&&(st+=_e),st+=et[at],rt=tt[st],rt!==void 0){if(["string","number","boolean"].indexOf(typeof rt)>-1&&at<et.length-1)continue;nt+=at-nt+1;break}tt=rt}return tt},getCleanedCode=$=>$&&$.indexOf("_")>0?$.replace("_","-"):$;class ResourceStore extends EventEmitter{constructor(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=j||{},this.options=_e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(j){this.options.ns.indexOf(j)<0&&this.options.ns.push(j)}removeNamespaces(j){const _e=this.options.ns.indexOf(j);_e>-1&&this.options.ns.splice(_e,1)}getResource(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const nt=tt.keySeparator!==void 0?tt.keySeparator:this.options.keySeparator,rt=tt.ignoreJSONStructure!==void 0?tt.ignoreJSONStructure:this.options.ignoreJSONStructure;let st;j.indexOf(".")>-1?st=j.split("."):(st=[j,_e],et&&(Array.isArray(et)?st.push(...et):typeof et=="string"&&nt?st.push(...et.split(nt)):st.push(et)));const at=getPath(this.data,st);return!at&&!_e&&!et&&j.indexOf(".")>-1&&(j=st[0],_e=st[1],et=st.slice(2).join(".")),at||!rt||typeof et!="string"?at:deepFind(this.data&&this.data[j]&&this.data[j][_e],et,nt)}addResource(j,_e,et,tt){let nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const rt=nt.keySeparator!==void 0?nt.keySeparator:this.options.keySeparator;let st=[j,_e];et&&(st=st.concat(rt?et.split(rt):et)),j.indexOf(".")>-1&&(st=j.split("."),tt=_e,_e=st[1]),this.addNamespaces(_e),setPath(this.data,st,tt),nt.silent||this.emit("added",j,_e,et,tt)}addResources(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const nt in et)(typeof et[nt]=="string"||Array.isArray(et[nt]))&&this.addResource(j,_e,nt,et[nt],{silent:!0});tt.silent||this.emit("added",j,_e,et)}addResourceBundle(j,_e,et,tt,nt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},st=[j,_e];j.indexOf(".")>-1&&(st=j.split("."),tt=et,et=_e,_e=st[1]),this.addNamespaces(_e);let at=getPath(this.data,st)||{};rt.skipCopy||(et=JSON.parse(JSON.stringify(et))),tt?deepExtend(at,et,nt):at={...at,...et},setPath(this.data,st,at),rt.silent||this.emit("added",j,_e,et)}removeResourceBundle(j,_e){this.hasResourceBundle(j,_e)&&delete this.data[j][_e],this.removeNamespaces(_e),this.emit("removed",j,_e)}hasResourceBundle(j,_e){return this.getResource(j,_e)!==void 0}getResourceBundle(j,_e){return _e||(_e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(j,_e)}:this.getResource(j,_e)}getDataByLanguage(j){return this.data[j]}hasLanguageSomeTranslations(j){const _e=this.getDataByLanguage(j);return!!(_e&&Object.keys(_e)||[]).find(tt=>_e[tt]&&Object.keys(_e[tt]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor($){this.processors[$.name]=$},handle($,j,_e,et,tt){return $.forEach(nt=>{this.processors[nt]&&(j=this.processors[nt].process(j,_e,et,tt))}),j}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],j,this),this.options=_e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(j){j&&(this.language=j)}exists(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(j==null)return!1;const et=this.resolve(j,_e);return et&&et.res!==void 0}extractFromKey(j,_e){let et=_e.nsSeparator!==void 0?_e.nsSeparator:this.options.nsSeparator;et===void 0&&(et=":");const tt=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator;let nt=_e.ns||this.options.defaultNS||[];const rt=et&&j.indexOf(et)>-1,st=!this.options.userDefinedKeySeparator&&!_e.keySeparator&&!this.options.userDefinedNsSeparator&&!_e.nsSeparator&&!looksLikeObjectPath(j,et,tt);if(rt&&!st){const at=j.match(this.interpolator.nestingRegexp);if(at&&at.length>0)return{key:j,namespaces:nt};const ut=j.split(et);(et!==tt||et===tt&&this.options.ns.indexOf(ut[0])>-1)&&(nt=ut.shift()),j=ut.join(tt)}return typeof nt=="string"&&(nt=[nt]),{key:j,namespaces:nt}}translate(j,_e,et){if(typeof _e!="object"&&this.options.overloadTranslationOptionHandler&&(_e=this.options.overloadTranslationOptionHandler(arguments)),typeof _e=="object"&&(_e={..._e}),_e||(_e={}),j==null)return"";Array.isArray(j)||(j=[String(j)]);const tt=_e.returnDetails!==void 0?_e.returnDetails:this.options.returnDetails,nt=_e.keySeparator!==void 0?_e.keySeparator:this.options.keySeparator,{key:rt,namespaces:st}=this.extractFromKey(j[j.length-1],_e),at=st[st.length-1],ut=_e.lng||this.language,dt=_e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(ut&&ut.toLowerCase()==="cimode"){if(dt){const At=_e.nsSeparator||this.options.nsSeparator;return tt?{res:`${at}${At}${rt}`,usedKey:rt,exactUsedKey:rt,usedLng:ut,usedNS:at,usedParams:this.getUsedParamsDetails(_e)}:`${at}${At}${rt}`}return tt?{res:rt,usedKey:rt,exactUsedKey:rt,usedLng:ut,usedNS:at,usedParams:this.getUsedParamsDetails(_e)}:rt}const ot=this.resolve(j,_e);let lt=ot&&ot.res;const ft=ot&&ot.usedKey||rt,ht=ot&&ot.exactUsedKey||rt,vt=Object.prototype.toString.apply(lt),bt=["[object Number]","[object Function]","[object RegExp]"],mt=_e.joinArrays!==void 0?_e.joinArrays:this.options.joinArrays,xt=!this.i18nFormat||this.i18nFormat.handleAsObject;if(xt&&lt&&(typeof lt!="string"&&typeof lt!="boolean"&&typeof lt!="number")&&bt.indexOf(vt)<0&&!(typeof mt=="string"&&Array.isArray(lt))){if(!_e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const At=this.options.returnedObjectHandler?this.options.returnedObjectHandler(ft,lt,{..._e,ns:st}):`key '${rt} (${this.language})' returned an object instead of string.`;return tt?(ot.res=At,ot.usedParams=this.getUsedParamsDetails(_e),ot):At}if(nt){const At=Array.isArray(lt),kt=At?[]:{},Lt=At?ht:ft;for(const wt in lt)if(Object.prototype.hasOwnProperty.call(lt,wt)){const Pt=`${Lt}${nt}${wt}`;kt[wt]=this.translate(Pt,{..._e,joinArrays:!1,ns:st}),kt[wt]===Pt&&(kt[wt]=lt[wt])}lt=kt}}else if(xt&&typeof mt=="string"&&Array.isArray(lt))lt=lt.join(mt),lt&&(lt=this.extendTranslation(lt,j,_e,et));else{let At=!1,kt=!1;const Lt=_e.count!==void 0&&typeof _e.count!="string",wt=Translator.hasDefaultValue(_e),Pt=Lt?this.pluralResolver.getSuffix(ut,_e.count,_e):"",Bt=_e.ordinal&&Lt?this.pluralResolver.getSuffix(ut,_e.count,{ordinal:!1}):"",Vt=Lt&&!_e.ordinal&&_e.count===0&&this.pluralResolver.shouldUseIntlApi(),Xt=Vt&&_e[`defaultValue${this.options.pluralSeparator}zero`]||_e[`defaultValue${Pt}`]||_e[`defaultValue${Bt}`]||_e.defaultValue;!this.isValidLookup(lt)&&wt&&(At=!0,lt=Xt),this.isValidLookup(lt)||(kt=!0,lt=rt);const En=(_e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&kt?void 0:lt,Yt=wt&&Xt!==lt&&this.options.updateMissing;if(kt||At||Yt){if(this.logger.log(Yt?"updateKey":"missingKey",ut,at,rt,Yt?Xt:lt),nt){const Kt=this.resolve(rt,{..._e,keySeparator:!1});Kt&&Kt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let rn=[];const on=this.languageUtils.getFallbackCodes(this.options.fallbackLng,_e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&on&&on[0])for(let Kt=0;Kt<on.length;Kt++)rn.push(on[Kt]);else this.options.saveMissingTo==="all"?rn=this.languageUtils.toResolveHierarchy(_e.lng||this.language):rn.push(_e.lng||this.language);const hn=(Kt,Qt,sn)=>{const tn=wt&&sn!==lt?sn:En;this.options.missingKeyHandler?this.options.missingKeyHandler(Kt,at,Qt,tn,Yt,_e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(Kt,at,Qt,tn,Yt,_e),this.emit("missingKey",Kt,at,Qt,lt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Lt?rn.forEach(Kt=>{const Qt=this.pluralResolver.getSuffixes(Kt,_e);Vt&&_e[`defaultValue${this.options.pluralSeparator}zero`]&&Qt.indexOf(`${this.options.pluralSeparator}zero`)<0&&Qt.push(`${this.options.pluralSeparator}zero`),Qt.forEach(sn=>{hn([Kt],rt+sn,_e[`defaultValue${sn}`]||Xt)})}):hn(rn,rt,Xt))}lt=this.extendTranslation(lt,j,_e,ot,et),kt&&lt===rt&&this.options.appendNamespaceToMissingKey&&(lt=`${at}:${rt}`),(kt||At)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?lt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${at}:${rt}`:rt,At?lt:void 0):lt=this.options.parseMissingKeyHandler(lt))}return tt?(ot.res=lt,ot.usedParams=this.getUsedParamsDetails(_e),ot):lt}extendTranslation(j,_e,et,tt,nt){var rt=this;if(this.i18nFormat&&this.i18nFormat.parse)j=this.i18nFormat.parse(j,{...this.options.interpolation.defaultVariables,...et},et.lng||this.language||tt.usedLng,tt.usedNS,tt.usedKey,{resolved:tt});else if(!et.skipInterpolation){et.interpolation&&this.interpolator.init({...et,interpolation:{...this.options.interpolation,...et.interpolation}});const ut=typeof j=="string"&&(et&&et.interpolation&&et.interpolation.skipOnVariables!==void 0?et.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let dt;if(ut){const lt=j.match(this.interpolator.nestingRegexp);dt=lt&&lt.length}let ot=et.replace&&typeof et.replace!="string"?et.replace:et;if(this.options.interpolation.defaultVariables&&(ot={...this.options.interpolation.defaultVariables,...ot}),j=this.interpolator.interpolate(j,ot,et.lng||this.language||tt.usedLng,et),ut){const lt=j.match(this.interpolator.nestingRegexp),ft=lt&&lt.length;dt<ft&&(et.nest=!1)}!et.lng&&this.options.compatibilityAPI!=="v1"&&tt&&tt.res&&(et.lng=this.language||tt.usedLng),et.nest!==!1&&(j=this.interpolator.nest(j,function(){for(var lt=arguments.length,ft=new Array(lt),ht=0;ht<lt;ht++)ft[ht]=arguments[ht];return nt&&nt[0]===ft[0]&&!et.context?(rt.logger.warn(`It seems you are nesting recursively key: ${ft[0]} in key: ${_e[0]}`),null):rt.translate(...ft,_e)},et)),et.interpolation&&this.interpolator.reset()}const st=et.postProcess||this.options.postProcess,at=typeof st=="string"?[st]:st;return j!=null&&at&&at.length&&et.applyPostProcessor!==!1&&(j=postProcessor.handle(at,j,_e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...tt,usedParams:this.getUsedParamsDetails(et)},...et}:et,this)),j}resolve(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et,tt,nt,rt,st;return typeof j=="string"&&(j=[j]),j.forEach(at=>{if(this.isValidLookup(et))return;const ut=this.extractFromKey(at,_e),dt=ut.key;tt=dt;let ot=ut.namespaces;this.options.fallbackNS&&(ot=ot.concat(this.options.fallbackNS));const lt=_e.count!==void 0&&typeof _e.count!="string",ft=lt&&!_e.ordinal&&_e.count===0&&this.pluralResolver.shouldUseIntlApi(),ht=_e.context!==void 0&&(typeof _e.context=="string"||typeof _e.context=="number")&&_e.context!=="",vt=_e.lngs?_e.lngs:this.languageUtils.toResolveHierarchy(_e.lng||this.language,_e.fallbackLng);ot.forEach(bt=>{this.isValidLookup(et)||(st=bt,!checkedLoadedFor[`${vt[0]}-${bt}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(st)&&(checkedLoadedFor[`${vt[0]}-${bt}`]=!0,this.logger.warn(`key "${tt}" for languages "${vt.join(", ")}" won't get resolved as namespace "${st}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),vt.forEach(mt=>{if(this.isValidLookup(et))return;rt=mt;const xt=[dt];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(xt,dt,mt,bt,_e);else{let At;lt&&(At=this.pluralResolver.getSuffix(mt,_e.count,_e));const kt=`${this.options.pluralSeparator}zero`,Lt=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(lt&&(xt.push(dt+At),_e.ordinal&&At.indexOf(Lt)===0&&xt.push(dt+At.replace(Lt,this.options.pluralSeparator)),ft&&xt.push(dt+kt)),ht){const wt=`${dt}${this.options.contextSeparator}${_e.context}`;xt.push(wt),lt&&(xt.push(wt+At),_e.ordinal&&At.indexOf(Lt)===0&&xt.push(wt+At.replace(Lt,this.options.pluralSeparator)),ft&&xt.push(wt+kt))}}let Et;for(;Et=xt.pop();)this.isValidLookup(et)||(nt=Et,et=this.getResource(mt,bt,Et,_e))}))})}),{res:et,usedKey:tt,exactUsedKey:nt,usedLng:rt,usedNS:st}}isValidLookup(j){return j!==void 0&&!(!this.options.returnNull&&j===null)&&!(!this.options.returnEmptyString&&j==="")}getResource(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(j,_e,et,tt):this.resourceStore.getResource(j,_e,et,tt)}getUsedParamsDetails(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],et=j.replace&&typeof j.replace!="string";let tt=et?j.replace:j;if(et&&typeof j.count<"u"&&(tt.count=j.count),this.options.interpolation.defaultVariables&&(tt={...this.options.interpolation.defaultVariables,...tt}),!et){tt={...tt};for(const nt of _e)delete tt[nt]}return tt}static hasDefaultValue(j){const _e="defaultValue";for(const et in j)if(Object.prototype.hasOwnProperty.call(j,et)&&_e===et.substring(0,_e.length)&&j[et]!==void 0)return!0;return!1}}const capitalize=$=>$.charAt(0).toUpperCase()+$.slice(1);class LanguageUtil{constructor(j){this.options=j,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(j){if(j=getCleanedCode(j),!j||j.indexOf("-")<0)return null;const _e=j.split("-");return _e.length===2||(_e.pop(),_e[_e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(_e.join("-"))}getLanguagePartFromCode(j){if(j=getCleanedCode(j),!j||j.indexOf("-")<0)return j;const _e=j.split("-");return this.formatLanguageCode(_e[0])}formatLanguageCode(j){if(typeof j=="string"&&j.indexOf("-")>-1){const _e=["hans","hant","latn","cyrl","cans","mong","arab"];let et=j.split("-");return this.options.lowerCaseLng?et=et.map(tt=>tt.toLowerCase()):et.length===2?(et[0]=et[0].toLowerCase(),et[1]=et[1].toUpperCase(),_e.indexOf(et[1].toLowerCase())>-1&&(et[1]=capitalize(et[1].toLowerCase()))):et.length===3&&(et[0]=et[0].toLowerCase(),et[1].length===2&&(et[1]=et[1].toUpperCase()),et[0]!=="sgn"&&et[2].length===2&&(et[2]=et[2].toUpperCase()),_e.indexOf(et[1].toLowerCase())>-1&&(et[1]=capitalize(et[1].toLowerCase())),_e.indexOf(et[2].toLowerCase())>-1&&(et[2]=capitalize(et[2].toLowerCase()))),et.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?j.toLowerCase():j}isSupportedCode(j){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(j=this.getLanguagePartFromCode(j)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(j)>-1}getBestMatchFromCodes(j){if(!j)return null;let _e;return j.forEach(et=>{if(_e)return;const tt=this.formatLanguageCode(et);(!this.options.supportedLngs||this.isSupportedCode(tt))&&(_e=tt)}),!_e&&this.options.supportedLngs&&j.forEach(et=>{if(_e)return;const tt=this.getLanguagePartFromCode(et);if(this.isSupportedCode(tt))return _e=tt;_e=this.options.supportedLngs.find(nt=>{if(nt===tt)return nt;if(!(nt.indexOf("-")<0&&tt.indexOf("-")<0)&&(nt.indexOf("-")>0&&tt.indexOf("-")<0&&nt.substring(0,nt.indexOf("-"))===tt||nt.indexOf(tt)===0&&tt.length>1))return nt})}),_e||(_e=this.getFallbackCodes(this.options.fallbackLng)[0]),_e}getFallbackCodes(j,_e){if(!j)return[];if(typeof j=="function"&&(j=j(_e)),typeof j=="string"&&(j=[j]),Array.isArray(j))return j;if(!_e)return j.default||[];let et=j[_e];return et||(et=j[this.getScriptPartFromCode(_e)]),et||(et=j[this.formatLanguageCode(_e)]),et||(et=j[this.getLanguagePartFromCode(_e)]),et||(et=j.default),et||[]}toResolveHierarchy(j,_e){const et=this.getFallbackCodes(_e||this.options.fallbackLng||[],j),tt=[],nt=rt=>{rt&&(this.isSupportedCode(rt)?tt.push(rt):this.logger.warn(`rejecting language code not found in supportedLngs: ${rt}`))};return typeof j=="string"&&(j.indexOf("-")>-1||j.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&nt(this.formatLanguageCode(j)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&nt(this.getScriptPartFromCode(j)),this.options.load!=="currentOnly"&&nt(this.getLanguagePartFromCode(j))):typeof j=="string"&&nt(this.formatLanguageCode(j)),et.forEach(rt=>{tt.indexOf(rt)<0&&nt(this.formatLanguageCode(rt))}),tt}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:$=>+($>1),2:$=>+($!=1),3:$=>0,4:$=>$%10==1&&$%100!=11?0:$%10>=2&&$%10<=4&&($%100<10||$%100>=20)?1:2,5:$=>$==0?0:$==1?1:$==2?2:$%100>=3&&$%100<=10?3:$%100>=11?4:5,6:$=>$==1?0:$>=2&&$<=4?1:2,7:$=>$==1?0:$%10>=2&&$%10<=4&&($%100<10||$%100>=20)?1:2,8:$=>$==1?0:$==2?1:$!=8&&$!=11?2:3,9:$=>+($>=2),10:$=>$==1?0:$==2?1:$<7?2:$<11?3:4,11:$=>$==1||$==11?0:$==2||$==12?1:$>2&&$<20?2:3,12:$=>+($%10!=1||$%100==11),13:$=>+($!==0),14:$=>$==1?0:$==2?1:$==3?2:3,15:$=>$%10==1&&$%100!=11?0:$%10>=2&&($%100<10||$%100>=20)?1:2,16:$=>$%10==1&&$%100!=11?0:$!==0?1:2,17:$=>$==1||$%10==1&&$%100!=11?0:1,18:$=>$==0?0:$==1?1:2,19:$=>$==1?0:$==0||$%100>1&&$%100<11?1:$%100>10&&$%100<20?2:3,20:$=>$==1?0:$==0||$%100>0&&$%100<20?1:2,21:$=>$%100==1?1:$%100==2?2:$%100==3||$%100==4?3:0,22:$=>$==1?0:$==2?1:($<0||$>10)&&$%10==0?2:3};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},createRules=()=>{const $={};return sets.forEach(j=>{j.lngs.forEach(_e=>{$[_e]={numbers:j.nr,plurals:_rulesPluralsTypes[j.fc]}})}),$};class PluralResolver{constructor(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=j,this.options=_e,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules(),this.pluralRulesCache={}}addRule(j,_e){this.rules[j]=_e}clearCache(){this.pluralRulesCache={}}getRule(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const et=getCleanedCode(j==="dev"?"en":j),tt=_e.ordinal?"ordinal":"cardinal",nt=JSON.stringify({cleanedCode:et,type:tt});if(nt in this.pluralRulesCache)return this.pluralRulesCache[nt];const rt=new Intl.PluralRules(et,{type:tt});return this.pluralRulesCache[nt]=rt,rt}catch{return}return this.rules[j]||this.rules[this.languageUtils.getLanguagePartFromCode(j)]}needsPlural(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const et=this.getRule(j,_e);return this.shouldUseIntlApi()?et&&et.resolvedOptions().pluralCategories.length>1:et&&et.numbers.length>1}getPluralFormsOfKey(j,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(j,et).map(tt=>`${_e}${tt}`)}getSuffixes(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const et=this.getRule(j,_e);return et?this.shouldUseIntlApi()?et.resolvedOptions().pluralCategories.sort((tt,nt)=>suffixesOrder[tt]-suffixesOrder[nt]).map(tt=>`${this.options.prepend}${_e.ordinal?`ordinal${this.options.prepend}`:""}${tt}`):et.numbers.map(tt=>this.getSuffix(j,tt,_e)):[]}getSuffix(j,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const tt=this.getRule(j,et);return tt?this.shouldUseIntlApi()?`${this.options.prepend}${et.ordinal?`ordinal${this.options.prepend}`:""}${tt.select(_e)}`:this.getSuffixRetroCompatible(tt,_e):(this.logger.warn(`no plural rule found for: ${j}`),"")}getSuffixRetroCompatible(j,_e){const et=j.noAbs?j.plurals(_e):j.plurals(Math.abs(_e));let tt=j.numbers[et];this.options.simplifyPluralSuffix&&j.numbers.length===2&&j.numbers[0]===1&&(tt===2?tt="plural":tt===1&&(tt=""));const nt=()=>this.options.prepend&&tt.toString()?this.options.prepend+tt.toString():tt.toString();return this.options.compatibilityJSON==="v1"?tt===1?"":typeof tt=="number"?`_plural_${tt.toString()}`:nt():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&j.numbers.length===2&&j.numbers[0]===1?nt():this.options.prepend&&et.toString()?this.options.prepend+et.toString():et.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}const deepFindWithDefaults=function($,j,_e){let et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,nt=getPathWithDefaults($,j,_e);return!nt&&tt&&typeof _e=="string"&&(nt=deepFind($,_e,et),nt===void 0&&(nt=deepFind(j,_e,et))),nt},regexSafe=$=>$.replace(/\$/g,"$$$$");class Interpolator{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=j,this.format=j.interpolation&&j.interpolation.format||(_e=>_e),this.init(j)}init(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j.interpolation||(j.interpolation={escapeValue:!0});const{escape:_e,escapeValue:et,useRawValueToEscape:tt,prefix:nt,prefixEscaped:rt,suffix:st,suffixEscaped:at,formatSeparator:ut,unescapeSuffix:dt,unescapePrefix:ot,nestingPrefix:lt,nestingPrefixEscaped:ft,nestingSuffix:ht,nestingSuffixEscaped:vt,nestingOptionsSeparator:bt,maxReplaces:mt,alwaysFormat:xt}=j.interpolation;this.escape=_e!==void 0?_e:escape,this.escapeValue=et!==void 0?et:!0,this.useRawValueToEscape=tt!==void 0?tt:!1,this.prefix=nt?regexEscape(nt):rt||"{{",this.suffix=st?regexEscape(st):at||"}}",this.formatSeparator=ut||",",this.unescapePrefix=dt?"":ot||"-",this.unescapeSuffix=this.unescapePrefix?"":dt||"",this.nestingPrefix=lt?regexEscape(lt):ft||regexEscape("$t("),this.nestingSuffix=ht?regexEscape(ht):vt||regexEscape(")"),this.nestingOptionsSeparator=bt||",",this.maxReplaces=mt||1e3,this.alwaysFormat=xt!==void 0?xt:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const j=(_e,et)=>_e&&_e.source===et?(_e.lastIndex=0,_e):new RegExp(et,"g");this.regexp=j(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=j(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=j(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(j,_e,et,tt){let nt,rt,st;const at=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},ut=ft=>{if(ft.indexOf(this.formatSeparator)<0){const mt=deepFindWithDefaults(_e,at,ft,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(mt,void 0,et,{...tt,..._e,interpolationkey:ft}):mt}const ht=ft.split(this.formatSeparator),vt=ht.shift().trim(),bt=ht.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(_e,at,vt,this.options.keySeparator,this.options.ignoreJSONStructure),bt,et,{...tt,..._e,interpolationkey:vt})};this.resetRegExp();const dt=tt&&tt.missingInterpolationHandler||this.options.missingInterpolationHandler,ot=tt&&tt.interpolation&&tt.interpolation.skipOnVariables!==void 0?tt.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:ft=>regexSafe(ft)},{regex:this.regexp,safeValue:ft=>this.escapeValue?regexSafe(this.escape(ft)):regexSafe(ft)}].forEach(ft=>{for(st=0;nt=ft.regex.exec(j);){const ht=nt[1].trim();if(rt=ut(ht),rt===void 0)if(typeof dt=="function"){const bt=dt(j,nt,tt);rt=typeof bt=="string"?bt:""}else if(tt&&Object.prototype.hasOwnProperty.call(tt,ht))rt="";else if(ot){rt=nt[0];continue}else this.logger.warn(`missed to pass in variable ${ht} for interpolating ${j}`),rt="";else typeof rt!="string"&&!this.useRawValueToEscape&&(rt=makeString(rt));const vt=ft.safeValue(rt);if(j=j.replace(nt[0],vt),ot?(ft.regex.lastIndex+=rt.length,ft.regex.lastIndex-=nt[0].length):ft.regex.lastIndex=0,st++,st>=this.maxReplaces)break}}),j}nest(j,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt,nt,rt;const st=(at,ut)=>{const dt=this.nestingOptionsSeparator;if(at.indexOf(dt)<0)return at;const ot=at.split(new RegExp(`${dt}[ ]*{`));let lt=`{${ot[1]}`;at=ot[0],lt=this.interpolate(lt,rt);const ft=lt.match(/'/g),ht=lt.match(/"/g);(ft&&ft.length%2===0&&!ht||ht.length%2!==0)&&(lt=lt.replace(/'/g,'"'));try{rt=JSON.parse(lt),ut&&(rt={...ut,...rt})}catch(vt){return this.logger.warn(`failed parsing options string in nesting for key ${at}`,vt),`${at}${dt}${lt}`}return rt.defaultValue&&rt.defaultValue.indexOf(this.prefix)>-1&&delete rt.defaultValue,at};for(;tt=this.nestingRegexp.exec(j);){let at=[];rt={...et},rt=rt.replace&&typeof rt.replace!="string"?rt.replace:rt,rt.applyPostProcessor=!1,delete rt.defaultValue;let ut=!1;if(tt[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(tt[1])){const dt=tt[1].split(this.formatSeparator).map(ot=>ot.trim());tt[1]=dt.shift(),at=dt,ut=!0}if(nt=_e(st.call(this,tt[1].trim(),rt),rt),nt&&tt[0]===j&&typeof nt!="string")return nt;typeof nt!="string"&&(nt=makeString(nt)),nt||(this.logger.warn(`missed to resolve ${tt[1]} for nesting ${j}`),nt=""),ut&&(nt=at.reduce((dt,ot)=>this.format(dt,ot,et.lng,{...et,interpolationkey:tt[1].trim()}),nt.trim())),j=j.replace(tt[0],nt),this.regexp.lastIndex=0}return j}}const parseFormatStr=$=>{let j=$.toLowerCase().trim();const _e={};if($.indexOf("(")>-1){const et=$.split("(");j=et[0].toLowerCase().trim();const tt=et[1].substring(0,et[1].length-1);j==="currency"&&tt.indexOf(":")<0?_e.currency||(_e.currency=tt.trim()):j==="relativetime"&&tt.indexOf(":")<0?_e.range||(_e.range=tt.trim()):tt.split(";").forEach(rt=>{if(rt){const[st,...at]=rt.split(":"),ut=at.join(":").trim().replace(/^'+|'+$/g,""),dt=st.trim();_e[dt]||(_e[dt]=ut),ut==="false"&&(_e[dt]=!1),ut==="true"&&(_e[dt]=!0),isNaN(ut)||(_e[dt]=parseInt(ut,10))}})}return{formatName:j,formatOptions:_e}},createCachedFormatter=$=>{const j={};return(_e,et,tt)=>{let nt=tt;tt&&tt.interpolationkey&&tt.formatParams&&tt.formatParams[tt.interpolationkey]&&tt[tt.interpolationkey]&&(nt={...nt,[tt.interpolationkey]:void 0});const rt=et+JSON.stringify(nt);let st=j[rt];return st||(st=$(getCleanedCode(et),tt),j[rt]=st),st(_e)}};class Formatter{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=j,this.formats={number:createCachedFormatter((_e,et)=>{const tt=new Intl.NumberFormat(_e,{...et});return nt=>tt.format(nt)}),currency:createCachedFormatter((_e,et)=>{const tt=new Intl.NumberFormat(_e,{...et,style:"currency"});return nt=>tt.format(nt)}),datetime:createCachedFormatter((_e,et)=>{const tt=new Intl.DateTimeFormat(_e,{...et});return nt=>tt.format(nt)}),relativetime:createCachedFormatter((_e,et)=>{const tt=new Intl.RelativeTimeFormat(_e,{...et});return nt=>tt.format(nt,et.range||"day")}),list:createCachedFormatter((_e,et)=>{const tt=new Intl.ListFormat(_e,{...et});return nt=>tt.format(nt)})},this.init(j)}init(j){const et=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=et.formatSeparator?et.formatSeparator:et.formatSeparator||","}add(j,_e){this.formats[j.toLowerCase().trim()]=_e}addCached(j,_e){this.formats[j.toLowerCase().trim()]=createCachedFormatter(_e)}format(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const nt=_e.split(this.formatSeparator);if(nt.length>1&&nt[0].indexOf("(")>1&&nt[0].indexOf(")")<0&&nt.find(st=>st.indexOf(")")>-1)){const st=nt.findIndex(at=>at.indexOf(")")>-1);nt[0]=[nt[0],...nt.splice(1,st)].join(this.formatSeparator)}return nt.reduce((st,at)=>{const{formatName:ut,formatOptions:dt}=parseFormatStr(at);if(this.formats[ut]){let ot=st;try{const lt=tt&&tt.formatParams&&tt.formatParams[tt.interpolationkey]||{},ft=lt.locale||lt.lng||tt.locale||tt.lng||et;ot=this.formats[ut](st,ft,{...dt,...tt,...lt})}catch(lt){this.logger.warn(lt)}return ot}else this.logger.warn(`there was no format function for ${ut}`);return st},j)}}const removePending=($,j)=>{$.pending[j]!==void 0&&(delete $.pending[j],$.pendingCount--)};class Connector extends EventEmitter{constructor(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=j,this.store=_e,this.services=et,this.languageUtils=et.languageUtils,this.options=tt,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=tt.maxParallelReads||10,this.readingCalls=0,this.maxRetries=tt.maxRetries>=0?tt.maxRetries:5,this.retryTimeout=tt.retryTimeout>=1?tt.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(et,tt.backend,tt)}queueLoad(j,_e,et,tt){const nt={},rt={},st={},at={};return j.forEach(ut=>{let dt=!0;_e.forEach(ot=>{const lt=`${ut}|${ot}`;!et.reload&&this.store.hasResourceBundle(ut,ot)?this.state[lt]=2:this.state[lt]<0||(this.state[lt]===1?rt[lt]===void 0&&(rt[lt]=!0):(this.state[lt]=1,dt=!1,rt[lt]===void 0&&(rt[lt]=!0),nt[lt]===void 0&&(nt[lt]=!0),at[ot]===void 0&&(at[ot]=!0)))}),dt||(st[ut]=!0)}),(Object.keys(nt).length||Object.keys(rt).length)&&this.queue.push({pending:rt,pendingCount:Object.keys(rt).length,loaded:{},errors:[],callback:tt}),{toLoad:Object.keys(nt),pending:Object.keys(rt),toLoadLanguages:Object.keys(st),toLoadNamespaces:Object.keys(at)}}loaded(j,_e,et){const tt=j.split("|"),nt=tt[0],rt=tt[1];_e&&this.emit("failedLoading",nt,rt,_e),!_e&&et&&this.store.addResourceBundle(nt,rt,et,void 0,void 0,{skipCopy:!0}),this.state[j]=_e?-1:2,_e&&et&&(this.state[j]=0);const st={};this.queue.forEach(at=>{pushPath(at.loaded,[nt],rt),removePending(at,j),_e&&at.errors.push(_e),at.pendingCount===0&&!at.done&&(Object.keys(at.loaded).forEach(ut=>{st[ut]||(st[ut]={});const dt=at.loaded[ut];dt.length&&dt.forEach(ot=>{st[ut][ot]===void 0&&(st[ut][ot]=!0)})}),at.done=!0,at.errors.length?at.callback(at.errors):at.callback())}),this.emit("loaded",st),this.queue=this.queue.filter(at=>!at.done)}read(j,_e,et){let tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,rt=arguments.length>5?arguments[5]:void 0;if(!j.length)return rt(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:j,ns:_e,fcName:et,tried:tt,wait:nt,callback:rt});return}this.readingCalls++;const st=(ut,dt)=>{if(this.readingCalls--,this.waitingReads.length>0){const ot=this.waitingReads.shift();this.read(ot.lng,ot.ns,ot.fcName,ot.tried,ot.wait,ot.callback)}if(ut&&dt&&tt<this.maxRetries){setTimeout(()=>{this.read.call(this,j,_e,et,tt+1,nt*2,rt)},nt);return}rt(ut,dt)},at=this.backend[et].bind(this.backend);if(at.length===2){try{const ut=at(j,_e);ut&&typeof ut.then=="function"?ut.then(dt=>st(null,dt)).catch(st):st(null,ut)}catch(ut){st(ut)}return}return at(j,_e,st)}prepareLoading(j,_e){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),tt&&tt();typeof j=="string"&&(j=this.languageUtils.toResolveHierarchy(j)),typeof _e=="string"&&(_e=[_e]);const nt=this.queueLoad(j,_e,et,tt);if(!nt.toLoad.length)return nt.pending.length||tt(),null;nt.toLoad.forEach(rt=>{this.loadOne(rt)})}load(j,_e,et){this.prepareLoading(j,_e,{},et)}reload(j,_e,et){this.prepareLoading(j,_e,{reload:!0},et)}loadOne(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const et=j.split("|"),tt=et[0],nt=et[1];this.read(tt,nt,"read",void 0,void 0,(rt,st)=>{rt&&this.logger.warn(`${_e}loading namespace ${nt} for language ${tt} failed`,rt),!rt&&st&&this.logger.log(`${_e}loaded namespace ${nt} for language ${tt}`,st),this.loaded(j,rt,st)})}saveMissing(j,_e,et,tt,nt){let rt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},st=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(_e)){this.logger.warn(`did not save key "${et}" as the namespace "${_e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(et==null||et==="")){if(this.backend&&this.backend.create){const at={...rt,isUpdate:nt},ut=this.backend.create.bind(this.backend);if(ut.length<6)try{let dt;ut.length===5?dt=ut(j,_e,et,tt,at):dt=ut(j,_e,et,tt),dt&&typeof dt.then=="function"?dt.then(ot=>st(null,ot)).catch(st):st(null,dt)}catch(dt){st(dt)}else ut(j,_e,et,tt,st,at)}!j||!j[0]||this.store.addResource(j[0],_e,et,tt)}}}const get=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:$=>{let j={};if(typeof $[1]=="object"&&(j=$[1]),typeof $[1]=="string"&&(j.defaultValue=$[1]),typeof $[2]=="string"&&(j.tDescription=$[2]),typeof $[2]=="object"||typeof $[3]=="object"){const _e=$[3]||$[2];Object.keys(_e).forEach(et=>{j[et]=_e[et]})}return j},interpolation:{escapeValue:!0,format:$=>$,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=$=>(typeof $.ns=="string"&&($.ns=[$.ns]),typeof $.fallbackLng=="string"&&($.fallbackLng=[$.fallbackLng]),typeof $.fallbackNS=="string"&&($.fallbackNS=[$.fallbackNS]),$.supportedLngs&&$.supportedLngs.indexOf("cimode")<0&&($.supportedLngs=$.supportedLngs.concat(["cimode"])),$),noop$2=()=>{},bindMemberFunctions=$=>{Object.getOwnPropertyNames(Object.getPrototypeOf($)).forEach(_e=>{typeof $[_e]=="function"&&($[_e]=$[_e].bind($))})};class I18n extends EventEmitter{constructor(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(j),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),_e&&!this.isInitialized&&!j.isClone){if(!this.options.initImmediate)return this.init(j,_e),this;setTimeout(()=>{this.init(j,_e)},0)}}init(){var j=this;let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof _e=="function"&&(et=_e,_e={}),!_e.defaultNS&&_e.defaultNS!==!1&&_e.ns&&(typeof _e.ns=="string"?_e.defaultNS=_e.ns:_e.ns.indexOf("translation")<0&&(_e.defaultNS=_e.ns[0]));const tt=get();this.options={...tt,...this.options,...transformOptions(_e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...tt.interpolation,...this.options.interpolation}),_e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=_e.keySeparator),_e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=_e.nsSeparator);const nt=dt=>dt?typeof dt=="function"?new dt:dt:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(nt(this.modules.logger),this.options):baseLogger.init(null,this.options);let dt;this.modules.formatter?dt=this.modules.formatter:typeof Intl<"u"&&(dt=Formatter);const ot=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const lt=this.services;lt.logger=baseLogger,lt.resourceStore=this.store,lt.languageUtils=ot,lt.pluralResolver=new PluralResolver(ot,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),dt&&(!this.options.interpolation.format||this.options.interpolation.format===tt.interpolation.format)&&(lt.formatter=nt(dt),lt.formatter.init(lt,this.options),this.options.interpolation.format=lt.formatter.format.bind(lt.formatter)),lt.interpolator=new Interpolator(this.options),lt.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},lt.backendConnector=new Connector(nt(this.modules.backend),lt.resourceStore,lt,this.options),lt.backendConnector.on("*",function(ft){for(var ht=arguments.length,vt=new Array(ht>1?ht-1:0),bt=1;bt<ht;bt++)vt[bt-1]=arguments[bt];j.emit(ft,...vt)}),this.modules.languageDetector&&(lt.languageDetector=nt(this.modules.languageDetector),lt.languageDetector.init&&lt.languageDetector.init(lt,this.options.detection,this.options)),this.modules.i18nFormat&&(lt.i18nFormat=nt(this.modules.i18nFormat),lt.i18nFormat.init&&lt.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(ft){for(var ht=arguments.length,vt=new Array(ht>1?ht-1:0),bt=1;bt<ht;bt++)vt[bt-1]=arguments[bt];j.emit(ft,...vt)}),this.modules.external.forEach(ft=>{ft.init&&ft.init(this)})}if(this.format=this.options.interpolation.format,et||(et=noop$2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const dt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);dt.length>0&&dt[0]!=="dev"&&(this.options.lng=dt[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(dt=>{this[dt]=function(){return j.store[dt](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(dt=>{this[dt]=function(){return j.store[dt](...arguments),j}});const at=defer(),ut=()=>{const dt=(ot,lt)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),at.resolve(lt),et(ot,lt)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return dt(null,this.t.bind(this));this.changeLanguage(this.options.lng,dt)};return this.options.resources||!this.options.initImmediate?ut():setTimeout(ut,0),at}loadResources(j){let et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const tt=typeof j=="string"?j:this.language;if(typeof j=="function"&&(et=j),!this.options.resources||this.options.partialBundledLanguages){if(tt&&tt.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return et();const nt=[],rt=st=>{if(!st||st==="cimode")return;this.services.languageUtils.toResolveHierarchy(st).forEach(ut=>{ut!=="cimode"&&nt.indexOf(ut)<0&&nt.push(ut)})};tt?rt(tt):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(at=>rt(at)),this.options.preload&&this.options.preload.forEach(st=>rt(st)),this.services.backendConnector.load(nt,this.options.ns,st=>{!st&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),et(st)})}else et(null)}reloadResources(j,_e,et){const tt=defer();return typeof j=="function"&&(et=j,j=void 0),typeof _e=="function"&&(et=_e,_e=void 0),j||(j=this.languages),_e||(_e=this.options.ns),et||(et=noop$2),this.services.backendConnector.reload(j,_e,nt=>{tt.resolve(),et(nt)}),tt}use(j){if(!j)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!j.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return j.type==="backend"&&(this.modules.backend=j),(j.type==="logger"||j.log&&j.warn&&j.error)&&(this.modules.logger=j),j.type==="languageDetector"&&(this.modules.languageDetector=j),j.type==="i18nFormat"&&(this.modules.i18nFormat=j),j.type==="postProcessor"&&postProcessor.addPostProcessor(j),j.type==="formatter"&&(this.modules.formatter=j),j.type==="3rdParty"&&this.modules.external.push(j),this}setResolvedLanguage(j){if(!(!j||!this.languages)&&!(["cimode","dev"].indexOf(j)>-1))for(let _e=0;_e<this.languages.length;_e++){const et=this.languages[_e];if(!(["cimode","dev"].indexOf(et)>-1)&&this.store.hasLanguageSomeTranslations(et)){this.resolvedLanguage=et;break}}}changeLanguage(j,_e){var et=this;this.isLanguageChangingTo=j;const tt=defer();this.emit("languageChanging",j);const nt=at=>{this.language=at,this.languages=this.services.languageUtils.toResolveHierarchy(at),this.resolvedLanguage=void 0,this.setResolvedLanguage(at)},rt=(at,ut)=>{ut?(nt(ut),this.translator.changeLanguage(ut),this.isLanguageChangingTo=void 0,this.emit("languageChanged",ut),this.logger.log("languageChanged",ut)):this.isLanguageChangingTo=void 0,tt.resolve(function(){return et.t(...arguments)}),_e&&_e(at,function(){return et.t(...arguments)})},st=at=>{!j&&!at&&this.services.languageDetector&&(at=[]);const ut=typeof at=="string"?at:this.services.languageUtils.getBestMatchFromCodes(at);ut&&(this.language||nt(ut),this.translator.language||this.translator.changeLanguage(ut),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(ut)),this.loadResources(ut,dt=>{rt(dt,ut)})};return!j&&this.services.languageDetector&&!this.services.languageDetector.async?st(this.services.languageDetector.detect()):!j&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(st):this.services.languageDetector.detect(st):st(j),tt}getFixedT(j,_e,et){var tt=this;const nt=function(rt,st){let at;if(typeof st!="object"){for(var ut=arguments.length,dt=new Array(ut>2?ut-2:0),ot=2;ot<ut;ot++)dt[ot-2]=arguments[ot];at=tt.options.overloadTranslationOptionHandler([rt,st].concat(dt))}else at={...st};at.lng=at.lng||nt.lng,at.lngs=at.lngs||nt.lngs,at.ns=at.ns||nt.ns,at.keyPrefix!==""&&(at.keyPrefix=at.keyPrefix||et||nt.keyPrefix);const lt=tt.options.keySeparator||".";let ft;return at.keyPrefix&&Array.isArray(rt)?ft=rt.map(ht=>`${at.keyPrefix}${lt}${ht}`):ft=at.keyPrefix?`${at.keyPrefix}${lt}${rt}`:rt,tt.t(ft,at)};return typeof j=="string"?nt.lng=j:nt.lngs=j,nt.ns=_e,nt.keyPrefix=et,nt}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(j){this.options.defaultNS=j}hasLoadedNamespace(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const et=_e.lng||this.resolvedLanguage||this.languages[0],tt=this.options?this.options.fallbackLng:!1,nt=this.languages[this.languages.length-1];if(et.toLowerCase()==="cimode")return!0;const rt=(st,at)=>{const ut=this.services.backendConnector.state[`${st}|${at}`];return ut===-1||ut===0||ut===2};if(_e.precheck){const st=_e.precheck(this,rt);if(st!==void 0)return st}return!!(this.hasResourceBundle(et,j)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||rt(et,j)&&(!tt||rt(nt,j)))}loadNamespaces(j,_e){const et=defer();return this.options.ns?(typeof j=="string"&&(j=[j]),j.forEach(tt=>{this.options.ns.indexOf(tt)<0&&this.options.ns.push(tt)}),this.loadResources(tt=>{et.resolve(),_e&&_e(tt)}),et):(_e&&_e(),Promise.resolve())}loadLanguages(j,_e){const et=defer();typeof j=="string"&&(j=[j]);const tt=this.options.preload||[],nt=j.filter(rt=>tt.indexOf(rt)<0&&this.services.languageUtils.isSupportedCode(rt));return nt.length?(this.options.preload=tt.concat(nt),this.loadResources(rt=>{et.resolve(),_e&&_e(rt)}),et):(_e&&_e(),Promise.resolve())}dir(j){if(j||(j=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!j)return"rtl";const _e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],et=this.services&&this.services.languageUtils||new LanguageUtil(get());return _e.indexOf(et.getLanguagePartFromCode(j))>-1||j.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1?arguments[1]:void 0;return new I18n(j,_e)}cloneInstance(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$2;const et=j.forkResourceStore;et&&delete j.forkResourceStore;const tt={...this.options,...j,isClone:!0},nt=new I18n(tt);return(j.debug!==void 0||j.prefix!==void 0)&&(nt.logger=nt.logger.clone(j)),["store","services","language"].forEach(st=>{nt[st]=this[st]}),nt.services={...this.services},nt.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},et&&(nt.store=new ResourceStore(this.store.data,tt),nt.services.resourceStore=nt.store),nt.translator=new Translator(nt.services,tt),nt.translator.on("*",function(st){for(var at=arguments.length,ut=new Array(at>1?at-1:0),dt=1;dt<at;dt++)ut[dt-1]=arguments[dt];nt.emit(st,...ut)}),nt.init(tt,_e),nt.translator.options=tt,nt.translator.backendConnector.services.utils={hasLoadedNamespace:nt.hasLoadedNamespace.bind(nt)},nt}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const warn=(...$)=>{console!=null&&console.warn&&(isString($[0])&&($[0]=`react-i18next:: ${$[0]}`),console.warn(...$))},alreadyWarned={},warnOnce=(...$)=>{isString($[0])&&alreadyWarned[$[0]]||(isString($[0])&&(alreadyWarned[$[0]]=new Date),warn(...$))},loadedClb=($,j)=>()=>{if($.isInitialized)j();else{const _e=()=>{setTimeout(()=>{$.off("initialized",_e)},0),j()};$.on("initialized",_e)}},loadNamespaces=($,j,_e)=>{$.loadNamespaces(j,loadedClb($,_e))},loadLanguages=($,j,_e,et)=>{isString(_e)&&(_e=[_e]),_e.forEach(tt=>{$.options.ns.indexOf(tt)<0&&$.options.ns.push(tt)}),$.loadLanguages(j,loadedClb($,et))},hasLoadedNamespace=($,j,_e={})=>!j.languages||!j.languages.length?(warnOnce("i18n.languages were undefined or empty",j.languages),!0):j.hasLoadedNamespace($,{lng:_e.lng,precheck:(et,tt)=>{var nt;if(((nt=_e.bindI18n)==null?void 0:nt.indexOf("languageChanging"))>-1&&et.services.backendConnector.backend&&et.isLanguageChangingTo&&!tt(et.isLanguageChangingTo,$))return!1}}),isString=$=>typeof $=="string",isObject=$=>typeof $=="object"&&$!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=$=>htmlEntities[$],unescape=$=>$.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape};const setDefaults=($={})=>{defaultOptions={...defaultOptions,...$}},getDefaults$2=()=>defaultOptions;let i18nInstance;const setI18n=$=>{i18nInstance=$},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init($){setDefaults($.options.react),setI18n($)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(j){j.forEach(_e=>{var et;(et=this.usedNamespaces)[_e]??(et[_e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious$2=($,j)=>{const _e=reactExports.useRef();return reactExports.useEffect(()=>{_e.current=$},[$,j]),_e.current},alwaysNewT=($,j,_e,et)=>$.getFixedT(j,_e,et),useMemoizedT=($,j,_e,et)=>reactExports.useCallback(alwaysNewT($,j,_e,et),[$,j,_e,et]),useTranslation=($,j={})=>{var At,kt,Lt,wt;const{i18n:_e}=j,{i18n:et,defaultNS:tt}=reactExports.useContext(I18nContext)||{},nt=_e||et||getI18n();if(nt&&!nt.reportNamespaces&&(nt.reportNamespaces=new ReportNamespaces),!nt){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const Pt=(Vt,Xt)=>isString(Xt)?Xt:isObject(Xt)&&isString(Xt.defaultValue)?Xt.defaultValue:Array.isArray(Vt)?Vt[Vt.length-1]:Vt,Bt=[Pt,{},!1];return Bt.t=Pt,Bt.i18n={},Bt.ready=!1,Bt}(At=nt.options.react)!=null&&At.wait&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const rt={...getDefaults$2(),...nt.options.react,...j},{useSuspense:st,keyPrefix:at}=rt;let ut=tt||((kt=nt.options)==null?void 0:kt.defaultNS);ut=isString(ut)?[ut]:ut||["translation"],(wt=(Lt=nt.reportNamespaces).addUsedNamespaces)==null||wt.call(Lt,ut);const dt=(nt.isInitialized||nt.initializedStoreOnce)&&ut.every(Pt=>hasLoadedNamespace(Pt,nt,rt)),ot=useMemoizedT(nt,j.lng||null,rt.nsMode==="fallback"?ut:ut[0],at),lt=()=>ot,ft=()=>alwaysNewT(nt,j.lng||null,rt.nsMode==="fallback"?ut:ut[0],at),[ht,vt]=reactExports.useState(lt);let bt=ut.join();j.lng&&(bt=`${j.lng}${bt}`);const mt=usePrevious$2(bt),xt=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:Pt,bindI18nStore:Bt}=rt;xt.current=!0,!dt&&!st&&(j.lng?loadLanguages(nt,j.lng,ut,()=>{xt.current&&vt(ft)}):loadNamespaces(nt,ut,()=>{xt.current&&vt(ft)})),dt&&mt&&mt!==bt&&xt.current&&vt(ft);const Vt=()=>{xt.current&&vt(ft)};return Pt&&(nt==null||nt.on(Pt,Vt)),Bt&&(nt==null||nt.store.on(Bt,Vt)),()=>{xt.current=!1,nt&&(Pt==null||Pt.split(" ").forEach(Xt=>nt.off(Xt,Vt))),Bt&&nt&&Bt.split(" ").forEach(Xt=>nt.store.off(Xt,Vt))}},[nt,bt]),reactExports.useEffect(()=>{xt.current&&dt&&vt(lt)},[nt,at,dt]);const Et=[ht,nt,dt];if(Et.t=ht,Et.i18n=nt,Et.ready=dt,dt||!dt&&!st)return Et;throw new Promise(Pt=>{j.lng?loadLanguages(nt,j.lng,ut,()=>Pt()):loadNamespaces(nt,ut,()=>Pt())})};function _classCallCheck($,j){if(!($ instanceof j))throw new TypeError("Cannot call a class as a function")}function _typeof($){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},_typeof($)}function toPrimitive($,j){if(_typeof($)!="object"||!$)return $;var _e=$[Symbol.toPrimitive];if(_e!==void 0){var et=_e.call($,j);if(_typeof(et)!="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return String($)}function toPropertyKey($){var j=toPrimitive($,"string");return _typeof(j)=="symbol"?j:j+""}function _defineProperties($,j){for(var _e=0;_e<j.length;_e++){var et=j[_e];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty($,toPropertyKey(et.key),et)}}function _createClass($,j,_e){return j&&_defineProperties($.prototype,j),Object.defineProperty($,"prototype",{writable:!1}),$}var arr=[],each$1=arr.forEach,slice$1=arr.slice;function defaults$3($){return each$1.call(slice$1.call(arguments,1),function(j){if(j)for(var _e in j)$[_e]===void 0&&($[_e]=j[_e])}),$}function createClassOnDemand($){return $?typeof $=="function"?new $:$:null}function getDefaults$1(){return{handleEmptyResourcesAsFailed:!0,cacheHitMode:"none"}}function handleCorrectReadFunction($,j,_e,et){var tt=$.read.bind($);if(tt.length===2){try{var nt=tt(j,_e);nt&&typeof nt.then=="function"?nt.then(function(rt){return et(null,rt)}).catch(et):et(null,nt)}catch(rt){et(rt)}return}tt(j,_e,et)}var Backend$1=function(){function $(j){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,$),this.backends=[],this.type="backend",this.allOptions=et,this.init(j,_e)}return _createClass($,[{key:"init",value:function(_e){var et=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=_e,this.options=defaults$3(tt,this.options||{},getDefaults$1()),this.allOptions=nt,this.options.backends&&this.options.backends.forEach(function(rt,st){et.backends[st]=et.backends[st]||createClassOnDemand(rt),et.backends[st].init(_e,et.options.backendOptions&&et.options.backendOptions[st]||{},nt)}),this.services&&this.options.reloadInterval&&setInterval(function(){return et.reload()},this.options.reloadInterval)}},{key:"read",value:function(_e,et,tt){var nt=this,rt=this.backends.length,st=function ut(dt){if(dt>=rt)return tt(new Error("non of the backend loaded data",!0));var ot=dt===rt-1,lt=nt.options.handleEmptyResourcesAsFailed&&!ot?0:-1,ft=nt.backends[dt];ft.read?handleCorrectReadFunction(ft,_e,et,function(ht,vt,bt){if(!ht&&vt&&Object.keys(vt).length>lt){if(tt(null,vt,dt),at(dt-1,vt),ft.save&&nt.options.cacheHitMode&&["refresh","refreshAndUpdateStore"].indexOf(nt.options.cacheHitMode)>-1){if(bt&&nt.options.refreshExpirationTime&&bt+nt.options.refreshExpirationTime>Date.now())return;var mt=nt.backends[dt+1];mt&&mt.read&&handleCorrectReadFunction(mt,_e,et,function(xt,Et){xt||Et&&(Object.keys(Et).length<=lt||(at(dt,Et),nt.options.cacheHitMode==="refreshAndUpdateStore"&&nt.services&&nt.services.resourceStore&&nt.services.resourceStore.addResourceBundle(_e,et,Et)))})}}else ut(dt+1)}):ut(dt+1)},at=function ut(dt,ot){if(!(dt<0)){var lt=nt.backends[dt];lt.save&&lt.save(_e,et,ot),ut(dt-1,ot)}};st(0)}},{key:"create",value:function(_e,et,tt,nt){var rt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},st=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.backends.forEach(function(at){if(at.create){var ut=at.create.bind(at);if(ut.length<6){try{var dt;ut.length===5?dt=ut(_e,et,tt,nt,st):dt=ut(_e,et,tt,nt),dt&&typeof dt.then=="function"?dt.then(function(ot){return rt(null,ot)}).catch(rt):rt(null,dt)}catch(ot){rt(ot)}return}ut(_e,et,tt,nt,rt,st)}})}},{key:"reload",value:function(){var _e=this,et=this.services,tt=et.backendConnector,nt=et.languageUtils,rt=et.logger,st=tt.language;if(!(st&&st.toLowerCase()==="cimode")){var at=[],ut=function(ot){var lt=nt.toResolveHierarchy(ot);lt.forEach(function(ft){at.indexOf(ft)<0&&at.push(ft)})};ut(st),this.allOptions.preload&&this.allOptions.preload.forEach(function(dt){return ut(dt)}),at.forEach(function(dt){_e.allOptions.ns.forEach(function(ot){tt.read(dt,ot,"read",null,null,function(lt,ft){lt&&rt.warn("loading namespace ".concat(ot," for language ").concat(dt," failed"),lt),!lt&&ft&&rt.log("loaded namespace ".concat(ot," for language ").concat(dt),ft),tt.loaded("".concat(dt,"|").concat(ot),lt,ft)})})})}}}]),$}();Backend$1.type="backend";const defaults$2={loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",multiSeparator:"+",allowMultiLoading:!1,fetch:typeof fetch>"u"?void 0:fetch,parse:JSON.parse,stringify:JSON.stringify,requestOptions:{}},arrify=$=>Array.isArray($)?$:[$],normalize=($,...j)=>typeof $=="function"?$(...j):$;class BackendError extends Error{constructor(_e,et=!1){super(_e);Ps(this,"retry",null);this.retry=et}}class Backend{constructor(j,_e){Ps(this,"type","backend");this.init(j,_e)}init(j,_e={}){this.services=j,this.options={...defaults$2,...this.options,..._e}}getLoadPath(j,_e){return normalize(this.options.loadPath,j,_e)}read(j,_e,et){const tt=this.getLoadPath(j,_e),nt=this.services.interpolator.interpolate(tt,{lng:j,ns:_e});this.loadUrl(nt,et)}readMulti(j,_e,et){const tt=this.getLoadPath(j,_e),{multiSeparator:nt}=this.options,rt=this.services.interpolator.interpolate(tt,{lng:j.join(nt),ns:_e.join(nt)});this.loadUrl(rt,et)}loadUrl(j,_e){const{fetch:et,requestOptions:tt,parse:nt}=this.options;et(j,tt).then(rt=>{const{ok:st,status:at}=rt;if(!st){const ut=at>=500&&at<600;throw new BackendError(`failed loading ${j}`,ut)}return rt.text()},()=>{throw new BackendError(`failed loading ${j}`)}).then(rt=>{try{return _e(null,nt(rt,j))}catch{throw new BackendError(`failed parsing ${j} to json`,!1)}}).catch(rt=>{rt instanceof BackendError&&_e(rt.message,rt.retry)})}create(j,_e,et,tt){const nt={[et]:tt||""};arrify(j).forEach(rt=>{const{addPath:st,requestOptions:at,fetch:ut,stringify:dt}=this.options,ot=this.services.interpolator.interpolate(st,{lng:rt,ns:_e});try{ut(ot,{method:"POST",body:dt(nt),...at})}catch(lt){console.error(lt)}})}}Ps(Backend,"type","backend");const{slice,forEach}=[];function defaults$1($){return forEach.call(slice.call(arguments,1),j=>{if(j)for(const _e in j)$[_e]===void 0&&($[_e]=j[_e])}),$}const fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=($,j,_e)=>{const et=_e||{};et.path=et.path||"/";const tt=encodeURIComponent(j);let nt=`${$}=${tt}`;if(et.maxAge>0){const rt=et.maxAge-0;if(Number.isNaN(rt))throw new Error("maxAge should be a Number");nt+=`; Max-Age=${Math.floor(rt)}`}if(et.domain){if(!fieldContentRegExp.test(et.domain))throw new TypeError("option domain is invalid");nt+=`; Domain=${et.domain}`}if(et.path){if(!fieldContentRegExp.test(et.path))throw new TypeError("option path is invalid");nt+=`; Path=${et.path}`}if(et.expires){if(typeof et.expires.toUTCString!="function")throw new TypeError("option expires is invalid");nt+=`; Expires=${et.expires.toUTCString()}`}if(et.httpOnly&&(nt+="; HttpOnly"),et.secure&&(nt+="; Secure"),et.sameSite)switch(typeof et.sameSite=="string"?et.sameSite.toLowerCase():et.sameSite){case!0:nt+="; SameSite=Strict";break;case"lax":nt+="; SameSite=Lax";break;case"strict":nt+="; SameSite=Strict";break;case"none":nt+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return nt},cookie={create($,j,_e,et){let tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};_e&&(tt.expires=new Date,tt.expires.setTime(tt.expires.getTime()+_e*60*1e3)),et&&(tt.domain=et),document.cookie=serializeCookie($,encodeURIComponent(j),tt)},read($){const j=`${$}=`,_e=document.cookie.split(";");for(let et=0;et<_e.length;et++){let tt=_e[et];for(;tt.charAt(0)===" ";)tt=tt.substring(1,tt.length);if(tt.indexOf(j)===0)return tt.substring(j.length,tt.length)}return null},remove($){this.create($,"",-1)}};var cookie$1={name:"cookie",lookup($){let{lookupCookie:j}=$;if(j&&typeof document<"u")return cookie.read(j)||void 0},cacheUserLanguage($,j){let{lookupCookie:_e,cookieMinutes:et,cookieDomain:tt,cookieOptions:nt}=j;_e&&typeof document<"u"&&cookie.create(_e,$,et,tt,nt)}},querystring={name:"querystring",lookup($){var et;let{lookupQuerystring:j}=$,_e;if(typeof window<"u"){let{search:tt}=window.location;!window.location.search&&((et=window.location.hash)==null?void 0:et.indexOf("?"))>-1&&(tt=window.location.hash.substring(window.location.hash.indexOf("?")));const rt=tt.substring(1).split("&");for(let st=0;st<rt.length;st++){const at=rt[st].indexOf("=");at>0&&rt[st].substring(0,at)===j&&(_e=rt[st].substring(at+1))}}return _e}};let hasLocalStorageSupport=null;const localStorageAvailable=()=>{if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;const $="i18next.translate.boo";window.localStorage.setItem($,"foo"),window.localStorage.removeItem($)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport};var localStorage$1={name:"localStorage",lookup($){let{lookupLocalStorage:j}=$;if(j&&localStorageAvailable())return window.localStorage.getItem(j)||void 0},cacheUserLanguage($,j){let{lookupLocalStorage:_e}=j;_e&&localStorageAvailable()&&window.localStorage.setItem(_e,$)}};let hasSessionStorageSupport=null;const sessionStorageAvailable=()=>{if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;const $="i18next.translate.boo";window.sessionStorage.setItem($,"foo"),window.sessionStorage.removeItem($)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport};var sessionStorage={name:"sessionStorage",lookup($){let{lookupSessionStorage:j}=$;if(j&&sessionStorageAvailable())return window.sessionStorage.getItem(j)||void 0},cacheUserLanguage($,j){let{lookupSessionStorage:_e}=j;_e&&sessionStorageAvailable()&&window.sessionStorage.setItem(_e,$)}},navigator$1={name:"navigator",lookup($){const j=[];if(typeof navigator<"u"){const{languages:_e,userLanguage:et,language:tt}=navigator;if(_e)for(let nt=0;nt<_e.length;nt++)j.push(_e[nt]);et&&j.push(et),tt&&j.push(tt)}return j.length>0?j:void 0}},htmlTag={name:"htmlTag",lookup($){let{htmlTag:j}=$,_e;const et=j||(typeof document<"u"?document.documentElement:null);return et&&typeof et.getAttribute=="function"&&(_e=et.getAttribute("lang")),_e}},path={name:"path",lookup($){var tt;let{lookupFromPathIndex:j}=$;if(typeof window>"u")return;const _e=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(_e)?(tt=_e[typeof j=="number"?j:0])==null?void 0:tt.replace("/",""):void 0}},subdomain={name:"subdomain",lookup($){var tt,nt;let{lookupFromSubdomainIndex:j}=$;const _e=typeof j=="number"?j+1:1,et=typeof window<"u"&&((nt=(tt=window.location)==null?void 0:tt.hostname)==null?void 0:nt.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(et)return et[_e]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:$=>$}}let Browser$1=class{constructor(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(j,_e)}init(j){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=j||{languageUtils:{}},this.options=defaults$1(_e,this.options||{},getDefaults()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=tt=>tt.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=et,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}addDetector(j){return this.detectors[j.name]=j,this}detect(j){j||(j=this.options.order);let _e=[];return j.forEach(et=>{if(this.detectors[et]){let tt=this.detectors[et].lookup(this.options);tt&&typeof tt=="string"&&(tt=[tt]),tt&&(_e=_e.concat(tt))}}),_e=_e.map(et=>this.options.convertDetectedLanguage(et)),this.services.languageUtils.getBestMatchFromCodes?_e:_e.length>0?_e[0]:null}cacheUserLanguage(j,_e){_e||(_e=this.options.caches),_e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(j)>-1||_e.forEach(et=>{this.detectors[et]&&this.detectors[et].cacheUserLanguage(j,this.options)}))}};Browser$1.type="languageDetector";const locales$1=["en-US","en","ru-RU","uk-UA","zh"];instance.use(Backend$1).use(Browser$1).use(initReactI18next).init({fallbackLng:"en",supportedLngs:locales$1,defaultNS:"theme",fallbackNS:"translation",load:"currentOnly",debug:!0,interpolation:{escapeValue:!1},backend:{backends:[Backend],backendOptions:[{loadPath:new URL("locales/",window.location.href).href+"{{lng}}/{{ns}}.json"}]}});function loadThemeTranslations($){const j={};for(const _e of $){if(!locales$1.includes(_e.lang))continue;const et=j[_e.lang]??{};et[_e.tkey]=_e.value,j[_e.lang]=et}for(const[_e,et]of Object.entries(j))instance.addResourceBundle(_e,"theme",et,!0,!0)}function unloadThemeTranslations(){for(const $ of locales$1)instance.removeResourceBundle($,"theme")}function formatDate($){return new Intl.DateTimeFormat(instance.language,{dateStyle:"long",timeStyle:"short"}).format($)}const baseInit$=atom(!1),initDeferred$=atom(defer$1()),initialBaseUrl$=atom("/"),input$=create({isOpen:!1,content:"",entered:"",onfinished:null},$=>{const j=$.focus(et=>et.isOpen),_e=$.focus(et=>et.entered);return{open(et,tt){isPaused$.set(!0),$.set({isOpen:!0,content:et,entered:"",onfinished:tt})},enter(et){_e.set(et)},finish(){var et,tt;j.value&&(j.set(!1),isPaused$.set(!1),(tt=(et=$.value).onfinished)==null||tt.call(et,_e.value))},close(){var et,tt;j.value&&(j.set(!1),isPaused$.set(!1),(tt=(et=$.value).onfinished)==null||tt.call(et,""))},clear(){var et,tt;j.value&&((tt=(et=$.value).onfinished)==null||tt.call(et,""),isPaused$.set(!1)),$.set({isOpen:!1,content:"",entered:"",onfinished:null})}}}),selectedMenuItem$=atom(-1),menu$=atom({isOpen:!1,items:[],onselect:null},$=>{const j=$.focus(_e=>_e.isOpen);return{open(_e,et){$.set({isOpen:!0,items:_e,onselect:et})},select(_e){var et,tt;j.set(!1),(tt=(et=$.value).onselect)==null||tt.call(et,_e),$.value.onselect=null},close(){var _e,et;j.set(!1),(et=(_e=$.value).onselect)==null||et.call(_e,-1),$.value.onselect=null},clear(){var _e,et;j.value&&((et=(_e=$.value).onselect)==null||et.call(_e,-1)),$.set({isOpen:!1,items:[],onselect:null})}}}),msg$=create({isOpen:!1,content:"",onclosed:null},$=>{const j=$.focus(_e=>_e.isOpen);return{open(_e,et){isPaused$.set(!0),$.set({isOpen:!0,content:_e,onclosed:et})},close(){var _e,et;j.value&&(isPaused$.set(!1),j.set(!1),(et=(_e=$.value).onclosed)==null||et.call(_e))},clear(){var _e,et;j.value&&(isPaused$.set(!1),(et=(_e=$.value).onclosed)==null||et.call(_e)),$.set({isOpen:!1,content:"",onclosed:null})}}}),errorMessage$=atom("");atom(!1);const noticeMessage$=atom(""),isNoticeShown$=atom(!1);let noticeTimeout=null;function showNotice($){noticeMessage$.set($),isNoticeShown$.set(!0),noticeTimeout&&clearTimeout(noticeTimeout),noticeTimeout=setTimeout(()=>{isNoticeShown$.set(!1)},3e3)}const currentGameEntry$=atom(null),currentGame$=atom(),currentGameMode$=atom($=>{var j;return((j=$(currentGame$))==null?void 0:j.mode)||"classic"}),currentAeroWidth$=atom($=>{var j,_e;return((_e=(j=$(currentGame$))==null?void 0:j.aero)==null?void 0:_e.width)??800}),currentAeroHeight$=atom($=>{var j,_e;return((_e=(j=$(currentGame$))==null?void 0:j.aero)==null?void 0:_e.height)??600}),saveSlotsCount$=atom($=>{var j;return((j=$(currentGame$))==null?void 0:j.save_slots)??9}),onGameEnd$=atom(null),baseUrl$=atom("");async function runGame($){var j,_e,et,tt,nt;if(!$)throw new Error("Game not found");try{baseUrl$.set($.loadConfig.url);let rt=$.loadConfig.descriptor||{id:$.id,mode:$.mode,title:$.title,file:""};try{const ut=await fetchTextContent(baseUrl$.value,"game.cfg"),dt=parseToml(ut);if(((j=dt.game)==null?void 0:j.length)===1)[rt]=dt.game;else{const ot=(_e=dt.game)==null?void 0:_e.find(lt=>lt.id===$.id);if(!ot)throw new Error("Config not found");rt=ot}}catch(ut){console.error("Game config not loaded",ut)}if((rt==null?void 0:rt.mode)==="classic"||!(rt!=null&&rt.mode))try{const ut=await fetchTextContent(baseUrl$.value,"qspgui.cfg"),dt=parseCfg(ut);if(!dt||!Object.keys(dt).length)throw new Error("Invalid config file");qspGuiCfg$.set(dt)}catch{}if(rt.mode==="aero")if(rt.aero)rt.window={...rt.window??{},...rt.aero,resizable:!1};else try{const ut=await fetchTextContent(baseUrl$.value,"config.xml"),lt=new DOMParser().parseFromString(ut,"application/xml").querySelector("game");if(lt){const ft=parseInt(lt.getAttribute("width")||"800"),ht=parseInt(lt.getAttribute("height")||"600");rt.aero={width:ft,height:ht},rt.window={...rt.window??{},width:ft,height:ht,resizable:!1}}}catch{rt.aero={width:800,height:600},rt.window={...rt.window??{},width:800,height:600,resizable:!1}}windowManager.setTitle($.title),setupGlobalHotKeys(),rt!=null&&rt.hotkeys&&setupCustomHotKeys(rt.hotkeys),(et=rt==null?void 0:rt.resources)!=null&&et.icon&&windowManager.setIcon(baseUrl$.value,rt.resources.icon),loadAdditionalResources(rt==null?void 0:rt.resources),rt!=null&&rt.themes&&await registerThemes(rt.themes),rt!=null&&rt.defaultTheme?themeRegistry$.value[rt.defaultTheme]?currentTheme$.set(rt.defaultTheme):showNotice(`Theme ${rt.defaultTheme} not found`):(rt==null?void 0:rt.mode)==="aero"?currentTheme$.set(AERO_THEME):currentTheme$.set(CLASSIC_THEME),loadThemeTranslations(currentTranslations$.value),rt&&applyWindowSettings(rt.window);let st=await fetchBinaryContent(baseUrl$.value,$.loadConfig.entrypoint);if(!st)throw new Error("Failed to load game");$.loadConfig.entrypoint.toLowerCase().endsWith(".qsps")&&(st=convertQsps(st)),(tt=qspApi$.value)==null||tt.openGame(st,!0),(nt=qspApi$.value)==null||nt.restartGame(),currentGameEntry$.set($),rt&&currentGame$.set(rt),loadSaveList(),isPaused$.set(!1)}catch(rt){console.error(rt),showNotice(rt instanceof Error?rt.message:String(rt)),stopCurrentGame()}}let wasResized=!1;async function applyWindowSettings($){$&&($.width&&$.height&&(await windowManager.resize($.width,$.height),wasResized=!0),($.resizable??!0)&&($.minWidth&&$.minHeight&&await windowManager.setMinSize($.minWidth,$.minHeight),$.maxWidth&&$.maxHeight&&await windowManager.setMaxSize($.maxWidth,$.maxHeight)),$.fullscreen&&setTimeout(()=>windowManager.goFullscreen(),0))}baseUrl$.subscribe($=>{const j=document.querySelector("#page-base");j.href=$||"/"});function stopCurrentGame(){var $;baseUrl$.set(initialBaseUrl$.value),currentGameEntry$.set(null),currentGame$.set(null),qspGuiCfg$.set(null),closePauseScreen(),pauseScreenCurrentPanel$.set("credits"),isPaused$.set(!0),input$.actions.clear(),menu$.actions.clear(),msg$.actions.clear(),mainContent$.set(""),statsContent$.set(""),actions$.set([]),objects$.set([]),cmdText$.set(""),windowManager.setTitle("qSpider"),windowManager.setIcon(initialBaseUrl$.value,"favicon.ico"),windowManager.unsetMaxSize(),windowManager.unsetMinSize(),wasResized&&windowManager.resize(1024,768),sounds$.actions.clear(),regions$.set({}),layers$.set({}),clearAdditionalResources(),clearHotkeys(),unloadThemeTranslations(),currentTheme$.set(CLASSIC_THEME),themeRegistry$.actions.reset(),window.dispatchEvent(new Event("game-unload")),wasResized=!1,($=onGameEnd$.value)==null||$.call(onGameEnd$)}function onRestart(){reloadRegions(),reloadLayers()}function onRestore(){reloadRegions(),reloadLayers()}function onGameCommand($){var j;if($.startsWith("pause:")){const[,_e]=$.split(":");isPauseScreenVisible$.value||openPauseScreen(),pauseScreenCurrentPanel$.set(_e)}else if($.startsWith("scroll:")){const[,_e,et]=$.split(":");switch(_e){case"main":mainScroll$.update(tt=>et==="top"?-1:Math.max(tt,0)+1);break;case"stats":statsScroll$.update(tt=>et==="top"?-1:Math.max(tt,0)+1);break}}switch($){case"quit":stopCurrentGame();break;case"restart":isPaused$.set(!0),(j=qspApi$.value)==null||j.restartGame(),onRestart(),closePauseScreen(),pauseScreenCurrentPanel$.set("credits");break;case"resume":closePauseScreen();break;case"mute":muted$.set(!0);break;case"unmute":muted$.set(!1);break;case"toggle-mute":muted$.update(_e=>!_e);break;case"quicksave":quickSave();break;case"quickload":quickLoad();break}}const wait$=create(null),waitTimeout$=create();function finishWait(){const $=wait$.value;$&&(clearTimeout(waitTimeout$.value),isPaused$.set(!1),wait$.set(null),$.finish())}wait$.subscribe($=>{$&&(clearTimeout(waitTimeout$.value),isPaused$.set(!0),waitTimeout$.set(setTimeout(()=>{finishWait()},$.ms)))});const qspiderCommands={"action:"($){onGameCommand($)},"event:"($){setTimeout(()=>{const j=$.trim().match(/(.*?)(\[(.*?)\])/i);if(j){const _e=j[1],et=j[3].split(",").map(tt=>{const nt=tt.trim();return nt.startsWith('"')||nt.startsWith("'")?nt.replace(/['"](.*?)['"]/gim,(rt,st)=>st):parseInt(nt)});window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:_e,args:et}}))}else window.dispatchEvent(new CustomEvent("qspider-event",{detail:{name:$.trim()}}))},0)},"change_theme:"($){if(!themeRegistry$.value[$]){errorMessage$.set(`Theme ${$} is not registered`);return}currentTheme$.set($)},"update_region:"($){var _e;regions$.focus(et=>et[$]).set(((_e=qspApi$.value)==null?void 0:_e.readVariableByKey("$qspider_region",$))??"")},"scroll_region:"($){const[j,_e]=$.split(":"),et=regionsScroll$.focus(tt=>tt[j]);_e==="top"?et.set(-1):et.update(tt=>Math.max(tt,0)+1)},"update_layer:"($){layers$.focus(_e=>_e[$]).set(readLayerState($))},update_layers(){const $=layers$.value??{},j={};for(const _e of Object.keys($))j[_e]=readLayerState(_e);layers$.set(j)},"fullscreen:"($){$==="on"?windowManager.goFullscreen():windowManager.goWindowed()},quit(){stopCurrentGame()}},qspiderModuleContent=`# qspider_change_theme
! $args[0] - theme name
exec('qspider.change_theme:<<$args[0]>>')
---

# qspider_update_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_append_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] += $args[1]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_prepend_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = $args[1] + $qspider_region[$args[0]]
exec('qspider.update_region:<<$args[0]>>')
---
# qspider_scroll_region
! $args[0] - region name
! $args[1] - direction (top or bottom)
exec('qspider.scroll_region:<<$args[0]>>:<<$args[1]>>')
---
# qspider_clear_region
! $args[0] - region name
! $args[1] - content
$qspider_region[$args[0]] = ''
exec('qspider.update_region:<<$args[0]>>')
---

# qspider_show_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 1
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_hide_layer
! $args[0] - layer name
qspider_layers[$args[0]] = 0
exec('qspider.update_layer:<<$args[0]>>')
---

# qspider_show_only_layer
! $args[0] - layer name
killvar 'qspider_layers'
qspider_layers[$args[0]] = 1
exec('qspider.update_layers')
---

# qspider_quicksave
exec('qspider.action:quicksave')
---

# qspider_quickload
exec('qspider.action:quickload')
---

# qspider_restart
exec('qspider.action:restart')
---

# qspider_resume
exec('qspider.action:resume')
---

# qspider_quit
exec('qspider.action:quit')
---

# qspider_mute
exec('qspider.action:mute')
---

# qspider_unmute
exec('qspider.action:unmute')
---

# qspider_toggle_mute
exec('qspider.action:toggle-mute')
---

# qspider_open_pause_screen
! $args[0] - panel name
exec('qspider.action:pause:<<$args[0]>>')
---

# qspider_scroll
! $args[0] - panel (main or stats)
! $args[1] - direction (top or bottom)
exec('qspider.action:scroll:<<$args[0]>>:<<$args[1]>>')
---

#qspider_event
! $args[0] - event name
! any further args will be added as event args

local $event_args = ''
if ARRSIZE('$args') > 1:
  loop local i = 1 while i < ARRSIZE('$args') step i += 1:
    if LEN($event_args) > 0:  $event_args += ','
    if args[i] <> 0:
      $event_args += args[i]
    else:
      $event_args += '"<<$args[i]>>"'
    end
  end
end

if $event_args <> '':
  exec('qspider.event: <<$args[0]>>[<<$event_args>>]')
else:
  exec('qspider.event: <<$args[0]>>')
end
---
`,conditionAttributes=["equals","not-equals","is","is-not","contains","not-contains","greater","less","greater-or-equal","less-or-equal"];function checkCondition($,j){const[_e,et]=j;switch(_e){case"equals":case"is":return String($)===String(et);case"not-equals":case"is-not":return String($)!==String(et);case"contains":return typeof $=="string"?$.includes(et):!1;case"not-contains":return typeof $=="string"?!$.includes(et):!1;case"greater":return typeof $=="number"?$>Number(et):$>et;case"less":return typeof $=="number"?$<Number(et):$<et;case"greater-or-equal":return typeof $=="number"?$>=Number(et):$>=et;case"less-or-equal":return typeof $=="number"?$<=Number(et):$<=et}return!1}const qspApi$=atom(),qspApiInitialized$=atom(!1),qspError$=atom(null),qspiderModule$=atom(o(s(qspiderModuleContent)));async function initQspApi(){const $=await fetch(wasmUrl).then(_e=>_e.arrayBuffer()),j=await n$1($);console.log(`QSP version: ${j.version()}`),qspApi$.set(j),qspApiInitialized$.set(!0)}function execCode($){var j;(j=qspApi$.value)==null||j.execCode($)}function onLinkClicked($){$.toLowerCase().startsWith("exec:")?execCode($.substring(5)):window.location.href=$}function useQspVariable($,j,_e,et){const[tt,nt]=reactExports.useState(et);return reactExports.useEffect(()=>{var st,at;if(!$)return;const rt=j?(st=qspApi$.value)==null?void 0:st.watchVariableByKey($,j,ut=>nt(ut||et)):(at=qspApi$.value)==null?void 0:at.watchVariableByIndex($,_e,ut=>nt(ut||et));return()=>{rt==null||rt()}},[$,j,_e,et]),tt}function useQspExpression($,j){const[_e,et]=reactExports.useState(!1);return reactExports.useEffect(()=>{var nt;if(!$)return;const tt=(nt=qspApi$.value)==null?void 0:nt.watchVariable($,rt=>{et(checkCondition(rt,j))});return()=>{tt==null||tt()}},[$,j]),_e}qspApi$.subscribe($=>{$.on("version",(j,_e)=>{switch(j){case"player":return _e("qSpider");case"platform":return _e("browser")}return _e($.version())}),$.on("error",qspError$.set),$.on("system_cmd",j=>{if(!j.startsWith("qspider"))return;const[,_e]=j.split(".");for(const[et,tt]of Object.entries(qspiderCommands))if(_e.trim().startsWith(et)){const nt=_e.replace(et,"");tt(nt)}}),$.on("is_play",(j,_e)=>{_e(sounds$.actions.isPlaying(j))}),$.on("play_file",(j,_e,et)=>{sounds$.actions.play(j,_e),et()}),$.on("close_file",(j,_e)=>{j?sounds$.actions.close(j):sounds$.actions.closeAll(),_e()}),$.on("timer",j=>{counterDelay$.set(j)}),$.on("open_game",async(j,_e,et)=>{if(j==="qspider"){$.openGame(qspiderModule$.value,!1),et();return}withCounterPaused(async()=>{const tt=await fetchBinaryContent(baseUrl$.value,j);let nt=tt;if(j.toLowerCase().endsWith(".qsps")&&(nt=convertQsps(tt)),_e){const st=cleanPath(j);baseUrl$.update(at=>at+st.slice(0,st.lastIndexOf("/")+1))}$.openGame(nt,_e),et()})}),$.on("input",(j,_e)=>{input$.actions.open(j,_e)}),$.on("menu",(j,_e)=>{menu$.actions.open(prepareList(j),_e)}),$.on("msg",(j,_e)=>{msg$.actions.open(j,_e)}),$.on("main_changed",j=>{const _e=mainContent$.value,et=prepareContent(j),tt=!_e||et!==_e&&!et.startsWith(_e);isNewLoc$.set(tt),nextMainContent$.set(et),tt?newLocHash$.set(String(hashString(nextMainContent$.value))):mainContent$.set(et)}),$.on("stats_changed",j=>{statsContent$.set(prepareContent(j))}),$.on("actions_changed",j=>{actions$.set(prepareList(j))}),$.on("objects_changed",j=>{objects$.set(prepareList(j))}),$.on("user_input",j=>{cmdText$.set(j)}),$.on("view",j=>{j?view$.actions.open(j):view$.actions.close()}),$.on("panel_visibility",(j,_e)=>{switch(j){case t$2.STAT:isStatsVisible$.set(_e);break;case t$2.ACTS:isActsVisible$.set(_e);break;case t$2.OBJS:isObjsVisible$.set(_e);break;case t$2.INPUT:isCmdVisible$.set(_e);break}}),$.on("load_save",async(j,_e)=>{if(!currentGameEntry$.value)return _e();saveLoadedCallback$.set(()=>{_e()}),j?await restoreFromPath(j):(requestedAction$.set("load"),onGameCommand("pause:saves"))}),$.on("save_game",async(j,_e)=>{if(!currentGameEntry$.value)return _e();gameSavedCallback$.set(()=>{_e()}),j?await saveToPath(j):(requestedAction$.set("save"),onGameCommand("pause:saves"))}),$.on("wait",(j,_e)=>{wait$.set({ms:j,finish:_e})})});function usePrevious$1($){const j=reactExports.useRef();return reactExports.useEffect(()=>{j.current=$},[$]),j.current}const playerTheme$=create("light");playerTheme$.subscribe($=>{$==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme"),localStorage.setItem("qspider-theme",$)});atom(new Map,$=>({register(j,_e){$.value.set(j,_e)}}));const edgeHasTranslation$=atom(!1),othersHasTranslation$=atom(!1),hasBrowserTranslation$=atom($=>$(edgeHasTranslation$)||$(othersHasTranslation$)),originalLanguge=document.documentElement.lang,langObserver=new MutationObserver(()=>{othersHasTranslation$.set(document.documentElement.lang!==originalLanguge)});langObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],childList:!1,characterData:!1});const[title]=document.getElementsByTagName("title"),titleObserver=new MutationObserver(()=>{edgeHasTranslation$.set(title.hasAttribute("_msttexthash"))});titleObserver.observe(title,{attributes:!0,attributeFilter:["_msttexthash"],childList:!1,characterData:!1});const fontSizeMap={"-2":"x-small","-1":"small","+0":"medium","+1":"large","+2":"x-large","+3":"xx-large","+4":"xxx-large",0:"medium",1:"x-small",2:"small",3:"medium",4:"large",5:"x-large",6:"xx-large",7:"xxx-large"},Font=({size:$,children:j,attrs:_e})=>{const[,et,tt]=useAttributes(_e,"span"),nt={...et,fontSize:$!=null?fontSizeMap[$]||"medium":"inherit"};return jsxRuntimeExports.jsx("span",{...tt,style:nt,children:j})},ATTRIBUTES_TO_PROPS$1=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",usemap:"useMap",cellspacing:"cellSpacing",cellpadding:"cellPadding",autoplay:"autoPlay","xlink:href":"xlinkHref","xmlns:xlink":"xmlnsXlink",for:"htmlFor",minlength:"minLength",maxlength:"maxLength"}),attributeToStyle={size:"fontSize",color:"color",face:"fontFace",valign:"verticalAlign",bgcolor:"backgroundColor",width:"width",height:"height"},imgAlignMap={texttop:"text-top",center:"middle",abscenter:"middle",bottom:"bottom"},attributeToStyleConverters={width:$=>/^\d+$/.test($)?`${$}px`:$,height:$=>/^\d+$/.test($)?`${$}px`:$,fontSize:$=>/^[+-]?\d+$/.test($)?fontSizeMap[$]:$},attributesToStyle=($,j)=>{var et;const _e={};for(const tt of Object.keys($)){const nt=attributeToStyle[tt];if(j==="img"&&tt==="align"){const rt=(et=$[tt])==null?void 0:et.toLowerCase();if(rt){const st=imgAlignMap[rt];st&&(_e.verticalAlign=st)}}if(nt){const rt=$[tt];if(!rt)continue;attributeToStyleConverters[nt]?_e[nt]=attributeToStyleConverters[nt](rt):_e[nt]=rt}}return _e},supportedEvents=["click","mouseenter","mouseleave","contextmenu","dblclick","wheel"],eventsMap={click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},useAttributes=($,j,_e=j)=>{const et={};_e.includes("-")&&(et["data-qsp"]=_e.replace("qsp-",""));const{tag:tt=j,style:nt={},"qsp-command":rt,"qsp-save-command":st,...at}=$;for(const[dt,ot]of Object.entries(at)){if(dt.startsWith("on"))continue;if(dt.startsWith("qsp-on")){const ft=ot.slice(5),[,ht]=dt.split(":");supportedEvents.includes(ht)&&(et[eventsMap[ht]]=vt=>{vt.preventDefault(),execCode(ft)});continue}let lt=ATTRIBUTES_TO_PROPS$1[dt]||dt;lt.includes("-")&&!lt.startsWith("aria-")&&!lt.startsWith("data-")&&lt!=="mask-type"&&(lt=lt.replace(/-([a-z])/g,function(ft,ht){return ht.toUpperCase()})),et[lt]=ot}tt.includes("-")&&et.className&&(et.class=et.className,delete et.className),tt==="iframe"&&(et.sandbox="allow-scripts allow-same-origin"),rt?(et.onClick=dt=>{dt.preventDefault(),onGameCommand(rt)},et["data-qsp-command"]=rt):st&&(et["data-qsp-save-command"]=st,et.onClick=dt=>{if(dt.preventDefault(),!dt.target)return;const ot=getSaveContext(dt.target);ot&&onSaveCommand(st,ot)});const ut=attributesToStyle($,tt);return[tt,{...nt,...ut},et]};function getSaveContext($){const j=$.closest("[data-qsp-save]");if(!j)return console.error("qsp-save-command used on element outside of save tag"),null;const _e="qspSaveIndex"in j.dataset?parseInt(j.dataset.qspSaveIndex??"-1",0):-1,et=j.dataset.qspSavePath??"";return{slot_index:_e,save_path:et}}const Element$2=function({attributes:$={},className:j,children:_e=null,selfClose:et=!1,tagName:tt}){const nt=tt;return et?jsxRuntimeExports.jsx(nt,{className:j,...$}):jsxRuntimeExports.jsx(nt,{className:j,...$,children:_e})},Markup=function($){const{content:j}=$,_e=j.length===1?j[0]:j;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_e})},TYPE_FLOW=1,TYPE_SECTION=2,TYPE_HEADING=4,TYPE_PHRASING=8,TYPE_EMBEDDED=16,TYPE_INTERACTIVE=32,TYPE_PALPABLE=64,tagConfigs={a:{content:TYPE_FLOW|TYPE_PHRASING,self:!1,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:TYPE_FLOW|TYPE_PHRASING,void:!0},body:{content:TYPE_FLOW|TYPE_SECTION|TYPE_HEADING|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_INTERACTIVE|TYPE_PALPABLE},button:{content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_INTERACTIVE|TYPE_PALPABLE},caption:{content:TYPE_FLOW,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:TYPE_FLOW|TYPE_INTERACTIVE|TYPE_PALPABLE},dd:{content:TYPE_FLOW,parent:["dl"]},dl:{children:["dt","dd"],type:TYPE_FLOW},dt:{content:TYPE_FLOW,invalid:["footer","header"],parent:["dl"]},figcaption:{content:TYPE_FLOW,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:TYPE_FLOW,void:!0},img:{void:!0},li:{content:TYPE_FLOW,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:TYPE_FLOW},picture:{children:["source","img"],type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:TYPE_PHRASING,parent:["ruby","rtc"]},rtc:{content:TYPE_PHRASING,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:TYPE_PHRASING,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:TYPE_FLOW},tbody:{parent:["table"],children:["tr"]},td:{content:TYPE_FLOW,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:TYPE_FLOW,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:TYPE_FLOW},video:{children:["track","source"]},wbr:{type:TYPE_FLOW|TYPE_PHRASING,void:!0}};function createConfigBuilder($){return j=>{tagConfigs[j]={...$,...tagConfigs[j]}}}["address","main","div","figure","p","pre"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_PALPABLE}));["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING|TYPE_PALPABLE}));["p","pre"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PALPABLE}));["s","small","span","del","ins"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_PHRASING}));["article","aside","footer","header","nav","section","blockquote"].forEach(createConfigBuilder({content:TYPE_FLOW,type:TYPE_FLOW|TYPE_SECTION|TYPE_PALPABLE}));["h1","h2","h3","h4","h5","h6"].forEach(createConfigBuilder({content:TYPE_PHRASING,type:TYPE_FLOW|TYPE_HEADING|TYPE_PALPABLE}));["audio","canvas","iframe","img","video"].forEach(createConfigBuilder({type:TYPE_FLOW|TYPE_PHRASING|TYPE_EMBEDDED|TYPE_PALPABLE}));const TAGS=Object.freeze(tagConfigs),BANNED_TAG_LIST=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],ALLOWED_TAG_LIST=Object.keys(TAGS).filter($=>$!=="canvas"&&$!=="iframe"),FILTER_ALLOW=1,FILTER_DENY=2,FILTER_CAST_NUMBER=3,FILTER_CAST_BOOL=4,FILTER_NO_CAST=5,ATTRIBUTES=Object.freeze({alt:FILTER_ALLOW,cite:FILTER_ALLOW,class:FILTER_ALLOW,colspan:FILTER_CAST_NUMBER,controls:FILTER_CAST_BOOL,datetime:FILTER_ALLOW,default:FILTER_CAST_BOOL,disabled:FILTER_CAST_BOOL,dir:FILTER_ALLOW,height:FILTER_ALLOW,href:FILTER_ALLOW,id:FILTER_ALLOW,kind:FILTER_ALLOW,label:FILTER_ALLOW,lang:FILTER_ALLOW,loading:FILTER_ALLOW,loop:FILTER_CAST_BOOL,media:FILTER_ALLOW,muted:FILTER_CAST_BOOL,poster:FILTER_ALLOW,rel:FILTER_ALLOW,role:FILTER_ALLOW,rowspan:FILTER_CAST_NUMBER,scope:FILTER_ALLOW,sizes:FILTER_ALLOW,span:FILTER_CAST_NUMBER,start:FILTER_CAST_NUMBER,style:FILTER_NO_CAST,src:FILTER_ALLOW,srclang:FILTER_ALLOW,srcset:FILTER_ALLOW,tabindex:FILTER_ALLOW,target:FILTER_ALLOW,title:FILTER_ALLOW,type:FILTER_ALLOW,width:FILTER_ALLOW}),ATTRIBUTES_TO_PROPS=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex"});function isHtmlElement($){return $.nodeType===1}function isTextNode($){return $.nodeType===3}const ALLOWED_ATTRS=/^(aria-|data-|\w+:)/iu,domParser=new DOMParser;class HtmlParser{constructor(j={}){this.allowed=new Set(j.allowList??ALLOWED_TAG_LIST),this.banned=new Set(BANNED_TAG_LIST),this.blocked=new Set(j.blockList),this.transform=j.transform}parse(j,_e=!0){if(!j)return[];const et=domParser.parseFromString(_e?this.convertLineBreaks(j):j,"text/html");return et.body?this.parseNode(et.body,this.getTagConfig(et.body.nodeName.toLowerCase())):[]}parseNode(j,_e){const et=[];let tt=[],nt=0;for(const rt of j.childNodes)if(isHtmlElement(rt)){const st=rt.nodeName.toLowerCase(),at=this.getTagConfig(st);tt.length>0&&(et.push(tt.join("")),tt=[]);let ut;if(this.transform){ut=this.parseNode(rt,at);const dt=this.transform(rt,ut,at);if(dt===null)continue;if(typeof dt<"u"){nt++,et.push(React$1.cloneElement(dt,{key:nt}));continue}}if(this.banned.has(st))continue;if(this.isTagAllowed(st)&&this.canRenderChild(_e,at)){const dt=this.extractAttributes(rt),ot={tagName:st};dt&&(ot.attributes=dt),at.void&&(ot.selfClose=at.void),++nt,et.push(React$1.createElement(Element$2,{...ot,key:nt},ut??this.parseNode(rt,at)))}else et.push(...this.parseNode(rt,at.tagName?at:_e))}else if(isTextNode(rt)){const st=rt.textContent;st&&tt.push(st)}return tt.length>0&&et.push(tt.join("")),et}getTagConfig(j){const _e={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return TAGS[j]?{..._e,...TAGS[j],tagName:j}:_e}convertLineBreaks(j){if(j.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return j;let _e=j.replace(/\r\n/g,`
`);return _e=_e.replace(/\n{3,}/g,`


`),_e=_e.replace(/\n/g,"<br/>"),_e}canRenderChild(j,_e){return!j.tagName||!_e.tagName||j.void?!1:j.children.length>0?j.children.includes(_e.tagName):j.invalid.length>0&&j.invalid.includes(_e.tagName)?!1:_e.parent.length>0?_e.parent.includes(j.tagName):!j.self&&j.tagName===_e.tagName?!1:!!(j&&j.content&_e.type)}extractAttributes(j){const _e={};let et=0;if(!isHtmlElement(j)||!j.attributes)return null;for(const tt of j.attributes){const{name:nt,value:rt}=tt,st=nt.toLowerCase(),at=ATTRIBUTES[st]||ATTRIBUTES[nt];if(!this.isSafe(j)||!st.match(ALLOWED_ATTRS)&&(!at||at===FILTER_DENY||st.startsWith("on")||rt.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i)))continue;let ut=st==="style"?this.extractStyleAttribute(j):rt;at===FILTER_CAST_BOOL?ut=!0:at===FILTER_CAST_NUMBER?ut=Number.parseFloat(String(ut)):at!==FILTER_NO_CAST&&(ut=String(ut)),_e[ATTRIBUTES_TO_PROPS[st]||st]=ut,et+=1}return et===0?null:_e}extractStyleAttribute(j){const _e={};return Array.from(j.style).forEach(et=>{const tt=j.style[et];(typeof tt=="string"||typeof tt=="number")&&(_e[et.replace(/-([a-z])/g,(nt,rt)=>String(rt).toUpperCase())]=tt)}),_e}isSafe(j){if(typeof HTMLAnchorElement<"u"&&j instanceof HTMLAnchorElement){const _e=j.getAttribute("href");if(_e!=null&&_e.startsWith("#"))return!0;const et=j.protocol.toLowerCase();return et===":"||et==="http:"||et==="https:"||et==="mailto:"||et==="tel:"}return!0}isTagAllowed(j){return!(this.banned.has(j)||this.blocked.has(j))}}const actionContext=reactExports.createContext({action:{name:[],image:""},index:-1}),QspActions=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-actions");return useAtom_2(isActsVisible$)?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j}):null},QspActionsList=({attrs:$,children:j})=>{const _e=useAtom_2(actionsWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-actions-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,st)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:rt,index:st},children:React$1.Children.map(j,at=>React$1.cloneElement(at))},rt.key))})},QspActionItem=({attrs:$,children:j})=>{const _e=useAtom_2(selectedAction$),{action:et,index:tt}=reactExports.useContext(actionContext),[nt,rt,{useFormat:st,...at}]=useAttributes($,"qsp-action"),ut={...rt,"--action-image":et.image?`url("${et.image}")`:""},dt=()=>{selectAction(tt)},ot=()=>{selectAction(-1)},lt=ht=>{ht.preventDefault(),selectedAction$.value<0&&selectAction(tt),execSelectedAction()},ft=_e===tt;return jsxRuntimeExports.jsx(nt,{...at,style:ut,"data-qsp-selected":ft?"":null,onMouseOver:dt,onMouseLeave:ot,onClick:lt,children:j})},QspActionName=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-action-name"),{action:tt}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(j,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt.name})})},QspActionImage=({attrs:$})=>{const{action:j}=reactExports.useContext(actionContext),[,_e,et]=useAttributes($,"img","qsp-action-image");return j.image?jsxRuntimeExports.jsx("img",{alt:"",style:_e,...et,src:j.image}):null},QspActionIndex=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-action-index"),{index:tt}=reactExports.useContext(actionContext);return jsxRuntimeExports.jsx(j,{...et,style:_e,children:tt+1})};function composeEventHandlers($,j,{checkForDefaultPrevented:_e=!0}={}){return function(tt){if($==null||$(tt),_e===!1||!tt.defaultPrevented)return j==null?void 0:j(tt)}}function setRef($,j){typeof $=="function"?$(j):$!=null&&($.current=j)}function composeRefs(...$){return j=>$.forEach(_e=>setRef(_e,j))}function useComposedRefs(...$){return reactExports.useCallback(composeRefs(...$),$)}function createContext2($,j){const _e=reactExports.createContext(j);function et(nt){const{children:rt,...st}=nt,at=reactExports.useMemo(()=>st,Object.values(st));return jsxRuntimeExports.jsx(_e.Provider,{value:at,children:rt})}function tt(nt){const rt=reactExports.useContext(_e);if(rt)return rt;if(j!==void 0)return j;throw new Error(`\`${nt}\` must be used within \`${$}\``)}return et.displayName=$+"Provider",[et,tt]}function createContextScope($,j=[]){let _e=[];function et(nt,rt){const st=reactExports.createContext(rt),at=_e.length;_e=[..._e,rt];function ut(ot){const{scope:lt,children:ft,...ht}=ot,vt=(lt==null?void 0:lt[$][at])||st,bt=reactExports.useMemo(()=>ht,Object.values(ht));return jsxRuntimeExports.jsx(vt.Provider,{value:bt,children:ft})}function dt(ot,lt){const ft=(lt==null?void 0:lt[$][at])||st,ht=reactExports.useContext(ft);if(ht)return ht;if(rt!==void 0)return rt;throw new Error(`\`${ot}\` must be used within \`${nt}\``)}return ut.displayName=nt+"Provider",[ut,dt]}const tt=()=>{const nt=_e.map(rt=>reactExports.createContext(rt));return function(st){const at=(st==null?void 0:st[$])||nt;return reactExports.useMemo(()=>({[`__scope${$}`]:{...st,[$]:at}}),[st,at])}};return tt.scopeName=$,[et,composeContextScopes(tt,...j)]}function composeContextScopes(...$){const j=$[0];if($.length===1)return j;const _e=()=>{const et=$.map(tt=>({useScope:tt(),scopeName:tt.scopeName}));return function(nt){const rt=et.reduce((st,{useScope:at,scopeName:ut})=>{const ot=at(nt)[`__scope${ut}`];return{...st,...ot}},{});return reactExports.useMemo(()=>({[`__scope${j.scopeName}`]:rt}),[rt])}};return _e.scopeName=j.scopeName,_e}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useReactId=React$2.useId||(()=>{}),count$1=0;function useId($){const[j,_e]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{$||_e(et=>et??String(count$1++))},[$]),$||(j?`radix-${j}`:"")}function useCallbackRef$1($){const j=reactExports.useRef($);return reactExports.useEffect(()=>{j.current=$}),reactExports.useMemo(()=>(..._e)=>{var et;return(et=j.current)==null?void 0:et.call(j,..._e)},[])}function useControllableState({prop:$,defaultProp:j,onChange:_e=()=>{}}){const[et,tt]=useUncontrolledState({defaultProp:j,onChange:_e}),nt=$!==void 0,rt=nt?$:et,st=useCallbackRef$1(_e),at=reactExports.useCallback(ut=>{if(nt){const ot=typeof ut=="function"?ut($):ut;ot!==$&&st(ot)}else tt(ut)},[nt,$,tt,st]);return[rt,at]}function useUncontrolledState({defaultProp:$,onChange:j}){const _e=reactExports.useState($),[et]=_e,tt=reactExports.useRef(et),nt=useCallbackRef$1(j);return reactExports.useEffect(()=>{tt.current!==et&&(nt(et),tt.current=et)},[et,tt,nt]),_e}var Slot=reactExports.forwardRef(($,j)=>{const{children:_e,...et}=$,tt=reactExports.Children.toArray(_e),nt=tt.find(isSlottable);if(nt){const rt=nt.props.children,st=tt.map(at=>at===nt?reactExports.Children.count(rt)>1?reactExports.Children.only(null):reactExports.isValidElement(rt)?rt.props.children:null:at);return jsxRuntimeExports.jsx(SlotClone,{...et,ref:j,children:reactExports.isValidElement(rt)?reactExports.cloneElement(rt,void 0,st):null})}return jsxRuntimeExports.jsx(SlotClone,{...et,ref:j,children:_e})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef(($,j)=>{const{children:_e,...et}=$;if(reactExports.isValidElement(_e)){const tt=getElementRef$1(_e);return reactExports.cloneElement(_e,{...mergeProps(et,_e.props),ref:j?composeRefs(j,tt):tt})}return reactExports.Children.count(_e)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:$})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$});function isSlottable($){return reactExports.isValidElement($)&&$.type===Slottable}function mergeProps($,j){const _e={...j};for(const et in j){const tt=$[et],nt=j[et];/^on[A-Z]/.test(et)?tt&&nt?_e[et]=(...st)=>{nt(...st),tt(...st)}:tt&&(_e[et]=tt):et==="style"?_e[et]={...tt,...nt}:et==="className"&&(_e[et]=[tt,nt].filter(Boolean).join(" "))}return{...$,..._e}}function getElementRef$1($){var et,tt;let j=(et=Object.getOwnPropertyDescriptor($.props,"ref"))==null?void 0:et.get,_e=j&&"isReactWarning"in j&&j.isReactWarning;return _e?$.ref:(j=(tt=Object.getOwnPropertyDescriptor($,"ref"))==null?void 0:tt.get,_e=j&&"isReactWarning"in j&&j.isReactWarning,_e?$.props.ref:$.props.ref||$.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce(($,j)=>{const _e=reactExports.forwardRef((et,tt)=>{const{asChild:nt,...rt}=et,st=nt?Slot:j;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(st,{...rt,ref:tt})});return _e.displayName=`Primitive.${j}`,{...$,[j]:_e}},{});function dispatchDiscreteCustomEvent($,j){$&&reactDomExports.flushSync(()=>$.dispatchEvent(j))}function useEscapeKeydown($,j=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1($);reactExports.useEffect(()=>{const et=tt=>{tt.key==="Escape"&&_e(tt)};return j.addEventListener("keydown",et,{capture:!0}),()=>j.removeEventListener("keydown",et,{capture:!0})},[_e,j])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef(($,j)=>{const{disableOutsidePointerEvents:_e=!1,onEscapeKeyDown:et,onPointerDownOutside:tt,onFocusOutside:nt,onInteractOutside:rt,onDismiss:st,...at}=$,ut=reactExports.useContext(DismissableLayerContext),[dt,ot]=reactExports.useState(null),lt=(dt==null?void 0:dt.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,ft]=reactExports.useState({}),ht=useComposedRefs(j,wt=>ot(wt)),vt=Array.from(ut.layers),[bt]=[...ut.layersWithOutsidePointerEventsDisabled].slice(-1),mt=vt.indexOf(bt),xt=dt?vt.indexOf(dt):-1,Et=ut.layersWithOutsidePointerEventsDisabled.size>0,At=xt>=mt,kt=usePointerDownOutside(wt=>{const Pt=wt.target,Bt=[...ut.branches].some(Vt=>Vt.contains(Pt));!At||Bt||(tt==null||tt(wt),rt==null||rt(wt),wt.defaultPrevented||st==null||st())},lt),Lt=useFocusOutside(wt=>{const Pt=wt.target;[...ut.branches].some(Vt=>Vt.contains(Pt))||(nt==null||nt(wt),rt==null||rt(wt),wt.defaultPrevented||st==null||st())},lt);return useEscapeKeydown(wt=>{xt===ut.layers.size-1&&(et==null||et(wt),!wt.defaultPrevented&&st&&(wt.preventDefault(),st()))},lt),reactExports.useEffect(()=>{if(dt)return _e&&(ut.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=lt.body.style.pointerEvents,lt.body.style.pointerEvents="none"),ut.layersWithOutsidePointerEventsDisabled.add(dt)),ut.layers.add(dt),dispatchUpdate(),()=>{_e&&ut.layersWithOutsidePointerEventsDisabled.size===1&&(lt.body.style.pointerEvents=originalBodyPointerEvents)}},[dt,lt,_e,ut]),reactExports.useEffect(()=>()=>{dt&&(ut.layers.delete(dt),ut.layersWithOutsidePointerEventsDisabled.delete(dt),dispatchUpdate())},[dt,ut]),reactExports.useEffect(()=>{const wt=()=>ft({});return document.addEventListener(CONTEXT_UPDATE,wt),()=>document.removeEventListener(CONTEXT_UPDATE,wt)},[]),jsxRuntimeExports.jsx(Primitive.div,{...at,ref:ht,style:{pointerEvents:Et?At?"auto":"none":void 0,...$.style},onFocusCapture:composeEventHandlers($.onFocusCapture,Lt.onFocusCapture),onBlurCapture:composeEventHandlers($.onBlurCapture,Lt.onBlurCapture),onPointerDownCapture:composeEventHandlers($.onPointerDownCapture,kt.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef(($,j)=>{const _e=reactExports.useContext(DismissableLayerContext),et=reactExports.useRef(null),tt=useComposedRefs(j,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return _e.branches.add(nt),()=>{_e.branches.delete(nt)}},[_e.branches]),jsxRuntimeExports.jsx(Primitive.div,{...$,ref:tt})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside($,j=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1($),et=reactExports.useRef(!1),tt=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const nt=st=>{if(st.target&&!et.current){let at=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,_e,ut,{discrete:!0})};const ut={originalEvent:st};st.pointerType==="touch"?(j.removeEventListener("click",tt.current),tt.current=at,j.addEventListener("click",tt.current,{once:!0})):at()}else j.removeEventListener("click",tt.current);et.current=!1},rt=window.setTimeout(()=>{j.addEventListener("pointerdown",nt)},0);return()=>{window.clearTimeout(rt),j.removeEventListener("pointerdown",nt),j.removeEventListener("click",tt.current)}},[j,_e]),{onPointerDownCapture:()=>et.current=!0}}function useFocusOutside($,j=globalThis==null?void 0:globalThis.document){const _e=useCallbackRef$1($),et=reactExports.useRef(!1);return reactExports.useEffect(()=>{const tt=nt=>{nt.target&&!et.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,_e,{originalEvent:nt},{discrete:!1})};return j.addEventListener("focusin",tt),()=>j.removeEventListener("focusin",tt)},[j,_e]),{onFocusCapture:()=>et.current=!0,onBlurCapture:()=>et.current=!1}}function dispatchUpdate(){const $=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent($)}function handleAndDispatchCustomEvent($,j,_e,{discrete:et}){const tt=_e.originalEvent.target,nt=new CustomEvent($,{bubbles:!1,cancelable:!0,detail:_e});j&&tt.addEventListener($,j,{once:!0}),et?dispatchDiscreteCustomEvent(tt,nt):tt.dispatchEvent(nt)}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef(($,j)=>{const{loop:_e=!1,trapped:et=!1,onMountAutoFocus:tt,onUnmountAutoFocus:nt,...rt}=$,[st,at]=reactExports.useState(null),ut=useCallbackRef$1(tt),dt=useCallbackRef$1(nt),ot=reactExports.useRef(null),lt=useComposedRefs(j,vt=>at(vt)),ft=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(et){let vt=function(Et){if(ft.paused||!st)return;const At=Et.target;st.contains(At)?ot.current=At:focus(ot.current,{select:!0})},bt=function(Et){if(ft.paused||!st)return;const At=Et.relatedTarget;At!==null&&(st.contains(At)||focus(ot.current,{select:!0}))},mt=function(Et){if(document.activeElement===document.body)for(const kt of Et)kt.removedNodes.length>0&&focus(st)};document.addEventListener("focusin",vt),document.addEventListener("focusout",bt);const xt=new MutationObserver(mt);return st&&xt.observe(st,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",vt),document.removeEventListener("focusout",bt),xt.disconnect()}}},[et,st,ft.paused]),reactExports.useEffect(()=>{if(st){focusScopesStack.add(ft);const vt=document.activeElement;if(!st.contains(vt)){const mt=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);st.addEventListener(AUTOFOCUS_ON_MOUNT,ut),st.dispatchEvent(mt),mt.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(st)),{select:!0}),document.activeElement===vt&&focus(st))}return()=>{st.removeEventListener(AUTOFOCUS_ON_MOUNT,ut),setTimeout(()=>{const mt=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);st.addEventListener(AUTOFOCUS_ON_UNMOUNT,dt),st.dispatchEvent(mt),mt.defaultPrevented||focus(vt??document.body,{select:!0}),st.removeEventListener(AUTOFOCUS_ON_UNMOUNT,dt),focusScopesStack.remove(ft)},0)}}},[st,ut,dt,ft]);const ht=reactExports.useCallback(vt=>{if(!_e&&!et||ft.paused)return;const bt=vt.key==="Tab"&&!vt.altKey&&!vt.ctrlKey&&!vt.metaKey,mt=document.activeElement;if(bt&&mt){const xt=vt.currentTarget,[Et,At]=getTabbableEdges(xt);Et&&At?!vt.shiftKey&&mt===At?(vt.preventDefault(),_e&&focus(Et,{select:!0})):vt.shiftKey&&mt===Et&&(vt.preventDefault(),_e&&focus(At,{select:!0})):mt===xt&&vt.preventDefault()}},[_e,et,ft.paused]);return jsxRuntimeExports.jsx(Primitive.div,{tabIndex:-1,...rt,ref:lt,onKeyDown:ht})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2($,{select:j=!1}={}){const _e=document.activeElement;for(const et of $)if(focus(et,{select:j}),document.activeElement!==_e)return}function getTabbableEdges($){const j=getTabbableCandidates($),_e=findVisible(j,$),et=findVisible(j.reverse(),$);return[_e,et]}function getTabbableCandidates($){const j=[],_e=document.createTreeWalker($,NodeFilter.SHOW_ELEMENT,{acceptNode:et=>{const tt=et.tagName==="INPUT"&&et.type==="hidden";return et.disabled||et.hidden||tt?NodeFilter.FILTER_SKIP:et.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;_e.nextNode();)j.push(_e.currentNode);return j}function findVisible($,j){for(const _e of $)if(!isHidden(_e,{upTo:j}))return _e}function isHidden($,{upTo:j}){if(getComputedStyle($).visibility==="hidden")return!0;for(;$;){if(j!==void 0&&$===j)return!1;if(getComputedStyle($).display==="none")return!0;$=$.parentElement}return!1}function isSelectableInput($){return $ instanceof HTMLInputElement&&"select"in $}function focus($,{select:j=!1}={}){if($&&$.focus){const _e=document.activeElement;$.focus({preventScroll:!0}),$!==_e&&isSelectableInput($)&&j&&$.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let $=[];return{add(j){const _e=$[0];j!==_e&&(_e==null||_e.pause()),$=arrayRemove($,j),$.unshift(j)},remove(j){var _e;$=arrayRemove($,j),(_e=$[0])==null||_e.resume()}}}function arrayRemove($,j){const _e=[...$],et=_e.indexOf(j);return et!==-1&&_e.splice(et,1),_e}function removeLinks($){return $.filter(j=>j.tagName!=="A")}var PORTAL_NAME$4="Portal",Portal$2=reactExports.forwardRef(($,j)=>{var st;const{container:_e,...et}=$,[tt,nt]=reactExports.useState(!1);useLayoutEffect2(()=>nt(!0),[]);const rt=_e||tt&&((st=globalThis==null?void 0:globalThis.document)==null?void 0:st.body);return rt?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive.div,{...et,ref:j}),rt):null});Portal$2.displayName=PORTAL_NAME$4;function useStateMachine$1($,j){return reactExports.useReducer((_e,et)=>j[_e][et]??_e,$)}var Presence=$=>{const{present:j,children:_e}=$,et=usePresence(j),tt=typeof _e=="function"?_e({present:et.isPresent}):reactExports.Children.only(_e),nt=useComposedRefs(et.ref,getElementRef(tt));return typeof _e=="function"||et.isPresent?reactExports.cloneElement(tt,{ref:nt}):null};Presence.displayName="Presence";function usePresence($){const[j,_e]=reactExports.useState(),et=reactExports.useRef({}),tt=reactExports.useRef($),nt=reactExports.useRef("none"),rt=$?"mounted":"unmounted",[st,at]=useStateMachine$1(rt,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const ut=getAnimationName(et.current);nt.current=st==="mounted"?ut:"none"},[st]),useLayoutEffect2(()=>{const ut=et.current,dt=tt.current;if(dt!==$){const lt=nt.current,ft=getAnimationName(ut);$?at("MOUNT"):ft==="none"||(ut==null?void 0:ut.display)==="none"?at("UNMOUNT"):at(dt&&lt!==ft?"ANIMATION_OUT":"UNMOUNT"),tt.current=$}},[$,at]),useLayoutEffect2(()=>{if(j){const ut=ot=>{const ft=getAnimationName(et.current).includes(ot.animationName);ot.target===j&&ft&&reactDomExports.flushSync(()=>at("ANIMATION_END"))},dt=ot=>{ot.target===j&&(nt.current=getAnimationName(et.current))};return j.addEventListener("animationstart",dt),j.addEventListener("animationcancel",ut),j.addEventListener("animationend",ut),()=>{j.removeEventListener("animationstart",dt),j.removeEventListener("animationcancel",ut),j.removeEventListener("animationend",ut)}}else at("ANIMATION_END")},[j,at]),{isPresent:["mounted","unmountSuspended"].includes(st),ref:reactExports.useCallback(ut=>{ut&&(et.current=getComputedStyle(ut)),_e(ut)},[])}}function getAnimationName($){return($==null?void 0:$.animationName)||"none"}function getElementRef($){var et,tt;let j=(et=Object.getOwnPropertyDescriptor($.props,"ref"))==null?void 0:et.get,_e=j&&"isReactWarning"in j&&j.isReactWarning;return _e?$.ref:(j=(tt=Object.getOwnPropertyDescriptor($,"ref"))==null?void 0:tt.get,_e=j&&"isReactWarning"in j&&j.isReactWarning,_e?$.props.ref:$.props.ref||$.ref)}var count=0;function useFocusGuards(){reactExports.useEffect(()=>{const $=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",$[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",$[1]??createFocusGuard()),count++,()=>{count===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(j=>j.remove()),count--}},[])}function createFocusGuard(){const $=document.createElement("span");return $.setAttribute("data-radix-focus-guard",""),$.tabIndex=0,$.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",$}var __assign=function(){return __assign=Object.assign||function(j){for(var _e,et=1,tt=arguments.length;et<tt;et++){_e=arguments[et];for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(j[nt]=_e[nt])}return j},__assign.apply(this,arguments)};function __rest($,j){var _e={};for(var et in $)Object.prototype.hasOwnProperty.call($,et)&&j.indexOf(et)<0&&(_e[et]=$[et]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var tt=0,et=Object.getOwnPropertySymbols($);tt<et.length;tt++)j.indexOf(et[tt])<0&&Object.prototype.propertyIsEnumerable.call($,et[tt])&&(_e[et[tt]]=$[et[tt]]);return _e}function __spreadArray($,j,_e){if(_e||arguments.length===2)for(var et=0,tt=j.length,nt;et<tt;et++)(nt||!(et in j))&&(nt||(nt=Array.prototype.slice.call(j,0,et)),nt[et]=j[et]);return $.concat(nt||Array.prototype.slice.call(j))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef($,j){return typeof $=="function"?$(j):$&&($.current=j),$}function useCallbackRef($,j){var _e=reactExports.useState(function(){return{value:$,callback:j,facade:{get current(){return _e.value},set current(et){var tt=_e.value;tt!==et&&(_e.value=et,_e.callback(et,tt))}}}})[0];return _e.callback=j,_e.facade}function useMergeRefs($,j){return useCallbackRef(null,function(_e){return $.forEach(function(et){return assignRef(et,_e)})})}function ItoI($){return $}function innerCreateMedium($,j){j===void 0&&(j=ItoI);var _e=[],et=!1,tt={read:function(){if(et)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return _e.length?_e[_e.length-1]:$},useMedium:function(nt){var rt=j(nt,et);return _e.push(rt),function(){_e=_e.filter(function(st){return st!==rt})}},assignSyncMedium:function(nt){for(et=!0;_e.length;){var rt=_e;_e=[],rt.forEach(nt)}_e={push:function(st){return nt(st)},filter:function(){return _e}}},assignMedium:function(nt){et=!0;var rt=[];if(_e.length){var st=_e;_e=[],st.forEach(nt),rt=_e}var at=function(){var dt=rt;rt=[],dt.forEach(nt)},ut=function(){return Promise.resolve().then(at)};ut(),_e={push:function(dt){rt.push(dt),ut()},filter:function(dt){return rt=rt.filter(dt),_e}}}};return tt}function createSidecarMedium($){$===void 0&&($={});var j=innerCreateMedium(null);return j.options=__assign({async:!0,ssr:!1},$),j}var SideCar$1=function($){var j=$.sideCar,_e=__rest($,["sideCar"]);if(!j)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var et=j.read();if(!et)throw new Error("Sidecar medium not found");return reactExports.createElement(et,__assign({},_e))};SideCar$1.isSideCarExport=!0;function exportSidecar($,j){return $.useMedium(j),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function($,j){var _e=reactExports.useRef(null),et=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),tt=et[0],nt=et[1],rt=$.forwardProps,st=$.children,at=$.className,ut=$.removeScrollBar,dt=$.enabled,ot=$.shards,lt=$.sideCar,ft=$.noIsolation,ht=$.inert,vt=$.allowPinchZoom,bt=$.as,mt=bt===void 0?"div":bt,xt=$.gapMode,Et=__rest($,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),At=lt,kt=useMergeRefs([_e,j]),Lt=__assign(__assign({},Et),tt);return reactExports.createElement(reactExports.Fragment,null,dt&&reactExports.createElement(At,{sideCar:effectCar,removeScrollBar:ut,shards:ot,noIsolation:ft,inert:ht,setCallbacks:nt,allowPinchZoom:!!vt,lockRef:_e,gapMode:xt}),rt?reactExports.cloneElement(reactExports.Children.only(st),__assign(__assign({},Lt),{ref:kt})):reactExports.createElement(mt,__assign({},Lt,{className:at,ref:kt}),st))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var $=document.createElement("style");$.type="text/css";var j=getNonce();return j&&$.setAttribute("nonce",j),$}function injectStyles($,j){$.styleSheet?$.styleSheet.cssText=j:$.appendChild(document.createTextNode(j))}function insertStyleTag($){var j=document.head||document.getElementsByTagName("head")[0];j.appendChild($)}var stylesheetSingleton=function(){var $=0,j=null;return{add:function(_e){$==0&&(j=makeStyleTag())&&(injectStyles(j,_e),insertStyleTag(j)),$++},remove:function(){$--,!$&&j&&(j.parentNode&&j.parentNode.removeChild(j),j=null)}}},styleHookSingleton=function(){var $=stylesheetSingleton();return function(j,_e){reactExports.useEffect(function(){return $.add(j),function(){$.remove()}},[j&&_e])}},styleSingleton=function(){var $=styleHookSingleton(),j=function(_e){var et=_e.styles,tt=_e.dynamic;return $(et,tt),null};return j},zeroGap={left:0,top:0,right:0,gap:0},parse=function($){return parseInt($||"",10)||0},getOffset=function($){var j=window.getComputedStyle(document.body),_e=j[$==="padding"?"paddingLeft":"marginLeft"],et=j[$==="padding"?"paddingTop":"marginTop"],tt=j[$==="padding"?"paddingRight":"marginRight"];return[parse(_e),parse(et),parse(tt)]},getGapWidth=function($){if($===void 0&&($="margin"),typeof window>"u")return zeroGap;var j=getOffset($),_e=document.documentElement.clientWidth,et=window.innerWidth;return{left:j[0],top:j[1],right:j[2],gap:Math.max(0,et-_e+j[2]-j[0])}},Style=styleSingleton(),getStyles=function($,j,_e,et){var tt=$.left,nt=$.top,rt=$.right,st=$.gap;return _e===void 0&&(_e="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(et,`;
   padding-right: `).concat(st,"px ").concat(et,`;
  }
  body {
    overflow: hidden `).concat(et,`;
    overscroll-behavior: contain;
    `).concat([j&&"position: relative ".concat(et,";"),_e==="margin"&&`
    padding-left: `.concat(tt,`px;
    padding-top: `).concat(nt,`px;
    padding-right: `).concat(rt,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(st,"px ").concat(et,`;
    `),_e==="padding"&&"padding-right: ".concat(st,"px ").concat(et,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(st,"px ").concat(et,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(st,"px ").concat(et,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(et,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(et,`;
  }
  
  body {
    `).concat(removedBarSizeVariable,": ").concat(st,`px;
  }
`)},RemoveScrollBar=function($){var j=$.noRelative,_e=$.noImportant,et=$.gapMode,tt=et===void 0?"margin":et,nt=reactExports.useMemo(function(){return getGapWidth(tt)},[tt]);return reactExports.createElement(Style,{styles:getStyles(nt,!j,tt,_e?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function($){return $.tagName==="TEXTAREA"},elementCanBeScrolled=function($,j){var _e=window.getComputedStyle($);return _e[j]!=="hidden"&&!(_e.overflowY===_e.overflowX&&!alwaysContainsScroll($)&&_e[j]==="visible")},elementCouldBeVScrolled=function($){return elementCanBeScrolled($,"overflowY")},elementCouldBeHScrolled=function($){return elementCanBeScrolled($,"overflowX")},locationCouldBeScrolled=function($,j){var _e=j.ownerDocument,et=j;do{typeof ShadowRoot<"u"&&et instanceof ShadowRoot&&(et=et.host);var tt=elementCouldBeScrolled($,et);if(tt){var nt=getScrollVariables($,et),rt=nt[1],st=nt[2];if(rt>st)return!0}et=et.parentNode}while(et&&et!==_e.body);return!1},getVScrollVariables=function($){var j=$.scrollTop,_e=$.scrollHeight,et=$.clientHeight;return[j,_e,et]},getHScrollVariables=function($){var j=$.scrollLeft,_e=$.scrollWidth,et=$.clientWidth;return[j,_e,et]},elementCouldBeScrolled=function($,j){return $==="v"?elementCouldBeVScrolled(j):elementCouldBeHScrolled(j)},getScrollVariables=function($,j){return $==="v"?getVScrollVariables(j):getHScrollVariables(j)},getDirectionFactor=function($,j){return $==="h"&&j==="rtl"?-1:1},handleScroll=function($,j,_e,et,tt){var nt=getDirectionFactor($,window.getComputedStyle(j).direction),rt=nt*et,st=_e.target,at=j.contains(st),ut=!1,dt=rt>0,ot=0,lt=0;do{var ft=getScrollVariables($,st),ht=ft[0],vt=ft[1],bt=ft[2],mt=vt-bt-nt*ht;(ht||mt)&&elementCouldBeScrolled($,st)&&(ot+=mt,lt+=ht),st instanceof ShadowRoot?st=st.host:st=st.parentNode}while(!at&&st!==document.body||at&&(j.contains(st)||j===st));return(dt&&(Math.abs(ot)<1||!tt)||!dt&&(Math.abs(lt)<1||!tt))&&(ut=!0),ut},getTouchXY=function($){return"changedTouches"in $?[$.changedTouches[0].clientX,$.changedTouches[0].clientY]:[0,0]},getDeltaXY=function($){return[$.deltaX,$.deltaY]},extractRef=function($){return $&&"current"in $?$.current:$},deltaCompare=function($,j){return $[0]===j[0]&&$[1]===j[1]},generateStyle=function($){return`
  .block-interactivity-`.concat($,` {pointer-events: none;}
  .allow-interactivity-`).concat($,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar($){var j=reactExports.useRef([]),_e=reactExports.useRef([0,0]),et=reactExports.useRef(),tt=reactExports.useState(idCounter++)[0],nt=reactExports.useState(styleSingleton)[0],rt=reactExports.useRef($);reactExports.useEffect(function(){rt.current=$},[$]),reactExports.useEffect(function(){if($.inert){document.body.classList.add("block-interactivity-".concat(tt));var vt=__spreadArray([$.lockRef.current],($.shards||[]).map(extractRef),!0).filter(Boolean);return vt.forEach(function(bt){return bt.classList.add("allow-interactivity-".concat(tt))}),function(){document.body.classList.remove("block-interactivity-".concat(tt)),vt.forEach(function(bt){return bt.classList.remove("allow-interactivity-".concat(tt))})}}},[$.inert,$.lockRef.current,$.shards]);var st=reactExports.useCallback(function(vt,bt){if("touches"in vt&&vt.touches.length===2)return!rt.current.allowPinchZoom;var mt=getTouchXY(vt),xt=_e.current,Et="deltaX"in vt?vt.deltaX:xt[0]-mt[0],At="deltaY"in vt?vt.deltaY:xt[1]-mt[1],kt,Lt=vt.target,wt=Math.abs(Et)>Math.abs(At)?"h":"v";if("touches"in vt&&wt==="h"&&Lt.type==="range")return!1;var Pt=locationCouldBeScrolled(wt,Lt);if(!Pt)return!0;if(Pt?kt=wt:(kt=wt==="v"?"h":"v",Pt=locationCouldBeScrolled(wt,Lt)),!Pt)return!1;if(!et.current&&"changedTouches"in vt&&(Et||At)&&(et.current=kt),!kt)return!0;var Bt=et.current||kt;return handleScroll(Bt,bt,vt,Bt==="h"?Et:At,!0)},[]),at=reactExports.useCallback(function(vt){var bt=vt;if(!(!lockStack.length||lockStack[lockStack.length-1]!==nt)){var mt="deltaY"in bt?getDeltaXY(bt):getTouchXY(bt),xt=j.current.filter(function(kt){return kt.name===bt.type&&(kt.target===bt.target||bt.target===kt.shadowParent)&&deltaCompare(kt.delta,mt)})[0];if(xt&&xt.should){bt.cancelable&&bt.preventDefault();return}if(!xt){var Et=(rt.current.shards||[]).map(extractRef).filter(Boolean).filter(function(kt){return kt.contains(bt.target)}),At=Et.length>0?st(bt,Et[0]):!rt.current.noIsolation;At&&bt.cancelable&&bt.preventDefault()}}},[]),ut=reactExports.useCallback(function(vt,bt,mt,xt){var Et={name:vt,delta:bt,target:mt,should:xt,shadowParent:getOutermostShadowParent(mt)};j.current.push(Et),setTimeout(function(){j.current=j.current.filter(function(At){return At!==Et})},1)},[]),dt=reactExports.useCallback(function(vt){_e.current=getTouchXY(vt),et.current=void 0},[]),ot=reactExports.useCallback(function(vt){ut(vt.type,getDeltaXY(vt),vt.target,st(vt,$.lockRef.current))},[]),lt=reactExports.useCallback(function(vt){ut(vt.type,getTouchXY(vt),vt.target,st(vt,$.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(nt),$.setCallbacks({onScrollCapture:ot,onWheelCapture:ot,onTouchMoveCapture:lt}),document.addEventListener("wheel",at,nonPassive),document.addEventListener("touchmove",at,nonPassive),document.addEventListener("touchstart",dt,nonPassive),function(){lockStack=lockStack.filter(function(vt){return vt!==nt}),document.removeEventListener("wheel",at,nonPassive),document.removeEventListener("touchmove",at,nonPassive),document.removeEventListener("touchstart",dt,nonPassive)}},[]);var ft=$.removeScrollBar,ht=$.inert;return reactExports.createElement(reactExports.Fragment,null,ht?reactExports.createElement(nt,{styles:generateStyle(tt)}):null,ft?reactExports.createElement(RemoveScrollBar,{gapMode:$.gapMode}):null)}function getOutermostShadowParent($){for(var j=null;$!==null;)$ instanceof ShadowRoot&&(j=$.host,$=$.host),$=$.parentNode;return j}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function($,j){return reactExports.createElement(RemoveScroll,__assign({},$,{ref:j,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function($){if(typeof document>"u")return null;var j=Array.isArray($)?$[0]:$;return j.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function($){return $&&($.host||unwrapHost($.parentNode))},correctTargets=function($,j){return j.map(function(_e){if($.contains(_e))return _e;var et=unwrapHost(_e);return et&&$.contains(et)?et:(console.error("aria-hidden",_e,"in not contained inside",$,". Doing nothing"),null)}).filter(function(_e){return!!_e})},applyAttributeToOthers=function($,j,_e,et){var tt=correctTargets(j,Array.isArray($)?$:[$]);markerMap[_e]||(markerMap[_e]=new WeakMap);var nt=markerMap[_e],rt=[],st=new Set,at=new Set(tt),ut=function(ot){!ot||st.has(ot)||(st.add(ot),ut(ot.parentNode))};tt.forEach(ut);var dt=function(ot){!ot||at.has(ot)||Array.prototype.forEach.call(ot.children,function(lt){if(st.has(lt))dt(lt);else{var ft=lt.getAttribute(et),ht=ft!==null&&ft!=="false",vt=(counterMap.get(lt)||0)+1,bt=(nt.get(lt)||0)+1;counterMap.set(lt,vt),nt.set(lt,bt),rt.push(lt),vt===1&&ht&&uncontrolledNodes.set(lt,!0),bt===1&&lt.setAttribute(_e,"true"),ht||lt.setAttribute(et,"true")}})};return dt(j),st.clear(),lockCount++,function(){rt.forEach(function(ot){var lt=counterMap.get(ot)-1,ft=nt.get(ot)-1;counterMap.set(ot,lt),nt.set(ot,ft),lt||(uncontrolledNodes.has(ot)||ot.removeAttribute(et),uncontrolledNodes.delete(ot)),ft||ot.removeAttribute(_e)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function($,j,_e){_e===void 0&&(_e="data-aria-hidden");var et=Array.from(Array.isArray($)?$:[$]),tt=getDefaultParent($);return tt?(et.push.apply(et,Array.from(tt.querySelectorAll("[aria-live]"))),applyAttributeToOthers(et,tt,_e,"aria-hidden")):function(){return null}},DIALOG_NAME="Dialog",[createDialogContext,createDialogScope]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog=$=>{const{__scopeDialog:j,children:_e,open:et,defaultOpen:tt,onOpenChange:nt,modal:rt=!0}=$,st=reactExports.useRef(null),at=reactExports.useRef(null),[ut=!1,dt]=useControllableState({prop:et,defaultProp:tt,onChange:nt});return jsxRuntimeExports.jsx(DialogProvider,{scope:j,triggerRef:st,contentRef:at,contentId:useId(),titleId:useId(),descriptionId:useId(),open:ut,onOpenChange:dt,onOpenToggle:reactExports.useCallback(()=>dt(ot=>!ot),[dt]),modal:rt,children:_e})};Dialog.displayName=DIALOG_NAME;var TRIGGER_NAME$2="DialogTrigger",DialogTrigger=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,...et}=$,tt=useDialogContext(TRIGGER_NAME$2,_e),nt=useComposedRefs(j,tt.triggerRef);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":tt.open,"aria-controls":tt.contentId,"data-state":getState(tt.open),...et,ref:nt,onClick:composeEventHandlers($.onClick,tt.onOpenToggle)})});DialogTrigger.displayName=TRIGGER_NAME$2;var PORTAL_NAME$3="DialogPortal",[PortalProvider$1,usePortalContext$1]=createDialogContext(PORTAL_NAME$3,{forceMount:void 0}),DialogPortal=$=>{const{__scopeDialog:j,forceMount:_e,children:et,container:tt}=$,nt=useDialogContext(PORTAL_NAME$3,j);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:j,forceMount:_e,children:reactExports.Children.map(et,rt=>jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:tt,children:rt})}))})};DialogPortal.displayName=PORTAL_NAME$3;var OVERLAY_NAME$1="DialogOverlay",DialogOverlay=reactExports.forwardRef(($,j)=>{const _e=usePortalContext$1(OVERLAY_NAME$1,$.__scopeDialog),{forceMount:et=_e.forceMount,...tt}=$,nt=useDialogContext(OVERLAY_NAME$1,$.__scopeDialog);return nt.modal?jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...tt,ref:j})}):null});DialogOverlay.displayName=OVERLAY_NAME$1;var DialogOverlayImpl=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,...et}=$,tt=useDialogContext(OVERLAY_NAME$1,_e);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,shards:[tt.contentRef],children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState(tt.open),...et,ref:j,style:{pointerEvents:"auto",...et.style}})})}),CONTENT_NAME$4="DialogContent",DialogContent=reactExports.forwardRef(($,j)=>{const _e=usePortalContext$1(CONTENT_NAME$4,$.__scopeDialog),{forceMount:et=_e.forceMount,...tt}=$,nt=useDialogContext(CONTENT_NAME$4,$.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:nt.modal?jsxRuntimeExports.jsx(DialogContentModal,{...tt,ref:j}):jsxRuntimeExports.jsx(DialogContentNonModal,{...tt,ref:j})})});DialogContent.displayName=CONTENT_NAME$4;var DialogContentModal=reactExports.forwardRef(($,j)=>{const _e=useDialogContext(CONTENT_NAME$4,$.__scopeDialog),et=reactExports.useRef(null),tt=useComposedRefs(j,_e.contentRef,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return hideOthers(nt)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...$,ref:tt,trapFocus:_e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers($.onCloseAutoFocus,nt=>{var rt;nt.preventDefault(),(rt=_e.triggerRef.current)==null||rt.focus()}),onPointerDownOutside:composeEventHandlers($.onPointerDownOutside,nt=>{const rt=nt.detail.originalEvent,st=rt.button===0&&rt.ctrlKey===!0;(rt.button===2||st)&&nt.preventDefault()}),onFocusOutside:composeEventHandlers($.onFocusOutside,nt=>nt.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef(($,j)=>{const _e=useDialogContext(CONTENT_NAME$4,$.__scopeDialog),et=reactExports.useRef(!1),tt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...$,ref:j,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:nt=>{var rt,st;(rt=$.onCloseAutoFocus)==null||rt.call($,nt),nt.defaultPrevented||(et.current||(st=_e.triggerRef.current)==null||st.focus(),nt.preventDefault()),et.current=!1,tt.current=!1},onInteractOutside:nt=>{var at,ut;(at=$.onInteractOutside)==null||at.call($,nt),nt.defaultPrevented||(et.current=!0,nt.detail.originalEvent.type==="pointerdown"&&(tt.current=!0));const rt=nt.target;((ut=_e.triggerRef.current)==null?void 0:ut.contains(rt))&&nt.preventDefault(),nt.detail.originalEvent.type==="focusin"&&tt.current&&nt.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,trapFocus:et,onOpenAutoFocus:tt,onCloseAutoFocus:nt,...rt}=$,st=useDialogContext(CONTENT_NAME$4,_e),at=reactExports.useRef(null),ut=useComposedRefs(j,at);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:et,onMountAutoFocus:tt,onUnmountAutoFocus:nt,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:st.contentId,"aria-describedby":st.descriptionId,"aria-labelledby":st.titleId,"data-state":getState(st.open),...rt,ref:ut,onDismiss:()=>st.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:st.titleId}),jsxRuntimeExports.jsx(DescriptionWarning$1,{contentRef:at,descriptionId:st.descriptionId})]})]})}),TITLE_NAME$1="DialogTitle",DialogTitle=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,...et}=$,tt=useDialogContext(TITLE_NAME$1,_e);return jsxRuntimeExports.jsx(Primitive.h2,{id:tt.titleId,...et,ref:j})});DialogTitle.displayName=TITLE_NAME$1;var DESCRIPTION_NAME$1="DialogDescription",DialogDescription=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,...et}=$,tt=useDialogContext(DESCRIPTION_NAME$1,_e);return jsxRuntimeExports.jsx(Primitive.p,{id:tt.descriptionId,...et,ref:j})});DialogDescription.displayName=DESCRIPTION_NAME$1;var CLOSE_NAME="DialogClose",DialogClose=reactExports.forwardRef(($,j)=>{const{__scopeDialog:_e,...et}=$,tt=useDialogContext(CLOSE_NAME,_e);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...et,ref:j,onClick:composeEventHandlers($.onClick,()=>tt.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME;function getState($){return $?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$4,titleName:TITLE_NAME$1,docsSlug:"dialog"}),TitleWarning=({titleId:$})=>{const j=useWarningContext(TITLE_WARNING_NAME),_e=`\`${j.contentName}\` requires a \`${j.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${j.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${j.docsSlug}`;return reactExports.useEffect(()=>{$&&(document.getElementById($)||console.error(_e))},[_e,$]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning$1=({contentRef:$,descriptionId:j})=>{const et=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{var nt;const tt=(nt=$.current)==null?void 0:nt.getAttribute("aria-describedby");j&&tt&&(document.getElementById(j)||console.warn(et))},[et,$,j]),null},Root$4=Dialog,Trigger$1=DialogTrigger,Portal$1=DialogPortal,Overlay=DialogOverlay,Content$1=DialogContent,Title=DialogTitle,Description=DialogDescription,Close=DialogClose;const noop$1=$=>{},buttonContext=reactExports.createContext({okAction:noop$1,cancelAction:noop$1}),QspCloseButton=({attrs:$,children:j})=>{const[,_e,et]=useAttributes($,"button","qsp-close-button");return jsxRuntimeExports.jsx(Close,{asChild:!0,children:jsxRuntimeExports.jsx("button",{style:_e,...et,children:j})})},QspOkButton=({attrs:$,children:j})=>{const[,_e,et]=useAttributes($,"button","qsp-ok-button"),{okAction:tt}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:_e,...et,onClick:tt,children:j})},QspCancelButton=({attrs:$,children:j})=>{const[,_e,et]=useAttributes($,"button","qsp-cancel-button"),{cancelAction:tt}=reactExports.useContext(buttonContext);return jsxRuntimeExports.jsx("button",{style:_e,...et,onClick:tt,children:j})},QspCmd=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-cmd"),nt=useAtom_2(isCmdVisible$),rt=st=>{st.preventDefault(),submitUserInput()};return nt?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx("form",{onSubmit:rt,children:j})}):null},QspCmdInput=({attrs:$})=>{const j=useAtom_2(cmdText$),[,_e,et]=useAttributes($,"input","qsp-cmd-input"),tt=nt=>{cmdText$.set(nt.target.value)};return jsxRuntimeExports.jsx("input",{style:_e,...et,type:"text",value:j,onInput:tt})};var DirectionContext=reactExports.createContext(void 0);function useDirection($){const j=reactExports.useContext(DirectionContext);return $||j||"ltr"}function clamp$2($,[j,_e]){return Math.min(_e,Math.max(j,$))}function useStateMachine($,j){return reactExports.useReducer((_e,et)=>j[_e][et]??_e,$)}var SCROLL_AREA_NAME="ScrollArea",[createScrollAreaContext,createScrollAreaScope]=createContextScope(SCROLL_AREA_NAME),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext(SCROLL_AREA_NAME),ScrollArea=reactExports.forwardRef(($,j)=>{const{__scopeScrollArea:_e,type:et="hover",dir:tt,scrollHideDelay:nt=600,...rt}=$,[st,at]=reactExports.useState(null),[ut,dt]=reactExports.useState(null),[ot,lt]=reactExports.useState(null),[ft,ht]=reactExports.useState(null),[vt,bt]=reactExports.useState(null),[mt,xt]=reactExports.useState(0),[Et,At]=reactExports.useState(0),[kt,Lt]=reactExports.useState(!1),[wt,Pt]=reactExports.useState(!1),Bt=useComposedRefs(j,Xt=>at(Xt)),Vt=useDirection(tt);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:_e,type:et,dir:Vt,scrollHideDelay:nt,scrollArea:st,viewport:ut,onViewportChange:dt,content:ot,onContentChange:lt,scrollbarX:ft,onScrollbarXChange:ht,scrollbarXEnabled:kt,onScrollbarXEnabledChange:Lt,scrollbarY:vt,onScrollbarYChange:bt,scrollbarYEnabled:wt,onScrollbarYEnabledChange:Pt,onCornerWidthChange:xt,onCornerHeightChange:At,children:jsxRuntimeExports.jsx(Primitive.div,{dir:Vt,...rt,ref:Bt,style:{position:"relative","--radix-scroll-area-corner-width":mt+"px","--radix-scroll-area-corner-height":Et+"px",...$.style}})})});ScrollArea.displayName=SCROLL_AREA_NAME;var VIEWPORT_NAME="ScrollAreaViewport",ScrollAreaViewport=reactExports.forwardRef(($,j)=>{const{__scopeScrollArea:_e,children:et,nonce:tt,...nt}=$,rt=useScrollAreaContext(VIEWPORT_NAME,_e),st=reactExports.useRef(null),at=useComposedRefs(j,st,rt.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:tt}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...nt,ref:at,style:{overflowX:rt.scrollbarXEnabled?"scroll":"hidden",overflowY:rt.scrollbarYEnabled?"scroll":"hidden",...$.style},children:jsxRuntimeExports.jsx("div",{ref:rt.onContentChange,style:{minWidth:"100%",display:"table"},children:et})})]})});ScrollAreaViewport.displayName=VIEWPORT_NAME;var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef(($,j)=>{const{forceMount:_e,...et}=$,tt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),{onScrollbarXEnabledChange:nt,onScrollbarYEnabledChange:rt}=tt,st=$.orientation==="horizontal";return reactExports.useEffect(()=>(st?nt(!0):rt(!0),()=>{st?nt(!1):rt(!1)}),[st,nt,rt]),tt.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...et,ref:j,forceMount:_e}):tt.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...et,ref:j,forceMount:_e}):tt.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...et,ref:j,forceMount:_e}):tt.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...et,ref:j}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef(($,j)=>{const{forceMount:_e,...et}=$,tt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),[nt,rt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const st=tt.scrollArea;let at=0;if(st){const ut=()=>{window.clearTimeout(at),rt(!0)},dt=()=>{at=window.setTimeout(()=>rt(!1),tt.scrollHideDelay)};return st.addEventListener("pointerenter",ut),st.addEventListener("pointerleave",dt),()=>{window.clearTimeout(at),st.removeEventListener("pointerenter",ut),st.removeEventListener("pointerleave",dt)}}},[tt.scrollArea,tt.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:_e||nt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":nt?"visible":"hidden",...et,ref:j})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef(($,j)=>{const{forceMount:_e,...et}=$,tt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),nt=$.orientation==="horizontal",rt=useDebounceCallback(()=>at("SCROLL_END"),100),[st,at]=useStateMachine("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return reactExports.useEffect(()=>{if(st==="idle"){const ut=window.setTimeout(()=>at("HIDE"),tt.scrollHideDelay);return()=>window.clearTimeout(ut)}},[st,tt.scrollHideDelay,at]),reactExports.useEffect(()=>{const ut=tt.viewport,dt=nt?"scrollLeft":"scrollTop";if(ut){let ot=ut[dt];const lt=()=>{const ft=ut[dt];ot!==ft&&(at("SCROLL"),rt()),ot=ft};return ut.addEventListener("scroll",lt),()=>ut.removeEventListener("scroll",lt)}},[tt.viewport,nt,at,rt]),jsxRuntimeExports.jsx(Presence,{present:_e||st!=="hidden",children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":st==="hidden"?"hidden":"visible",...et,ref:j,onPointerEnter:composeEventHandlers($.onPointerEnter,()=>at("POINTER_ENTER")),onPointerLeave:composeEventHandlers($.onPointerLeave,()=>at("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef(($,j)=>{const _e=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),{forceMount:et,...tt}=$,[nt,rt]=reactExports.useState(!1),st=$.orientation==="horizontal",at=useDebounceCallback(()=>{if(_e.viewport){const ut=_e.viewport.offsetWidth<_e.viewport.scrollWidth,dt=_e.viewport.offsetHeight<_e.viewport.scrollHeight;rt(st?ut:dt)}},10);return useResizeObserver(_e.viewport,at),useResizeObserver(_e.content,at),jsxRuntimeExports.jsx(Presence,{present:et||nt,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":nt?"visible":"hidden",...tt,ref:j})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef(($,j)=>{const{orientation:_e="vertical",...et}=$,tt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),nt=reactExports.useRef(null),rt=reactExports.useRef(0),[st,at]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),ut=getThumbRatio(st.viewport,st.content),dt={...et,sizes:st,onSizesChange:at,hasThumb:ut>0&&ut<1,onThumbChange:lt=>nt.current=lt,onThumbPointerUp:()=>rt.current=0,onThumbPointerDown:lt=>rt.current=lt};function ot(lt,ft){return getScrollPositionFromPointer(lt,rt.current,st,ft)}return _e==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...dt,ref:j,onThumbPositionChange:()=>{if(tt.viewport&&nt.current){const lt=tt.viewport.scrollLeft,ft=getThumbOffsetFromScroll(lt,st,tt.dir);nt.current.style.transform=`translate3d(${ft}px, 0, 0)`}},onWheelScroll:lt=>{tt.viewport&&(tt.viewport.scrollLeft=lt)},onDragScroll:lt=>{tt.viewport&&(tt.viewport.scrollLeft=ot(lt,tt.dir))}}):_e==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...dt,ref:j,onThumbPositionChange:()=>{if(tt.viewport&&nt.current){const lt=tt.viewport.scrollTop,ft=getThumbOffsetFromScroll(lt,st);nt.current.style.transform=`translate3d(0, ${ft}px, 0)`}},onWheelScroll:lt=>{tt.viewport&&(tt.viewport.scrollTop=lt)},onDragScroll:lt=>{tt.viewport&&(tt.viewport.scrollTop=ot(lt))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef(($,j)=>{const{sizes:_e,onSizesChange:et,...tt}=$,nt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),[rt,st]=reactExports.useState(),at=reactExports.useRef(null),ut=useComposedRefs(j,at,nt.onScrollbarXChange);return reactExports.useEffect(()=>{at.current&&st(getComputedStyle(at.current))},[at]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...tt,ref:ut,sizes:_e,style:{bottom:0,left:nt.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:nt.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(_e)+"px",...$.style},onThumbPointerDown:dt=>$.onThumbPointerDown(dt.x),onDragScroll:dt=>$.onDragScroll(dt.x),onWheelScroll:(dt,ot)=>{if(nt.viewport){const lt=nt.viewport.scrollLeft+dt.deltaX;$.onWheelScroll(lt),isScrollingWithinScrollbarBounds(lt,ot)&&dt.preventDefault()}},onResize:()=>{at.current&&nt.viewport&&rt&&et({content:nt.viewport.scrollWidth,viewport:nt.viewport.offsetWidth,scrollbar:{size:at.current.clientWidth,paddingStart:toInt(rt.paddingLeft),paddingEnd:toInt(rt.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef(($,j)=>{const{sizes:_e,onSizesChange:et,...tt}=$,nt=useScrollAreaContext(SCROLLBAR_NAME,$.__scopeScrollArea),[rt,st]=reactExports.useState(),at=reactExports.useRef(null),ut=useComposedRefs(j,at,nt.onScrollbarYChange);return reactExports.useEffect(()=>{at.current&&st(getComputedStyle(at.current))},[at]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...tt,ref:ut,sizes:_e,style:{top:0,right:nt.dir==="ltr"?0:void 0,left:nt.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(_e)+"px",...$.style},onThumbPointerDown:dt=>$.onThumbPointerDown(dt.y),onDragScroll:dt=>$.onDragScroll(dt.y),onWheelScroll:(dt,ot)=>{if(nt.viewport){const lt=nt.viewport.scrollTop+dt.deltaY;$.onWheelScroll(lt),isScrollingWithinScrollbarBounds(lt,ot)&&dt.preventDefault()}},onResize:()=>{at.current&&nt.viewport&&rt&&et({content:nt.viewport.scrollHeight,viewport:nt.viewport.offsetHeight,scrollbar:{size:at.current.clientHeight,paddingStart:toInt(rt.paddingTop),paddingEnd:toInt(rt.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef(($,j)=>{const{__scopeScrollArea:_e,sizes:et,hasThumb:tt,onThumbChange:nt,onThumbPointerUp:rt,onThumbPointerDown:st,onThumbPositionChange:at,onDragScroll:ut,onWheelScroll:dt,onResize:ot,...lt}=$,ft=useScrollAreaContext(SCROLLBAR_NAME,_e),[ht,vt]=reactExports.useState(null),bt=useComposedRefs(j,Bt=>vt(Bt)),mt=reactExports.useRef(null),xt=reactExports.useRef(""),Et=ft.viewport,At=et.content-et.viewport,kt=useCallbackRef$1(dt),Lt=useCallbackRef$1(at),wt=useDebounceCallback(ot,10);function Pt(Bt){if(mt.current){const Vt=Bt.clientX-mt.current.left,Xt=Bt.clientY-mt.current.top;ut({x:Vt,y:Xt})}}return reactExports.useEffect(()=>{const Bt=Vt=>{const Xt=Vt.target;(ht==null?void 0:ht.contains(Xt))&&kt(Vt,At)};return document.addEventListener("wheel",Bt,{passive:!1}),()=>document.removeEventListener("wheel",Bt,{passive:!1})},[Et,ht,At,kt]),reactExports.useEffect(Lt,[et,Lt]),useResizeObserver(ht,wt),useResizeObserver(ft.content,wt),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:_e,scrollbar:ht,hasThumb:tt,onThumbChange:useCallbackRef$1(nt),onThumbPointerUp:useCallbackRef$1(rt),onThumbPositionChange:Lt,onThumbPointerDown:useCallbackRef$1(st),children:jsxRuntimeExports.jsx(Primitive.div,{...lt,ref:bt,style:{position:"absolute",...lt.style},onPointerDown:composeEventHandlers($.onPointerDown,Bt=>{Bt.button===0&&(Bt.target.setPointerCapture(Bt.pointerId),mt.current=ht.getBoundingClientRect(),xt.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",ft.viewport&&(ft.viewport.style.scrollBehavior="auto"),Pt(Bt))}),onPointerMove:composeEventHandlers($.onPointerMove,Pt),onPointerUp:composeEventHandlers($.onPointerUp,Bt=>{const Vt=Bt.target;Vt.hasPointerCapture(Bt.pointerId)&&Vt.releasePointerCapture(Bt.pointerId),document.body.style.webkitUserSelect=xt.current,ft.viewport&&(ft.viewport.style.scrollBehavior=""),mt.current=null})})})}),THUMB_NAME$1="ScrollAreaThumb",ScrollAreaThumb=reactExports.forwardRef(($,j)=>{const{forceMount:_e,...et}=$,tt=useScrollbarContext(THUMB_NAME$1,$.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:_e||tt.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:j,...et})})}),ScrollAreaThumbImpl=reactExports.forwardRef(($,j)=>{const{__scopeScrollArea:_e,style:et,...tt}=$,nt=useScrollAreaContext(THUMB_NAME$1,_e),rt=useScrollbarContext(THUMB_NAME$1,_e),{onThumbPositionChange:st}=rt,at=useComposedRefs(j,ot=>rt.onThumbChange(ot)),ut=reactExports.useRef(),dt=useDebounceCallback(()=>{ut.current&&(ut.current(),ut.current=void 0)},100);return reactExports.useEffect(()=>{const ot=nt.viewport;if(ot){const lt=()=>{if(dt(),!ut.current){const ft=addUnlinkedScrollListener(ot,st);ut.current=ft,st()}};return st(),ot.addEventListener("scroll",lt),()=>ot.removeEventListener("scroll",lt)}},[nt.viewport,dt,st]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":rt.hasThumb?"visible":"hidden",...tt,ref:at,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...et},onPointerDownCapture:composeEventHandlers($.onPointerDownCapture,ot=>{const ft=ot.target.getBoundingClientRect(),ht=ot.clientX-ft.left,vt=ot.clientY-ft.top;rt.onThumbPointerDown({x:ht,y:vt})}),onPointerUp:composeEventHandlers($.onPointerUp,rt.onThumbPointerUp)})});ScrollAreaThumb.displayName=THUMB_NAME$1;var CORNER_NAME="ScrollAreaCorner",ScrollAreaCorner=reactExports.forwardRef(($,j)=>{const _e=useScrollAreaContext(CORNER_NAME,$.__scopeScrollArea),et=!!(_e.scrollbarX&&_e.scrollbarY);return _e.type!=="scroll"&&et?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...$,ref:j}):null});ScrollAreaCorner.displayName=CORNER_NAME;var ScrollAreaCornerImpl=reactExports.forwardRef(($,j)=>{const{__scopeScrollArea:_e,...et}=$,tt=useScrollAreaContext(CORNER_NAME,_e),[nt,rt]=reactExports.useState(0),[st,at]=reactExports.useState(0),ut=!!(nt&&st);return useResizeObserver(tt.scrollbarX,()=>{var ot;const dt=((ot=tt.scrollbarX)==null?void 0:ot.offsetHeight)||0;tt.onCornerHeightChange(dt),at(dt)}),useResizeObserver(tt.scrollbarY,()=>{var ot;const dt=((ot=tt.scrollbarY)==null?void 0:ot.offsetWidth)||0;tt.onCornerWidthChange(dt),rt(dt)}),ut?jsxRuntimeExports.jsx(Primitive.div,{...et,ref:j,style:{width:nt,height:st,position:"absolute",right:tt.dir==="ltr"?0:void 0,left:tt.dir==="rtl"?0:void 0,bottom:0,...$.style}}):null});function toInt($){return $?parseInt($,10):0}function getThumbRatio($,j){const _e=$/j;return isNaN(_e)?0:_e}function getThumbSize($){const j=getThumbRatio($.viewport,$.content),_e=$.scrollbar.paddingStart+$.scrollbar.paddingEnd,et=($.scrollbar.size-_e)*j;return Math.max(et,18)}function getScrollPositionFromPointer($,j,_e,et="ltr"){const tt=getThumbSize(_e),nt=tt/2,rt=j||nt,st=tt-rt,at=_e.scrollbar.paddingStart+rt,ut=_e.scrollbar.size-_e.scrollbar.paddingEnd-st,dt=_e.content-_e.viewport,ot=et==="ltr"?[0,dt]:[dt*-1,0];return linearScale$1([at,ut],ot)($)}function getThumbOffsetFromScroll($,j,_e="ltr"){const et=getThumbSize(j),tt=j.scrollbar.paddingStart+j.scrollbar.paddingEnd,nt=j.scrollbar.size-tt,rt=j.content-j.viewport,st=nt-et,at=_e==="ltr"?[0,rt]:[rt*-1,0],ut=clamp$2($,at);return linearScale$1([0,rt],[0,st])(ut)}function linearScale$1($,j){return _e=>{if($[0]===$[1]||j[0]===j[1])return j[0];const et=(j[1]-j[0])/($[1]-$[0]);return j[0]+et*(_e-$[0])}}function isScrollingWithinScrollbarBounds($,j){return $>0&&$<j}var addUnlinkedScrollListener=($,j=()=>{})=>{let _e={left:$.scrollLeft,top:$.scrollTop},et=0;return function tt(){const nt={left:$.scrollLeft,top:$.scrollTop},rt=_e.left!==nt.left,st=_e.top!==nt.top;(rt||st)&&j(),_e=nt,et=window.requestAnimationFrame(tt)}(),()=>window.cancelAnimationFrame(et)};function useDebounceCallback($,j){const _e=useCallbackRef$1($),et=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(et.current),[]),reactExports.useCallback(()=>{window.clearTimeout(et.current),et.current=window.setTimeout(_e,j)},[_e,j])}function useResizeObserver($,j){const _e=useCallbackRef$1(j);useLayoutEffect2(()=>{let et=0;if($){const tt=new ResizeObserver(()=>{cancelAnimationFrame(et),et=window.requestAnimationFrame(_e)});return tt.observe($),()=>{window.cancelAnimationFrame(et),tt.unobserve($)}}},[$,_e])}var Root$3=ScrollArea,Viewport=ScrollAreaViewport,Scrollbar=ScrollAreaScrollbar,Thumb$1=ScrollAreaThumb,Corner=ScrollAreaCorner;const noopScrollAtom$=atom(0),scrollContext=reactExports.createContext(noopScrollAtom$),isScrollType=$=>typeof $=="string"&&["both","horizontal","vertical"].includes($),QspScrollable=({children:$,attrs:j,scroll:_e="both"})=>{const[,et,{className:tt="",...nt}]=useAttributes(j,"div","qsp-scrollable"),rt=reactExports.useRef(null),st=useAtom_2(reactExports.useContext(scrollContext)),at=useSetup(()=>atom(!1)),ut=useAtom_2(at),dt=useSetup(()=>atom(!1)),ot=useAtom_2(dt);return reactExports.useEffect(()=>{rt.current&&st&&(rt.current.scrollTop=st>0?rt.current.scrollHeight:0)},[st]),reactExports.useLayoutEffect(()=>{const lt=rt.current;if(!lt)return;function ft(){const vt=rt.current?rt.current.scrollTop>0:!1;at.value!==vt&&at.set(vt);const bt=rt.current?rt.current.offsetHeight+rt.current.scrollTop<rt.current.scrollHeight:!0;bt!==dt.value&&dt.set(bt)}ft();const ht=setInterval(ft,300);return lt.addEventListener("scroll",ft,{passive:!0}),()=>{lt.removeEventListener("scroll",ft),clearInterval(ht)}},[]),jsxRuntimeExports.jsxs(Root$3,{style:et,...nt,className:tt+" qsp-scroll-root","data-upscroll":ut||void 0,"data-downscroll":ot||void 0,children:[jsxRuntimeExports.jsx(Viewport,{ref:rt,className:"qsp-scroll-area",children:$}),_e==="both"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"horizontal",children:jsxRuntimeExports.jsx(Thumb$1,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:"vertical",children:jsxRuntimeExports.jsx(Thumb$1,{className:"qsp-scrollbar-thumb"})})]}):jsxRuntimeExports.jsx(Scrollbar,{className:"qsp-scrollbar",orientation:_e,children:jsxRuntimeExports.jsx(Thumb$1,{className:"qsp-scrollbar-thumb"})}),jsxRuntimeExports.jsx(Corner,{className:"qsp-scrollbar-corner"})]})};var updateQueue=makeQueue(),raf=$=>schedule($,updateQueue),writeQueue=makeQueue();raf.write=$=>schedule($,writeQueue);var onStartQueue=makeQueue();raf.onStart=$=>schedule($,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=$=>schedule($,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=$=>schedule($,onFinishQueue);var timeouts=[];raf.setTimeout=($,j)=>{const _e=raf.now()+j,et=()=>{const nt=timeouts.findIndex(rt=>rt.cancel==et);~nt&&timeouts.splice(nt,1),pendingCount-=~nt?1:0},tt={time:_e,handler:$,cancel:et};return timeouts.splice(findTimeout(_e),0,tt),pendingCount+=1,start(),tt};var findTimeout=$=>~(~timeouts.findIndex(j=>j.time>$)||~timeouts.length);raf.cancel=$=>{onStartQueue.delete($),onFrameQueue.delete($),onFinishQueue.delete($),updateQueue.delete($),writeQueue.delete($)};raf.sync=$=>{sync=!0,raf.batchedUpdates($),sync=!1};raf.throttle=$=>{let j;function _e(){try{$(...j)}finally{j=null}}function et(...tt){j=tt,raf.onStart(_e)}return et.handler=$,et.cancel=()=>{onStartQueue.delete(_e),j=null},et};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=$=>nativeRaf=$;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=$=>$();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule($,j){sync?(j.delete($),$(0)):(j.add($),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const $=ts;ts=raf.now();const j=findTimeout(ts);if(j&&(eachSafely(timeouts.splice(0,j),_e=>_e.handler()),pendingCount-=j),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush($?Math.min(64,ts-$):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let $=new Set,j=$;return{add(_e){pendingCount+=j==$&&!$.has(_e)?1:0,$.add(_e)},delete(_e){return pendingCount-=j==$&&$.has(_e)?1:0,$.delete(_e)},flush(_e){j.size&&($=new Set,pendingCount-=j.size,eachSafely(j,et=>et(_e)&&$.add(et)),pendingCount+=$.size,j=$)}}}function eachSafely($,j){$.forEach(_e=>{try{j(_e)}catch(et){raf.catch(et)}})}var __defProp=Object.defineProperty,__export=($,j)=>{for(var _e in j)__defProp($,_e,{get:j[_e],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});function noop(){}var defineHidden=($,j,_e)=>Object.defineProperty($,j,{value:_e,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:$=>!!$&&$.constructor.name==="Object",fun:$=>typeof $=="function",str:$=>typeof $=="string",num:$=>typeof $=="number",und:$=>$===void 0};function isEqual($,j){if(is.arr($)){if(!is.arr(j)||$.length!==j.length)return!1;for(let _e=0;_e<$.length;_e++)if($[_e]!==j[_e])return!1;return!0}return $===j}var each=($,j)=>$.forEach(j);function eachProp($,j,_e){if(is.arr($)){for(let et=0;et<$.length;et++)j.call(_e,$[et],`${et}`);return}for(const et in $)$.hasOwnProperty(et)&&j.call(_e,$[et],et)}var toArray=$=>is.und($)?[]:is.arr($)?$:[$];function flush($,j){if($.size){const _e=Array.from($);$.clear(),each(_e,j)}}var flushCalls=($,...j)=>flush($,_e=>_e(...j)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop,assign=$=>{$.to&&(to=$.to),$.now&&(raf.now=$.now),$.colors!==void 0&&(colors=$.colors),$.skipAnimation!=null&&(skipAnimation=$.skipAnimation),$.createStringInterpolator&&(createStringInterpolator=$.createStringInterpolator),$.requestAnimationFrame&&raf.use($.requestAnimationFrame),$.batchedUpdates&&(raf.batchedUpdates=$.batchedUpdates),$.willAdvance&&(willAdvance=$.willAdvance),$.frameLoop&&(raf.frameLoop=$.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start($){priority>$.priority?(startQueue.add($),raf.onStart(flushStartQueue)):(startSafely($),raf(advance))},advance,sort($){if(priority)raf.onFrame(()=>frameLoop.sort($));else{const j=currentFrame.indexOf($);~j&&(currentFrame.splice(j,1),startUnsafely($))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely($){currentFrame.includes($)||startUnsafely($)}function startUnsafely($){currentFrame.splice(findIndex(currentFrame,j=>j.priority>$.priority),0,$)}function advance($){const j=prevFrame;for(let _e=0;_e<currentFrame.length;_e++){const et=currentFrame[_e];priority=et.priority,et.idle||(willAdvance(et),et.advance($),et.idle||j.push(et))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=j,currentFrame.length>0}function findIndex($,j){const _e=$.findIndex(j);return _e<0?$.length:_e}var clamp$1=($,j,_e)=>Math.min(Math.max(_e,$),j),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...$){return"\\(\\s*("+$.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor($){let j;return typeof $=="number"?$>>>0===$&&$>=0&&$<=4294967295?$:null:(j=hex6.exec($))?parseInt(j[1]+"ff",16)>>>0:colors&&colors[$]!==void 0?colors[$]:(j=rgb.exec($))?(parse255(j[1])<<24|parse255(j[2])<<16|parse255(j[3])<<8|255)>>>0:(j=rgba.exec($))?(parse255(j[1])<<24|parse255(j[2])<<16|parse255(j[3])<<8|parse1(j[4]))>>>0:(j=hex3.exec($))?parseInt(j[1]+j[1]+j[2]+j[2]+j[3]+j[3]+"ff",16)>>>0:(j=hex8.exec($))?parseInt(j[1],16)>>>0:(j=hex4.exec($))?parseInt(j[1]+j[1]+j[2]+j[2]+j[3]+j[3]+j[4]+j[4],16)>>>0:(j=hsl.exec($))?(hslToRgb(parse360(j[1]),parsePercentage(j[2]),parsePercentage(j[3]))|255)>>>0:(j=hsla.exec($))?(hslToRgb(parse360(j[1]),parsePercentage(j[2]),parsePercentage(j[3]))|parse1(j[4]))>>>0:null}function hue2rgb($,j,_e){return _e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?$+(j-$)*6*_e:_e<1/2?j:_e<2/3?$+(j-$)*(2/3-_e)*6:$}function hslToRgb($,j,_e){const et=_e<.5?_e*(1+j):_e+j-_e*j,tt=2*_e-et,nt=hue2rgb(tt,et,$+1/3),rt=hue2rgb(tt,et,$),st=hue2rgb(tt,et,$-1/3);return Math.round(nt*255)<<24|Math.round(rt*255)<<16|Math.round(st*255)<<8}function parse255($){const j=parseInt($,10);return j<0?0:j>255?255:j}function parse360($){return(parseFloat($)%360+360)%360/360}function parse1($){const j=parseFloat($);return j<0?0:j>1?255:Math.round(j*255)}function parsePercentage($){const j=parseFloat($);return j<0?0:j>100?1:j/100}function colorToRgba($){let j=normalizeColor($);if(j===null)return $;j=j||0;const _e=(j&4278190080)>>>24,et=(j&16711680)>>>16,tt=(j&65280)>>>8,nt=(j&255)/255;return`rgba(${_e}, ${et}, ${tt}, ${nt})`}var createInterpolator=($,j,_e)=>{if(is.fun($))return $;if(is.arr($))return createInterpolator({range:$,output:j,extrapolate:_e});if(is.str($.output[0]))return createStringInterpolator($);const et=$,tt=et.output,nt=et.range||[0,1],rt=et.extrapolateLeft||et.extrapolate||"extend",st=et.extrapolateRight||et.extrapolate||"extend",at=et.easing||(ut=>ut);return ut=>{const dt=findRange(ut,nt);return interpolate(ut,nt[dt],nt[dt+1],tt[dt],tt[dt+1],at,rt,st,et.map)}};function interpolate($,j,_e,et,tt,nt,rt,st,at){let ut=at?at($):$;if(ut<j){if(rt==="identity")return ut;rt==="clamp"&&(ut=j)}if(ut>_e){if(st==="identity")return ut;st==="clamp"&&(ut=_e)}return et===tt?et:j===_e?$<=j?et:tt:(j===-1/0?ut=-ut:_e===1/0?ut=ut-j:ut=(ut-j)/(_e-j),ut=nt(ut),et===-1/0?ut=-ut:tt===1/0?ut=ut+et:ut=ut*(tt-et)+et,ut)}function findRange($,j){for(var _e=1;_e<j.length-1&&!(j[_e]>=$);++_e);return _e-1}var steps=($,j="end")=>_e=>{_e=j==="end"?Math.min(_e,.999):Math.max(_e,.001);const et=_e*$,tt=j==="end"?Math.floor(et):Math.ceil(et);return clamp$1(0,1,tt/$)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=$=>$<1/2.75?7.5625*$*$:$<2/2.75?7.5625*($-=1.5/2.75)*$+.75:$<2.5/2.75?7.5625*($-=2.25/2.75)*$+.9375:7.5625*($-=2.625/2.75)*$+.984375,easings={linear:$=>$,easeInQuad:$=>$*$,easeOutQuad:$=>1-(1-$)*(1-$),easeInOutQuad:$=>$<.5?2*$*$:1-Math.pow(-2*$+2,2)/2,easeInCubic:$=>$*$*$,easeOutCubic:$=>1-Math.pow(1-$,3),easeInOutCubic:$=>$<.5?4*$*$*$:1-Math.pow(-2*$+2,3)/2,easeInQuart:$=>$*$*$*$,easeOutQuart:$=>1-Math.pow(1-$,4),easeInOutQuart:$=>$<.5?8*$*$*$*$:1-Math.pow(-2*$+2,4)/2,easeInQuint:$=>$*$*$*$*$,easeOutQuint:$=>1-Math.pow(1-$,5),easeInOutQuint:$=>$<.5?16*$*$*$*$*$:1-Math.pow(-2*$+2,5)/2,easeInSine:$=>1-Math.cos($*Math.PI/2),easeOutSine:$=>Math.sin($*Math.PI/2),easeInOutSine:$=>-(Math.cos(Math.PI*$)-1)/2,easeInExpo:$=>$===0?0:Math.pow(2,10*$-10),easeOutExpo:$=>$===1?1:1-Math.pow(2,-10*$),easeInOutExpo:$=>$===0?0:$===1?1:$<.5?Math.pow(2,20*$-10)/2:(2-Math.pow(2,-20*$+10))/2,easeInCirc:$=>1-Math.sqrt(1-Math.pow($,2)),easeOutCirc:$=>Math.sqrt(1-Math.pow($-1,2)),easeInOutCirc:$=>$<.5?(1-Math.sqrt(1-Math.pow(2*$,2)))/2:(Math.sqrt(1-Math.pow(-2*$+2,2))+1)/2,easeInBack:$=>c3*$*$*$-c1*$*$,easeOutBack:$=>1+c3*Math.pow($-1,3)+c1*Math.pow($-1,2),easeInOutBack:$=>$<.5?Math.pow(2*$,2)*((c2+1)*2*$-c2)/2:(Math.pow(2*$-2,2)*((c2+1)*($*2-2)+c2)+2)/2,easeInElastic:$=>$===0?0:$===1?1:-Math.pow(2,10*$-10)*Math.sin(($*10-10.75)*c4),easeOutElastic:$=>$===0?0:$===1?1:Math.pow(2,-10*$)*Math.sin(($*10-.75)*c4)+1,easeInOutElastic:$=>$===0?0:$===1?1:$<.5?-(Math.pow(2,20*$-10)*Math.sin((20*$-11.125)*c5))/2:Math.pow(2,-20*$+10)*Math.sin((20*$-11.125)*c5)/2+1,easeInBounce:$=>1-bounceOut(1-$),easeOutBounce:bounceOut,easeInOutBounce:$=>$<.5?(1-bounceOut(1-2*$))/2:(1+bounceOut(2*$-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=$=>!!($&&$[$get]),getFluidValue=$=>$&&$[$get]?$[$get]():$,getFluidObservers=$=>$[$observers]||null;function callFluidObserver($,j){$.eventObserved?$.eventObserved(j):$(j)}function callFluidObservers($,j){const _e=$[$observers];_e&&_e.forEach(et=>{callFluidObserver(et,j)})}var FluidValue=class{constructor($){if(!$&&!($=this.get))throw Error("Unknown getter");setFluidGetter(this,$)}},setFluidGetter=($,j)=>setHidden($,$get,j);function addFluidObserver($,j){if($[$get]){let _e=$[$observers];_e||setHidden($,$observers,_e=new Set),_e.has(j)||(_e.add(j),$.observerAdded&&$.observerAdded(_e.size,j))}return j}function removeFluidObserver($,j){const _e=$[$observers];if(_e&&_e.has(j)){const et=_e.size-1;et?_e.delete(j):$[$observers]=null,$.observerRemoved&&$.observerRemoved(et,j)}}var setHidden=($,j,_e)=>Object.defineProperty($,j,{value:_e,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=$=>{const[j,_e]=parseCSSVariable($);if(!j||isSSR())return $;const et=window.getComputedStyle(document.documentElement).getPropertyValue(j);if(et)return et.trim();if(_e&&_e.startsWith("--")){const tt=window.getComputedStyle(document.documentElement).getPropertyValue(_e);return tt||$}else{if(_e&&cssVariableRegex.test(_e))return variableToRgba(_e);if(_e)return _e}return $},parseCSSVariable=$=>{const j=cssVariableRegex.exec($);if(!j)return[,];const[,_e,et]=j;return[_e,et]},namedColorRegex,rgbaRound=($,j,_e,et,tt)=>`rgba(${Math.round(j)}, ${Math.round(_e)}, ${Math.round(et)}, ${tt})`,createStringInterpolator2=$=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const j=$.output.map(nt=>getFluidValue(nt).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),_e=j.map(nt=>nt.match(numberRegex).map(Number)),tt=_e[0].map((nt,rt)=>_e.map(st=>{if(!(rt in st))throw Error('The arity of each "output" value must be equal');return st[rt]})).map(nt=>createInterpolator({...$,output:nt}));return nt=>{var at;const rt=!unitRegex.test(j[0])&&((at=j.find(ut=>unitRegex.test(ut)))==null?void 0:at.replace(numberRegex,""));let st=0;return j[0].replace(numberRegex,()=>`${tt[st++](nt)}${rt||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=$=>{const j=$;let _e=!1;if(typeof j!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...et)=>{_e||(j(...et),_e=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString($){return is.str($)&&($[0]=="#"||/\d/.test($)||!isSSR()&&cssVariableRegex.test($)||$ in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const $=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>($.current=!0,()=>{$.current=!1}),[]),$};function useForceUpdate(){const $=reactExports.useState()[1],j=useIsMounted();return()=>{j.current&&$(Math.random())}}function useMemoOne($,j){const[_e]=reactExports.useState(()=>({inputs:j,result:$()})),et=reactExports.useRef(),tt=et.current;let nt=tt;return nt?j&&nt.inputs&&areInputsEqual(j,nt.inputs)||(nt={inputs:j,result:$()}):nt=_e,reactExports.useEffect(()=>{et.current=nt,tt==_e&&(_e.inputs=_e.result=void 0)},[nt]),nt.result}function areInputsEqual($,j){if($.length!==j.length)return!1;for(let _e=0;_e<$.length;_e++)if($[_e]!==j[_e])return!1;return!0}var useOnce=$=>reactExports.useEffect($,emptyDeps),emptyDeps=[];function usePrev($){const j=reactExports.useRef();return reactExports.useEffect(()=>{j.current=$}),j.current}var $node=Symbol.for("Animated:node"),isAnimated=$=>!!$&&$[$node]===$,getAnimated=$=>$&&$[$node],setAnimated=($,j)=>defineHidden($,$node,j),getPayload=$=>$&&$[$node]&&$[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class extends Animated{constructor($){super(),this._value=$,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create($){return new AnimatedValue($)}getPayload(){return[this]}getValue(){return this._value}setValue($,j){return is.num($)&&(this.lastPosition=$,j&&($=Math.round($/j)*j,this.done&&(this.lastPosition=$))),this._value===$?!1:(this._value=$,!0)}reset(){const{done:$}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,$&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class extends AnimatedValue{constructor($){super(0),this._string=null,this._toString=createInterpolator({output:[$,$]})}static create($){return new AnimatedString($)}getValue(){const $=this._string;return $??(this._string=this._toString(this._value))}setValue($){if(is.str($)){if($==this._string)return!1;this._string=$,this._value=1}else if(super.setValue($))this._string=null;else return!1;return!0}reset($){$&&(this._toString=createInterpolator({output:[this.getValue(),$]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor($){super(),this.source=$,this.setValue($)}getValue($){const j={};return eachProp(this.source,(_e,et)=>{isAnimated(_e)?j[et]=_e.getValue($):hasFluidValue(_e)?j[et]=getFluidValue(_e):$||(j[et]=_e)}),j}setValue($){this.source=$,this.payload=this._makePayload($)}reset(){this.payload&&each(this.payload,$=>$.reset())}_makePayload($){if($){const j=new Set;return eachProp($,this._addToPayload,j),Array.from(j)}}_addToPayload($){TreeContext.dependencies&&hasFluidValue($)&&TreeContext.dependencies.add($);const j=getPayload($);j&&each(j,_e=>this.add(_e))}},AnimatedArray=class extends AnimatedObject{constructor($){super($)}static create($){return new AnimatedArray($)}getValue(){return this.source.map($=>$.getValue())}setValue($){const j=this.getPayload();return $.length==j.length?j.map((_e,et)=>_e.setValue($[et])).some(Boolean):(super.setValue($.map(makeAnimated)),!0)}};function makeAnimated($){return(isAnimatedString($)?AnimatedString:AnimatedValue).create($)}function getAnimatedType($){const j=getAnimated($);return j?j.constructor:is.arr($)?AnimatedArray:isAnimatedString($)?AnimatedString:AnimatedValue}var withAnimated=($,j)=>{const _e=!is.fun($)||$.prototype&&$.prototype.isReactComponent;return reactExports.forwardRef((et,tt)=>{const nt=reactExports.useRef(null),rt=_e&&reactExports.useCallback(ht=>{nt.current=updateRef(tt,ht)},[tt]),[st,at]=getAnimatedState(et,j),ut=useForceUpdate(),dt=()=>{const ht=nt.current;if(_e&&!ht)return;(ht?j.applyAnimatedValues(ht,st.getValue(!0)):!1)===!1&&ut()},ot=new PropsObserver(dt,at),lt=reactExports.useRef();useIsomorphicLayoutEffect(()=>(lt.current=ot,each(at,ht=>addFluidObserver(ht,ot)),()=>{lt.current&&(each(lt.current.deps,ht=>removeFluidObserver(ht,lt.current)),raf.cancel(lt.current.update))})),reactExports.useEffect(dt,[]),useOnce(()=>()=>{const ht=lt.current;each(ht.deps,vt=>removeFluidObserver(vt,ht))});const ft=j.getComponentProps(st.getValue());return reactExports.createElement($,{...ft,ref:rt})})},PropsObserver=class{constructor($,j){this.update=$,this.deps=j}eventObserved($){$.type=="change"&&raf.write(this.update)}};function getAnimatedState($,j){const _e=new Set;return TreeContext.dependencies=_e,$.style&&($={...$,style:j.createAnimatedStyle($.style)}),$=new AnimatedObject($),TreeContext.dependencies=null,[$,_e]}function updateRef($,j){return $&&(is.fun($)?$(j):$.current=j),j}var cacheKey=Symbol.for("AnimatedComponent"),createHost=($,{applyAnimatedValues:j=()=>!1,createAnimatedStyle:_e=tt=>new AnimatedObject(tt),getComponentProps:et=tt=>tt}={})=>{const tt={applyAnimatedValues:j,createAnimatedStyle:_e,getComponentProps:et},nt=rt=>{const st=getDisplayName(rt)||"Anonymous";return is.str(rt)?rt=nt[rt]||(nt[rt]=withAnimated(rt,tt)):rt=rt[cacheKey]||(rt[cacheKey]=withAnimated(rt,tt)),rt.displayName=`Animated(${st})`,rt};return eachProp($,(rt,st)=>{is.arr($)&&(st=getDisplayName(rt)),nt[st]=nt(rt)}),{animated:nt}},getDisplayName=$=>is.str($)?$:$&&is.str($.displayName)?$.displayName:is.fun($)&&$.name||null;function callProp($,...j){return is.fun($)?$(...j):$}var matchProp=($,j)=>$===!0||!!(j&&$&&(is.fun($)?$(j):toArray($).includes(j))),resolveProp=($,j)=>is.obj($)?j&&$[j]:$,getDefaultProp=($,j)=>$.default===!0?$[j]:$.default?$.default[j]:void 0,noopTransform=$=>$,getDefaultProps=($,j=noopTransform)=>{let _e=DEFAULT_PROPS;$.default&&$.default!==!0&&($=$.default,_e=Object.keys($));const et={};for(const tt of _e){const nt=j($[tt],tt);is.und(nt)||(et[tt]=nt)}return et},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps($){const j={};let _e=0;if(eachProp($,(et,tt)=>{RESERVED_PROPS[tt]||(j[tt]=et,_e++)}),_e)return j}function inferTo($){const j=getForwardProps($);if(j){const _e={to:j};return eachProp($,(et,tt)=>tt in j||(_e[tt]=et)),_e}return{...$}}function computeGoal($){return $=getFluidValue($),is.arr($)?$.map(computeGoal):isAnimatedString($)?globals_exports.createStringInterpolator({range:[0,1],output:[$,$]})(1):$}function hasProps($){for(const j in $)return!0;return!1}function isAsyncTo($){return is.fun($)||is.arr($)&&is.obj($[0])}function detachRefs($,j){var _e;(_e=$.ref)==null||_e.delete($),j==null||j.delete($)}function replaceRef($,j){var _e;j&&$.ref!==j&&((_e=$.ref)==null||_e.delete($),j.add($),$.ref=j)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig($,j,_e){_e&&(_e={..._e},sanitizeConfig(_e,j),j={..._e,...j}),sanitizeConfig($,j),Object.assign($,j);for(const rt in defaults)$[rt]==null&&($[rt]=defaults[rt]);let{frequency:et,damping:tt}=$;const{mass:nt}=$;return is.und(et)||(et<.01&&(et=.01),tt<0&&(tt=0),$.tension=Math.pow(2*Math.PI/et,2)*nt,$.friction=4*Math.PI*tt*nt/et),$}function sanitizeConfig($,j){if(!is.und(j.decay))$.duration=void 0;else{const _e=!is.und(j.tension)||!is.und(j.friction);(_e||!is.und(j.frequency)||!is.und(j.damping)||!is.und(j.mass))&&($.duration=void 0,$.decay=void 0),_e&&($.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps($,{key:j,props:_e,defaultProps:et,state:tt,actions:nt}){return new Promise((rt,st)=>{let at,ut,dt=matchProp(_e.cancel??(et==null?void 0:et.cancel),j);if(dt)ft();else{is.und(_e.pause)||(tt.paused=matchProp(_e.pause,j));let ht=et==null?void 0:et.pause;ht!==!0&&(ht=tt.paused||matchProp(ht,j)),at=callProp(_e.delay||0,j),ht?(tt.resumeQueue.add(lt),nt.pause()):(nt.resume(),lt())}function ot(){tt.resumeQueue.add(lt),tt.timeouts.delete(ut),ut.cancel(),at=ut.time-raf.now()}function lt(){at>0&&!globals_exports.skipAnimation?(tt.delayed=!0,ut=raf.setTimeout(ft,at),tt.pauseQueue.add(ot),tt.timeouts.add(ut)):ft()}function ft(){tt.delayed&&(tt.delayed=!1),tt.pauseQueue.delete(ot),tt.timeouts.delete(ut),$<=(tt.cancelId||0)&&(dt=!0);try{nt.start({..._e,callId:$,cancel:dt},rt)}catch(ht){st(ht)}}})}var getCombinedResult=($,j)=>j.length==1?j[0]:j.some(_e=>_e.cancelled)?getCancelledResult($.get()):j.every(_e=>_e.noop)?getNoopResult($.get()):getFinishedResult($.get(),j.every(_e=>_e.finished)),getNoopResult=$=>({value:$,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=($,j,_e=!1)=>({value:$,finished:j,cancelled:_e}),getCancelledResult=$=>({value:$,cancelled:!0,finished:!1});function runAsync($,j,_e,et){const{callId:tt,parentId:nt,onRest:rt}=j,{asyncTo:st,promise:at}=_e;return!nt&&$===st&&!j.reset?at:_e.promise=(async()=>{_e.asyncId=tt,_e.asyncTo=$;const ut=getDefaultProps(j,(bt,mt)=>mt==="onRest"?void 0:bt);let dt,ot;const lt=new Promise((bt,mt)=>(dt=bt,ot=mt)),ft=bt=>{const mt=tt<=(_e.cancelId||0)&&getCancelledResult(et)||tt!==_e.asyncId&&getFinishedResult(et,!1);if(mt)throw bt.result=mt,ot(bt),bt},ht=(bt,mt)=>{const xt=new BailSignal,Et=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync(_e),Et.result=getFinishedResult(et,!1),ot(Et),Et;ft(xt);const At=is.obj(bt)?{...bt}:{...mt,to:bt};At.parentId=tt,eachProp(ut,(Lt,wt)=>{is.und(At[wt])&&(At[wt]=Lt)});const kt=await et.start(At);return ft(xt),_e.paused&&await new Promise(Lt=>{_e.resumeQueue.add(Lt)}),kt})()};let vt;if(globals_exports.skipAnimation)return stopAsync(_e),getFinishedResult(et,!1);try{let bt;is.arr($)?bt=(async mt=>{for(const xt of mt)await ht(xt)})($):bt=Promise.resolve($(ht,et.stop.bind(et))),await Promise.all([bt.then(dt),lt]),vt=getFinishedResult(et.get(),!0,!1)}catch(bt){if(bt instanceof BailSignal)vt=bt.result;else if(bt instanceof SkipAnimationSignal)vt=bt.result;else throw bt}finally{tt==_e.asyncId&&(_e.asyncId=nt,_e.asyncTo=nt?st:void 0,_e.promise=nt?at:void 0)}return is.fun(rt)&&raf.batchedUpdates(()=>{rt(vt,et,et.item)}),vt})()}function stopAsync($,j){flush($.timeouts,_e=>_e.cancel()),$.pauseQueue.clear(),$.resumeQueue.clear(),$.asyncId=$.asyncTo=$.promise=void 0,j&&($.cancelId=j)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=$=>$ instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority($){this._priority!=$&&(this._priority=$,this._onPriorityChange($))}get(){const $=getAnimated(this);return $&&$.getValue()}to(...$){return globals_exports.to(this,$)}interpolate(...$){return deprecateInterpolate(),globals_exports.to(this,$)}toJSON(){return this.get()}observerAdded($){$==1&&this._attach()}observerRemoved($){$==0&&this._detach()}_attach(){}_detach(){}_onChange($,j=!1){callFluidObservers(this,{type:"change",parent:this,value:$,idle:j})}_onPriorityChange($){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:$})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=$=>($[$P]&HAS_ANIMATED)>0,isAnimating=$=>($[$P]&IS_ANIMATING)>0,isPaused=$=>($[$P]&IS_PAUSED)>0,setActiveBit=($,j)=>j?$[$P]|=IS_ANIMATING|HAS_ANIMATED:$[$P]&=~IS_ANIMATING,setPausedBit=($,j)=>j?$[$P]|=IS_PAUSED:$[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor($,j){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und($)||!is.und(j)){const _e=is.obj($)?{...$}:{...j,from:$};is.und(_e.default)&&(_e.default=!0),this.start(_e)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const $=getAnimated(this);return $ instanceof AnimatedValue?$.lastVelocity||0:$.getPayload().map(j=>j.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance($){let j=!0,_e=!1;const et=this.animation;let{toValues:tt}=et;const{config:nt}=et,rt=getPayload(et.to);!rt&&hasFluidValue(et.to)&&(tt=toArray(getFluidValue(et.to))),et.values.forEach((ut,dt)=>{if(ut.done)return;const ot=ut.constructor==AnimatedString?1:rt?rt[dt].lastPosition:tt[dt];let lt=et.immediate,ft=ot;if(!lt){if(ft=ut.lastPosition,nt.tension<=0){ut.done=!0;return}let ht=ut.elapsedTime+=$;const vt=et.fromValues[dt],bt=ut.v0!=null?ut.v0:ut.v0=is.arr(nt.velocity)?nt.velocity[dt]:nt.velocity;let mt;const xt=nt.precision||(vt==ot?.005:Math.min(1,Math.abs(ot-vt)*.001));if(is.und(nt.duration))if(nt.decay){const Et=nt.decay===!0?.998:nt.decay,At=Math.exp(-(1-Et)*ht);ft=vt+bt/(1-Et)*(1-At),lt=Math.abs(ut.lastPosition-ft)<=xt,mt=bt*At}else{mt=ut.lastVelocity==null?bt:ut.lastVelocity;const Et=nt.restVelocity||xt/10,At=nt.clamp?0:nt.bounce,kt=!is.und(At),Lt=vt==ot?ut.v0>0:vt<ot;let wt,Pt=!1;const Bt=1,Vt=Math.ceil($/Bt);for(let Xt=0;Xt<Vt&&(wt=Math.abs(mt)>Et,!(!wt&&(lt=Math.abs(ot-ft)<=xt,lt)));++Xt){kt&&(Pt=ft==ot||ft>ot==Lt,Pt&&(mt=-mt*At,ft=ot));const pn=-nt.tension*1e-6*(ft-ot),En=-nt.friction*.001*mt,Yt=(pn+En)/nt.mass;mt=mt+Yt*Bt,ft=ft+mt*Bt}}else{let Et=1;nt.duration>0&&(this._memoizedDuration!==nt.duration&&(this._memoizedDuration=nt.duration,ut.durationProgress>0&&(ut.elapsedTime=nt.duration*ut.durationProgress,ht=ut.elapsedTime+=$)),Et=(nt.progress||0)+ht/this._memoizedDuration,Et=Et>1?1:Et<0?0:Et,ut.durationProgress=Et),ft=vt+nt.easing(Et)*(ot-vt),mt=(ft-ut.lastPosition)/$,lt=Et==1}ut.lastVelocity=mt,Number.isNaN(ft)&&(console.warn("Got NaN while animating:",this),lt=!0)}rt&&!rt[dt].done&&(lt=!1),lt?ut.done=!0:j=!1,ut.setValue(ft,nt.round)&&(_e=!0)});const st=getAnimated(this),at=st.getValue();if(j){const ut=getFluidValue(et.to);(at!==ut||_e)&&!nt.decay?(st.setValue(ut),this._onChange(ut)):_e&&nt.decay&&this._onChange(at),this._stop()}else _e&&this._onChange(at)}set($){return raf.batchedUpdates(()=>{this._stop(),this._focus($),this._set($)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:$,config:j}=this.animation;raf.batchedUpdates(()=>{this._onStart(),j.decay||this._set($,!1),this._stop()})}return this}update($){return(this.queue||(this.queue=[])).push($),this}start($,j){let _e;return is.und($)?(_e=this.queue||[],this.queue=[]):_e=[is.obj($)?$:{...j,to:$}],Promise.all(_e.map(et=>this._update(et))).then(et=>getCombinedResult(this,et))}stop($){const{to:j}=this.animation;return this._focus(this.get()),stopAsync(this._state,$&&this._lastCallId),raf.batchedUpdates(()=>this._stop(j,$)),this}reset(){this._update({reset:!0})}eventObserved($){$.type=="change"?this._start():$.type=="priority"&&(this.priority=$.priority+1)}_prepareNode($){const j=this.key||"";let{to:_e,from:et}=$;_e=is.obj(_e)?_e[j]:_e,(_e==null||isAsyncTo(_e))&&(_e=void 0),et=is.obj(et)?et[j]:et,et==null&&(et=void 0);const tt={to:_e,from:et};return hasAnimated(this)||($.reverse&&([_e,et]=[et,_e]),et=getFluidValue(et),is.und(et)?getAnimated(this)||this._set(_e):this._set(et)),tt}_update({...$},j){const{key:_e,defaultProps:et}=this;$.default&&Object.assign(et,getDefaultProps($,(rt,st)=>/^on/.test(st)?resolveProp(rt,_e):rt)),mergeActiveFn(this,$,"onProps"),sendEvent(this,"onProps",$,this);const tt=this._prepareNode($);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const nt=this._state;return scheduleProps(++this._lastCallId,{key:_e,props:$,defaultProps:et,state:nt,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(nt.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(nt.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,tt)}}).then(rt=>{if($.loop&&rt.finished&&!(j&&rt.noop)){const st=createLoopUpdate($);if(st)return this._update(st,!0)}return rt})}_merge($,j,_e){if(j.cancel)return this.stop(!0),_e(getCancelledResult(this));const et=!is.und($.to),tt=!is.und($.from);if(et||tt)if(j.callId>this._lastToId)this._lastToId=j.callId;else return _e(getCancelledResult(this));const{key:nt,defaultProps:rt,animation:st}=this,{to:at,from:ut}=st;let{to:dt=at,from:ot=ut}=$;tt&&!et&&(!j.default||is.und(dt))&&(dt=ot),j.reverse&&([dt,ot]=[ot,dt]);const lt=!isEqual(ot,ut);lt&&(st.from=ot),ot=getFluidValue(ot);const ft=!isEqual(dt,at);ft&&this._focus(dt);const ht=isAsyncTo(j.to),{config:vt}=st,{decay:bt,velocity:mt}=vt;(et||tt)&&(vt.velocity=0),j.config&&!ht&&mergeConfig(vt,callProp(j.config,nt),j.config!==rt.config?callProp(rt.config,nt):void 0);let xt=getAnimated(this);if(!xt||is.und(dt))return _e(getFinishedResult(this,!0));const Et=is.und(j.reset)?tt&&!j.default:!is.und(ot)&&matchProp(j.reset,nt),At=Et?ot:this.get(),kt=computeGoal(dt),Lt=is.num(kt)||is.arr(kt)||isAnimatedString(kt),wt=!ht&&(!Lt||matchProp(rt.immediate||j.immediate,nt));if(ft){const Xt=getAnimatedType(dt);if(Xt!==xt.constructor)if(wt)xt=this._set(kt);else throw Error(`Cannot animate between ${xt.constructor.name} and ${Xt.name}, as the "to" prop suggests`)}const Pt=xt.constructor;let Bt=hasFluidValue(dt),Vt=!1;if(!Bt){const Xt=Et||!hasAnimated(this)&&lt;(ft||Xt)&&(Vt=isEqual(computeGoal(At),kt),Bt=!Vt),(!isEqual(st.immediate,wt)&&!wt||!isEqual(vt.decay,bt)||!isEqual(vt.velocity,mt))&&(Bt=!0)}if(Vt&&isAnimating(this)&&(st.changed&&!Et?Bt=!0:Bt||this._stop(at)),!ht&&((Bt||hasFluidValue(at))&&(st.values=xt.getPayload(),st.toValues=hasFluidValue(dt)?null:Pt==AnimatedString?[1]:toArray(kt)),st.immediate!=wt&&(st.immediate=wt,!wt&&!Et&&this._set(at)),Bt)){const{onRest:Xt}=st;each(ACTIVE_EVENTS,En=>mergeActiveFn(this,j,En));const pn=getFinishedResult(this,checkFinished(this,at));flushCalls(this._pendingCalls,pn),this._pendingCalls.add(_e),st.changed&&raf.batchedUpdates(()=>{var En;st.changed=!Et,Xt==null||Xt(pn,this),Et?callProp(rt.onRest,pn):(En=st.onStart)==null||En.call(st,pn,this)})}Et&&this._set(At),ht?_e(runAsync(j.to,j,this._state,this)):Bt?this._start():isAnimating(this)&&!ft?this._pendingCalls.add(_e):_e(getNoopResult(At))}_focus($){const j=this.animation;$!==j.to&&(getFluidObservers(this)&&this._detach(),j.to=$,getFluidObservers(this)&&this._attach())}_attach(){let $=0;const{to:j}=this.animation;hasFluidValue(j)&&(addFluidObserver(j,this),isFrameValue(j)&&($=j.priority+1)),this.priority=$}_detach(){const{to:$}=this.animation;hasFluidValue($)&&removeFluidObserver($,this)}_set($,j=!0){const _e=getFluidValue($);if(!is.und(_e)){const et=getAnimated(this);if(!et||!isEqual(_e,et.getValue())){const tt=getAnimatedType(_e);!et||et.constructor!=tt?setAnimated(this,tt.create(_e)):et.setValue(_e),et&&raf.batchedUpdates(()=>{this._onChange(_e,j)})}}return getAnimated(this)}_onStart(){const $=this.animation;$.changed||($.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,$.to)),this))}_onChange($,j){j||(this._onStart(),callProp(this.animation.onChange,$,this)),callProp(this.defaultProps.onChange,$,this),super._onChange($,j)}_start(){const $=this.animation;getAnimated(this).reset(getFluidValue($.to)),$.immediate||($.fromValues=$.values.map(j=>j.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop($,j){if(isAnimating(this)){setActiveBit(this,!1);const _e=this.animation;each(_e.values,tt=>{tt.done=!0}),_e.toValues&&(_e.onChange=_e.onPause=_e.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const et=j?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,$??_e.to));flushCalls(this._pendingCalls,et),_e.changed&&(_e.changed=!1,sendEvent(this,"onRest",et,this))}}};function checkFinished($,j){const _e=computeGoal(j),et=computeGoal($.get());return isEqual(et,_e)}function createLoopUpdate($,j=$.loop,_e=$.to){const et=callProp(j);if(et){const tt=et!==!0&&inferTo(et),nt=(tt||$).reverse,rt=!tt||tt.reset;return createUpdate({...$,loop:j,default:!1,pause:void 0,to:!nt||isAsyncTo(_e)?_e:void 0,from:rt?$.from:void 0,reset:rt,...tt})}}function createUpdate($){const{to:j,from:_e}=$=inferTo($),et=new Set;return is.obj(j)&&findDefined(j,et),is.obj(_e)&&findDefined(_e,et),$.keys=et.size?Array.from(et):null,$}function declareUpdate($){const j=createUpdate($);return is.und(j.default)&&(j.default=getDefaultProps(j)),j}function findDefined($,j){eachProp($,(_e,et)=>_e!=null&&j.add(et))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn($,j,_e){$.animation[_e]=j[_e]!==getDefaultProp(j,_e)?resolveProp(j[_e],$.key):void 0}function sendEvent($,j,..._e){var et,tt,nt,rt;(tt=(et=$.animation)[j])==null||tt.call(et,..._e),(rt=(nt=$.defaultProps)[j])==null||rt.call(nt,..._e)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller=class{constructor($,j){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),j&&(this._flush=j),$&&this.start({default:!0,...$})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every($=>$.idle&&!$.isDelayed&&!$.isPaused)}get item(){return this._item}set item($){this._item=$}get(){const $={};return this.each((j,_e)=>$[_e]=j.get()),$}set($){for(const j in $){const _e=$[j];is.und(_e)||this.springs[j].set(_e)}}update($){return $&&this.queue.push(createUpdate($)),this}start($){let{queue:j}=this;return $?j=toArray($).map(createUpdate):this.queue=[],this._flush?this._flush(this,j):(prepareKeys(this,j),flushUpdateQueue(this,j))}stop($,j){if($!==!!$&&(j=$),j){const _e=this.springs;each(toArray(j),et=>_e[et].stop(!!$))}else stopAsync(this._state,this._lastAsyncId),this.each(_e=>_e.stop(!!$));return this}pause($){if(is.und($))this.start({pause:!0});else{const j=this.springs;each(toArray($),_e=>j[_e].pause())}return this}resume($){if(is.und($))this.start({pause:!1});else{const j=this.springs;each(toArray($),_e=>j[_e].resume())}return this}each($){eachProp(this.springs,$)}_onFrame(){const{onStart:$,onChange:j,onRest:_e}=this._events,et=this._active.size>0,tt=this._changed.size>0;(et&&!this._started||tt&&!this._started)&&(this._started=!0,flush($,([st,at])=>{at.value=this.get(),st(at,this,this._item)}));const nt=!et&&this._started,rt=tt||nt&&_e.size?this.get():null;tt&&j.size&&flush(j,([st,at])=>{at.value=rt,st(at,this,this._item)}),nt&&(this._started=!1,flush(_e,([st,at])=>{at.value=rt,st(at,this,this._item)}))}eventObserved($){if($.type=="change")this._changed.add($.parent),$.idle||this._active.add($.parent);else if($.type=="idle")this._active.delete($.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue($,j){return Promise.all(j.map(_e=>flushUpdate($,_e))).then(_e=>getCombinedResult($,_e))}async function flushUpdate($,j,_e){const{keys:et,to:tt,from:nt,loop:rt,onRest:st,onResolve:at}=j,ut=is.obj(j.default)&&j.default;rt&&(j.loop=!1),tt===!1&&(j.to=null),nt===!1&&(j.from=null);const dt=is.arr(tt)||is.fun(tt)?tt:void 0;dt?(j.to=void 0,j.onRest=void 0,ut&&(ut.onRest=void 0)):each(BATCHED_EVENTS,vt=>{const bt=j[vt];if(is.fun(bt)){const mt=$._events[vt];j[vt]=({finished:xt,cancelled:Et})=>{const At=mt.get(bt);At?(xt||(At.finished=!1),Et&&(At.cancelled=!0)):mt.set(bt,{value:null,finished:xt||!1,cancelled:Et||!1})},ut&&(ut[vt]=j[vt])}});const ot=$._state;j.pause===!ot.paused?(ot.paused=j.pause,flushCalls(j.pause?ot.pauseQueue:ot.resumeQueue)):ot.paused&&(j.pause=!0);const lt=(et||Object.keys($.springs)).map(vt=>$.springs[vt].start(j)),ft=j.cancel===!0||getDefaultProp(j,"cancel")===!0;(dt||ft&&ot.asyncId)&&lt.push(scheduleProps(++$._lastAsyncId,{props:j,state:ot,actions:{pause:noop,resume:noop,start(vt,bt){ft?(stopAsync(ot,$._lastAsyncId),bt(getCancelledResult($))):(vt.onRest=st,bt(runAsync(dt,vt,ot,$)))}}})),ot.paused&&await new Promise(vt=>{ot.resumeQueue.add(vt)});const ht=getCombinedResult($,await Promise.all(lt));if(rt&&ht.finished&&!(_e&&ht.noop)){const vt=createLoopUpdate(j,rt,tt);if(vt)return prepareKeys($,[vt]),flushUpdate($,vt,!0)}return at&&raf.batchedUpdates(()=>at(ht,$,$.item)),ht}function getSprings($,j){const _e={...$.springs};return j&&each(toArray(j),et=>{is.und(et.keys)&&(et=createUpdate(et)),is.obj(et.to)||(et={...et,to:void 0}),prepareSprings(_e,et,tt=>createSpring(tt))}),setSprings($,_e),_e}function setSprings($,j){eachProp(j,(_e,et)=>{$.springs[et]||($.springs[et]=_e,addFluidObserver(_e,$))})}function createSpring($,j){const _e=new SpringValue;return _e.key=$,j&&addFluidObserver(_e,j),_e}function prepareSprings($,j,_e){j.keys&&each(j.keys,et=>{($[et]||($[et]=_e(et)))._prepareNode(j)})}function prepareKeys($,j){each(j,_e=>{prepareSprings($.springs,_e,et=>createSpring(et,$))})}var SpringContext=({children:$,...j})=>{const _e=reactExports.useContext(ctx),et=j.pause||!!_e.pause,tt=j.immediate||!!_e.immediate;j=useMemoOne(()=>({pause:et,immediate:tt}),[et,tt]);const{Provider:nt}=ctx;return reactExports.createElement(nt,{value:j},$)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext($,j){return Object.assign($,reactExports.createContext(j)),$.Provider._context=$,$.Consumer._context=$,$}var SpringRef=()=>{const $=[],j=function(et){deprecateDirectCall();const tt=[];return each($,(nt,rt)=>{if(is.und(et))tt.push(nt.start());else{const st=_e(et,nt,rt);st&&tt.push(nt.start(st))}}),tt};j.current=$,j.add=function(et){$.includes(et)||$.push(et)},j.delete=function(et){const tt=$.indexOf(et);~tt&&$.splice(tt,1)},j.pause=function(){return each($,et=>et.pause(...arguments)),this},j.resume=function(){return each($,et=>et.resume(...arguments)),this},j.set=function(et){each($,(tt,nt)=>{const rt=is.fun(et)?et(nt,tt):et;rt&&tt.set(rt)})},j.start=function(et){const tt=[];return each($,(nt,rt)=>{if(is.und(et))tt.push(nt.start());else{const st=this._getProps(et,nt,rt);st&&tt.push(nt.start(st))}}),tt},j.stop=function(){return each($,et=>et.stop(...arguments)),this},j.update=function(et){return each($,(tt,nt)=>tt.update(this._getProps(et,tt,nt))),this};const _e=function(et,tt,nt){return is.fun(et)?et(nt,tt):et};return j._getProps=_e,j};function useSprings($,j,_e){const et=is.fun(j)&&j;et&&!_e&&(_e=[]);const tt=reactExports.useMemo(()=>et||arguments.length==3?SpringRef():void 0,[]),nt=reactExports.useRef(0),rt=useForceUpdate(),st=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(mt,xt){const Et=getSprings(mt,xt);return nt.current>0&&!st.queue.length&&!Object.keys(Et).some(kt=>!mt.springs[kt])?flushUpdateQueue(mt,xt):new Promise(kt=>{setSprings(mt,Et),st.queue.push(()=>{kt(flushUpdateQueue(mt,xt))}),rt()})}}),[]),at=reactExports.useRef([...st.ctrls]),ut=[],dt=usePrev($)||0;reactExports.useMemo(()=>{each(at.current.slice($,dt),mt=>{detachRefs(mt,tt),mt.stop(!0)}),at.current.length=$,ot(dt,$)},[$]),reactExports.useMemo(()=>{ot(0,Math.min(dt,$))},_e);function ot(mt,xt){for(let Et=mt;Et<xt;Et++){const At=at.current[Et]||(at.current[Et]=new Controller(null,st.flush)),kt=et?et(Et,At):j[Et];kt&&(ut[Et]=declareUpdate(kt))}}const lt=at.current.map((mt,xt)=>getSprings(mt,ut[xt])),ft=reactExports.useContext(SpringContext),ht=usePrev(ft),vt=ft!==ht&&hasProps(ft);useIsomorphicLayoutEffect(()=>{nt.current++,st.ctrls=at.current;const{queue:mt}=st;mt.length&&(st.queue=[],each(mt,xt=>xt())),each(at.current,(xt,Et)=>{tt==null||tt.add(xt),vt&&xt.start({default:ft});const At=ut[Et];At&&(replaceRef(xt,At.ref),xt.ref?xt.queue.push(At):xt.start(At))})}),useOnce(()=>()=>{each(st.ctrls,mt=>mt.stop(!0))});const bt=lt.map(mt=>({...mt}));return tt?[bt,tt]:bt}function useSpring($,j){const _e=is.fun($),[[et],tt]=useSprings(1,_e?$:[$],_e?[]:j);return _e||arguments.length==2?[et,tt]:et}function useTransition($,j,_e){const et=is.fun(j)&&j,{reset:tt,sort:nt,trail:rt=0,expires:st=!0,exitBeforeEnter:at=!1,onDestroyed:ut,ref:dt,config:ot}=et?et():j,lt=reactExports.useMemo(()=>et||arguments.length==3?SpringRef():void 0,[]),ft=toArray($),ht=[],vt=reactExports.useRef(null),bt=tt?null:vt.current;useIsomorphicLayoutEffect(()=>{vt.current=ht}),useOnce(()=>(each(ht,Yt=>{lt==null||lt.add(Yt.ctrl),Yt.ctrl.ref=lt}),()=>{each(vt.current,Yt=>{Yt.expired&&clearTimeout(Yt.expirationId),detachRefs(Yt.ctrl,lt),Yt.ctrl.stop(!0)})}));const mt=getKeys(ft,et?et():j,bt),xt=tt&&vt.current||[];useIsomorphicLayoutEffect(()=>each(xt,({ctrl:Yt,item:rn,key:on})=>{detachRefs(Yt,lt),callProp(ut,rn,on)}));const Et=[];if(bt&&each(bt,(Yt,rn)=>{Yt.expired?(clearTimeout(Yt.expirationId),xt.push(Yt)):(rn=Et[rn]=mt.indexOf(Yt.key),~rn&&(ht[rn]=Yt))}),each(ft,(Yt,rn)=>{ht[rn]||(ht[rn]={key:mt[rn],item:Yt,phase:"mount",ctrl:new Controller},ht[rn].ctrl.item=Yt)}),Et.length){let Yt=-1;const{leave:rn}=et?et():j;each(Et,(on,hn)=>{const Kt=bt[hn];~on?(Yt=ht.indexOf(Kt),ht[Yt]={...Kt,item:ft[on]}):rn&&ht.splice(++Yt,0,Kt)})}is.fun(nt)&&ht.sort((Yt,rn)=>nt(Yt.item,rn.item));let At=-rt;const kt=useForceUpdate(),Lt=getDefaultProps(j),wt=new Map,Pt=reactExports.useRef(new Map),Bt=reactExports.useRef(!1);each(ht,(Yt,rn)=>{const on=Yt.key,hn=Yt.phase,Kt=et?et():j;let Qt,sn;const tn=callProp(Kt.delay||0,on);if(hn=="mount")Qt=Kt.enter,sn="enter";else{const _n=mt.indexOf(on)<0;if(hn!="leave")if(_n)Qt=Kt.leave,sn="leave";else if(Qt=Kt.update)sn="update";else return;else if(!_n)Qt=Kt.enter,sn="enter";else return}if(Qt=callProp(Qt,Yt.item,rn),Qt=is.obj(Qt)?inferTo(Qt):{to:Qt},!Qt.config){const _n=ot||Lt.config;Qt.config=callProp(_n,Yt.item,rn,sn)}At+=rt;const dn={...Lt,delay:tn+At,ref:dt,immediate:Kt.immediate,reset:!1,...Qt};if(sn=="enter"&&is.und(dn.from)){const _n=et?et():j,Sn=is.und(_n.initial)||bt?_n.from:_n.initial;dn.from=callProp(Sn,Yt.item,rn)}const{onResolve:wn}=dn;dn.onResolve=_n=>{callProp(wn,_n);const Sn=vt.current,yn=Sn.find(Mn=>Mn.key===on);if(yn&&!(_n.cancelled&&yn.phase!="update")&&yn.ctrl.idle){const Mn=Sn.every(nn=>nn.ctrl.idle);if(yn.phase=="leave"){const nn=callProp(st,yn.item);if(nn!==!1){const Bn=nn===!0?0:nn;if(yn.expired=!0,!Mn&&Bn>0){Bn<=2147483647&&(yn.expirationId=setTimeout(kt,Bn));return}}}Mn&&Sn.some(nn=>nn.expired)&&(Pt.current.delete(yn),at&&(Bt.current=!0),kt())}};const bn=getSprings(Yt.ctrl,dn);sn==="leave"&&at?Pt.current.set(Yt,{phase:sn,springs:bn,payload:dn}):wt.set(Yt,{phase:sn,springs:bn,payload:dn})});const Vt=reactExports.useContext(SpringContext),Xt=usePrev(Vt),pn=Vt!==Xt&&hasProps(Vt);useIsomorphicLayoutEffect(()=>{pn&&each(ht,Yt=>{Yt.ctrl.start({default:Vt})})},[Vt]),each(wt,(Yt,rn)=>{if(Pt.current.size){const on=ht.findIndex(hn=>hn.key===rn.key);ht.splice(on,1)}}),useIsomorphicLayoutEffect(()=>{each(Pt.current.size?Pt.current:wt,({phase:Yt,payload:rn},on)=>{const{ctrl:hn}=on;on.phase=Yt,lt==null||lt.add(hn),pn&&Yt=="enter"&&hn.start({default:Vt}),rn&&(replaceRef(hn,rn.ref),(hn.ref||lt)&&!Bt.current?hn.update(rn):(hn.start(rn),Bt.current&&(Bt.current=!1)))})},tt?void 0:_e);const En=Yt=>reactExports.createElement(reactExports.Fragment,null,ht.map((rn,on)=>{const{springs:hn}=wt.get(rn)||rn.ctrl,Kt=Yt({...hn},rn.item,rn,on);return Kt&&Kt.type?reactExports.createElement(Kt.type,{...Kt.props,key:is.str(rn.key)||is.num(rn.key)?rn.key:rn.ctrl.id,ref:Kt.ref}):Kt}));return lt?[En,lt]:En}var nextKey=1;function getKeys($,{key:j,keys:_e=j},et){if(_e===null){const tt=new Set;return $.map(nt=>{const rt=et&&et.find(st=>st.item===nt&&st.phase!=="leave"&&!tt.has(st));return rt?(tt.add(rt),rt.key):nextKey++})}return is.und(_e)?$:is.fun(_e)?$.map(_e):toArray(_e)}var Interpolation=class extends FrameValue{constructor($,j){super(),this.source=$,this.idle=!0,this._active=new Set,this.calc=createInterpolator(...j);const _e=this._get(),et=getAnimatedType(_e);setAnimated(this,et.create(_e))}advance($){const j=this._get(),_e=this.get();isEqual(j,_e)||(getAnimated(this).setValue(j),this._onChange(j,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const $=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...$)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),$=>{$.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let $=1;each(toArray(this.source),j=>{hasFluidValue(j)&&addFluidObserver(j,this),isFrameValue(j)&&(j.idle||this._active.add(j),$=Math.max($,j.priority+1))}),this.priority=$,this._start()}_detach(){each(toArray(this.source),$=>{hasFluidValue($)&&removeFluidObserver($,this)}),this._active.clear(),becomeIdle(this)}eventObserved($){$.type=="change"?$.idle?this.advance():(this._active.add($.parent),this._start()):$.type=="idle"?this._active.delete($.parent):$.type=="priority"&&(this.priority=toArray(this.source).reduce((j,_e)=>Math.max(j,(isFrameValue(_e)?_e.priority:0)+1),0))}};function isIdle($){return $.idle!==!1}function checkIdle($){return!$.size||Array.from($).every(isIdle)}function becomeIdle($){$.idle||($.idle=!0,each(getPayload($),j=>{j.done=!0}),callFluidObservers($,{type:"idle",parent:$}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:($,j)=>new Interpolation($,j)});var isCustomPropRE=/^--/;function dangerousStyleValue($,j){return j==null||typeof j=="boolean"||j===""?"":typeof j=="number"&&j!==0&&!isCustomPropRE.test($)&&!(isUnitlessNumber.hasOwnProperty($)&&isUnitlessNumber[$])?j+"px":(""+j).trim()}var attributeCache={};function applyAnimatedValues($,j){if(!$.nodeType||!$.setAttribute)return!1;const _e=$.nodeName==="filter"||$.parentNode&&$.parentNode.nodeName==="filter",{style:et,children:tt,scrollTop:nt,scrollLeft:rt,viewBox:st,...at}=j,ut=Object.values(at),dt=Object.keys(at).map(ot=>_e||$.hasAttribute(ot)?ot:attributeCache[ot]||(attributeCache[ot]=ot.replace(/([A-Z])/g,lt=>"-"+lt.toLowerCase())));tt!==void 0&&($.textContent=tt);for(const ot in et)if(et.hasOwnProperty(ot)){const lt=dangerousStyleValue(ot,et[ot]);isCustomPropRE.test(ot)?$.style.setProperty(ot,lt):$.style[ot]=lt}dt.forEach((ot,lt)=>{$.setAttribute(ot,ut[lt])}),nt!==void 0&&($.scrollTop=nt),rt!==void 0&&($.scrollLeft=rt),st!==void 0&&$.setAttribute("viewBox",st)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=($,j)=>$+j.charAt(0).toUpperCase()+j.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce(($,j)=>(prefixes.forEach(_e=>$[prefixKey(_e,j)]=$[j]),$),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=($,j)=>is.num($)&&$!==0?$+j:$,isValueIdentity=($,j)=>is.arr($)?$.every(_e=>isValueIdentity(_e,j)):is.num($)?$===j:parseFloat($)===j,AnimatedStyle=class extends AnimatedObject{constructor({x:$,y:j,z:_e,...et}){const tt=[],nt=[];($||j||_e)&&(tt.push([$||0,j||0,_e||0]),nt.push(rt=>[`translate3d(${rt.map(st=>addUnit(st,"px")).join(",")})`,isValueIdentity(rt,0)])),eachProp(et,(rt,st)=>{if(st==="transform")tt.push([rt||""]),nt.push(at=>[at,at===""]);else if(domTransforms.test(st)){if(delete et[st],is.und(rt))return;const at=pxTransforms.test(st)?"px":degTransforms.test(st)?"deg":"";tt.push(toArray(rt)),nt.push(st==="rotate3d"?([ut,dt,ot,lt])=>[`rotate3d(${ut},${dt},${ot},${addUnit(lt,at)})`,isValueIdentity(lt,0)]:ut=>[`${st}(${ut.map(dt=>addUnit(dt,at)).join(",")})`,isValueIdentity(ut,st.startsWith("scale")?1:0)])}}),tt.length&&(et.transform=new FluidTransform(tt,nt)),super(et)}},FluidTransform=class extends FluidValue{constructor($,j){super(),this.inputs=$,this.transforms=j,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let $="",j=!0;return each(this.inputs,(_e,et)=>{const tt=getFluidValue(_e[0]),[nt,rt]=this.transforms[et](is.arr(tt)?tt:_e.map(getFluidValue));$+=" "+nt,j=j&&rt}),j?"none":$}observerAdded($){$==1&&each(this.inputs,j=>each(j,_e=>hasFluidValue(_e)&&addFluidObserver(_e,this)))}observerRemoved($){$==0&&each(this.inputs,j=>each(j,_e=>hasFluidValue(_e)&&removeFluidObserver(_e,this)))}eventObserved($){$.type=="change"&&(this._value=null),callFluidObservers(this,$)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:$=>new AnimatedStyle($),getComponentProps:({scrollTop:$,scrollLeft:j,..._e})=>_e}),animated=host.animated;function useFadeTransition($){return useTransition($,{from:{opacity:0,transform:"translate(0, -2%) scale(0.96)"},enter:{opacity:1,transform:"translate(0, 0) scale(1)"},leave:{opacity:0,transform:"translate(0, -2%) scale(0.96)"}})}const QspInput=({attrs:$,children:j})=>{const _e=useAtom_2(input$),[et,tt,nt]=useAttributes($,"qsp-input"),rt=useFadeTransition(_e.isOpen);return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:st=>{st.preventDefault(),input$.actions.finish()},cancelAction:st=>{st.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$4,{open:_e.isOpen,onOpenChange:()=>input$.actions.close(),children:rt((st,at)=>at?jsxRuntimeExports.jsxs(Portal$1,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:st,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(et,{style:tt,...nt,children:jsxRuntimeExports.jsx("form",{onSubmit:ut=>{ut.preventDefault(),input$.actions.finish()},children:j})})})})]}):null)})})},QspInputContent=({attrs:$})=>{const{content:j,key:_e}=useAtom_2(parsedInputContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes($,"qsp-input-content");return jsxRuntimeExports.jsx(Description,{asChild:!0,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(Markup,{content:j}))})})},QspInputTag=({attrs:$})=>{const[,j,_e]=useAttributes($,"input","qsp-input-tag"),et=useAtom_2(input$),tt=nt=>{input$.actions.enter(nt.target.value)};return jsxRuntimeExports.jsx("input",{style:j,..._e,type:"text",value:et.entered,onInput:tt,autoFocus:!0})};function createCollection($){const j=$+"CollectionProvider",[_e,et]=createContextScope(j),[tt,nt]=_e(j,{collectionRef:{current:null},itemMap:new Map}),rt=ft=>{const{scope:ht,children:vt}=ft,bt=React$1.useRef(null),mt=React$1.useRef(new Map).current;return jsxRuntimeExports.jsx(tt,{scope:ht,itemMap:mt,collectionRef:bt,children:vt})};rt.displayName=j;const st=$+"CollectionSlot",at=React$1.forwardRef((ft,ht)=>{const{scope:vt,children:bt}=ft,mt=nt(st,vt),xt=useComposedRefs(ht,mt.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:xt,children:bt})});at.displayName=st;const ut=$+"CollectionItemSlot",dt="data-radix-collection-item",ot=React$1.forwardRef((ft,ht)=>{const{scope:vt,children:bt,...mt}=ft,xt=React$1.useRef(null),Et=useComposedRefs(ht,xt),At=nt(ut,vt);return React$1.useEffect(()=>(At.itemMap.set(xt,{ref:xt,...mt}),()=>void At.itemMap.delete(xt))),jsxRuntimeExports.jsx(Slot,{[dt]:"",ref:Et,children:bt})});ot.displayName=ut;function lt(ft){const ht=nt($+"CollectionConsumer",ft);return React$1.useCallback(()=>{const bt=ht.collectionRef.current;if(!bt)return[];const mt=Array.from(bt.querySelectorAll(`[${dt}]`));return Array.from(ht.itemMap.values()).sort((At,kt)=>mt.indexOf(At.ref.current)-mt.indexOf(kt.ref.current))},[ht.collectionRef,ht.itemMap])}return[{Provider:rt,Slot:at,ItemSlot:ot},lt,et]}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=$=>({x:$,y:$}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp($,j,_e){return max($,min(j,_e))}function evaluate($,j){return typeof $=="function"?$(j):$}function getSide($){return $.split("-")[0]}function getAlignment($){return $.split("-")[1]}function getOppositeAxis($){return $==="x"?"y":"x"}function getAxisLength($){return $==="y"?"height":"width"}function getSideAxis($){return["top","bottom"].includes(getSide($))?"y":"x"}function getAlignmentAxis($){return getOppositeAxis(getSideAxis($))}function getAlignmentSides($,j,_e){_e===void 0&&(_e=!1);const et=getAlignment($),tt=getAlignmentAxis($),nt=getAxisLength(tt);let rt=tt==="x"?et===(_e?"end":"start")?"right":"left":et==="start"?"bottom":"top";return j.reference[nt]>j.floating[nt]&&(rt=getOppositePlacement(rt)),[rt,getOppositePlacement(rt)]}function getExpandedPlacements($){const j=getOppositePlacement($);return[getOppositeAlignmentPlacement($),j,getOppositeAlignmentPlacement(j)]}function getOppositeAlignmentPlacement($){return $.replace(/start|end/g,j=>oppositeAlignmentMap[j])}function getSideList($,j,_e){const et=["left","right"],tt=["right","left"],nt=["top","bottom"],rt=["bottom","top"];switch($){case"top":case"bottom":return _e?j?tt:et:j?et:tt;case"left":case"right":return j?nt:rt;default:return[]}}function getOppositeAxisPlacements($,j,_e,et){const tt=getAlignment($);let nt=getSideList(getSide($),_e==="start",et);return tt&&(nt=nt.map(rt=>rt+"-"+tt),j&&(nt=nt.concat(nt.map(getOppositeAlignmentPlacement)))),nt}function getOppositePlacement($){return $.replace(/left|right|bottom|top/g,j=>oppositeSideMap[j])}function expandPaddingObject($){return{top:0,right:0,bottom:0,left:0,...$}}function getPaddingObject($){return typeof $!="number"?expandPaddingObject($):{top:$,right:$,bottom:$,left:$}}function rectToClientRect($){return{...$,top:$.y,left:$.x,right:$.x+$.width,bottom:$.y+$.height}}function computeCoordsFromPlacement($,j,_e){let{reference:et,floating:tt}=$;const nt=getSideAxis(j),rt=getAlignmentAxis(j),st=getAxisLength(rt),at=getSide(j),ut=nt==="y",dt=et.x+et.width/2-tt.width/2,ot=et.y+et.height/2-tt.height/2,lt=et[st]/2-tt[st]/2;let ft;switch(at){case"top":ft={x:dt,y:et.y-tt.height};break;case"bottom":ft={x:dt,y:et.y+et.height};break;case"right":ft={x:et.x+et.width,y:ot};break;case"left":ft={x:et.x-tt.width,y:ot};break;default:ft={x:et.x,y:et.y}}switch(getAlignment(j)){case"start":ft[rt]-=lt*(_e&&ut?-1:1);break;case"end":ft[rt]+=lt*(_e&&ut?-1:1);break}return ft}const computePosition$1=async($,j,_e)=>{const{placement:et="bottom",strategy:tt="absolute",middleware:nt=[],platform:rt}=_e,st=nt.filter(Boolean),at=await(rt.isRTL==null?void 0:rt.isRTL(j));let ut=await rt.getElementRects({reference:$,floating:j,strategy:tt}),{x:dt,y:ot}=computeCoordsFromPlacement(ut,et,at),lt=et,ft={},ht=0;for(let vt=0;vt<st.length;vt++){const{name:bt,fn:mt}=st[vt],{x:xt,y:Et,data:At,reset:kt}=await mt({x:dt,y:ot,initialPlacement:et,placement:lt,strategy:tt,middlewareData:ft,rects:ut,platform:rt,elements:{reference:$,floating:j}});if(dt=xt??dt,ot=Et??ot,ft={...ft,[bt]:{...ft[bt],...At}},kt&&ht<=50){ht++,typeof kt=="object"&&(kt.placement&&(lt=kt.placement),kt.rects&&(ut=kt.rects===!0?await rt.getElementRects({reference:$,floating:j,strategy:tt}):kt.rects),{x:dt,y:ot}=computeCoordsFromPlacement(ut,lt,at)),vt=-1;continue}}return{x:dt,y:ot,placement:lt,strategy:tt,middlewareData:ft}};async function detectOverflow($,j){var _e;j===void 0&&(j={});const{x:et,y:tt,platform:nt,rects:rt,elements:st,strategy:at}=$,{boundary:ut="clippingAncestors",rootBoundary:dt="viewport",elementContext:ot="floating",altBoundary:lt=!1,padding:ft=0}=evaluate(j,$),ht=getPaddingObject(ft),bt=st[lt?ot==="floating"?"reference":"floating":ot],mt=rectToClientRect(await nt.getClippingRect({element:(_e=await(nt.isElement==null?void 0:nt.isElement(bt)))==null||_e?bt:bt.contextElement||await(nt.getDocumentElement==null?void 0:nt.getDocumentElement(st.floating)),boundary:ut,rootBoundary:dt,strategy:at})),xt=ot==="floating"?{...rt.floating,x:et,y:tt}:rt.reference,Et=await(nt.getOffsetParent==null?void 0:nt.getOffsetParent(st.floating)),At=await(nt.isElement==null?void 0:nt.isElement(Et))?await(nt.getScale==null?void 0:nt.getScale(Et))||{x:1,y:1}:{x:1,y:1},kt=rectToClientRect(nt.convertOffsetParentRelativeRectToViewportRelativeRect?await nt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:xt,offsetParent:Et,strategy:at}):xt);return{top:(mt.top-kt.top+ht.top)/At.y,bottom:(kt.bottom-mt.bottom+ht.bottom)/At.y,left:(mt.left-kt.left+ht.left)/At.x,right:(kt.right-mt.right+ht.right)/At.x}}const arrow$1=$=>({name:"arrow",options:$,async fn(j){const{x:_e,y:et,placement:tt,rects:nt,platform:rt,elements:st,middlewareData:at}=j,{element:ut,padding:dt=0}=evaluate($,j)||{};if(ut==null)return{};const ot=getPaddingObject(dt),lt={x:_e,y:et},ft=getAlignmentAxis(tt),ht=getAxisLength(ft),vt=await rt.getDimensions(ut),bt=ft==="y",mt=bt?"top":"left",xt=bt?"bottom":"right",Et=bt?"clientHeight":"clientWidth",At=nt.reference[ht]+nt.reference[ft]-lt[ft]-nt.floating[ht],kt=lt[ft]-nt.reference[ft],Lt=await(rt.getOffsetParent==null?void 0:rt.getOffsetParent(ut));let wt=Lt?Lt[Et]:0;(!wt||!await(rt.isElement==null?void 0:rt.isElement(Lt)))&&(wt=st.floating[Et]||nt.floating[ht]);const Pt=At/2-kt/2,Bt=wt/2-vt[ht]/2-1,Vt=min(ot[mt],Bt),Xt=min(ot[xt],Bt),pn=Vt,En=wt-vt[ht]-Xt,Yt=wt/2-vt[ht]/2+Pt,rn=clamp(pn,Yt,En),on=!at.arrow&&getAlignment(tt)!=null&&Yt!=rn&&nt.reference[ht]/2-(Yt<pn?Vt:Xt)-vt[ht]/2<0,hn=on?Yt<pn?Yt-pn:Yt-En:0;return{[ft]:lt[ft]+hn,data:{[ft]:rn,centerOffset:Yt-rn-hn,...on&&{alignmentOffset:hn}},reset:on}}}),flip=function($){return $===void 0&&($={}),{name:"flip",options:$,async fn(j){var _e,et;const{placement:tt,middlewareData:nt,rects:rt,initialPlacement:st,platform:at,elements:ut}=j,{mainAxis:dt=!0,crossAxis:ot=!0,fallbackPlacements:lt,fallbackStrategy:ft="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:vt=!0,...bt}=evaluate($,j);if((_e=nt.arrow)!=null&&_e.alignmentOffset)return{};const mt=getSide(tt),xt=getSide(st)===st,Et=await(at.isRTL==null?void 0:at.isRTL(ut.floating)),At=lt||(xt||!vt?[getOppositePlacement(st)]:getExpandedPlacements(st));!lt&&ht!=="none"&&At.push(...getOppositeAxisPlacements(st,vt,ht,Et));const kt=[st,...At],Lt=await detectOverflow(j,bt),wt=[];let Pt=((et=nt.flip)==null?void 0:et.overflows)||[];if(dt&&wt.push(Lt[mt]),ot){const pn=getAlignmentSides(tt,rt,Et);wt.push(Lt[pn[0]],Lt[pn[1]])}if(Pt=[...Pt,{placement:tt,overflows:wt}],!wt.every(pn=>pn<=0)){var Bt,Vt;const pn=(((Bt=nt.flip)==null?void 0:Bt.index)||0)+1,En=kt[pn];if(En)return{data:{index:pn,overflows:Pt},reset:{placement:En}};let Yt=(Vt=Pt.filter(rn=>rn.overflows[0]<=0).sort((rn,on)=>rn.overflows[1]-on.overflows[1])[0])==null?void 0:Vt.placement;if(!Yt)switch(ft){case"bestFit":{var Xt;const rn=(Xt=Pt.map(on=>[on.placement,on.overflows.filter(hn=>hn>0).reduce((hn,Kt)=>hn+Kt,0)]).sort((on,hn)=>on[1]-hn[1])[0])==null?void 0:Xt[0];rn&&(Yt=rn);break}case"initialPlacement":Yt=st;break}if(tt!==Yt)return{reset:{placement:Yt}}}return{}}}};function getSideOffsets($,j){return{top:$.top-j.height,right:$.right-j.width,bottom:$.bottom-j.height,left:$.left-j.width}}function isAnySideFullyClipped($){return sides.some(j=>$[j]>=0)}const hide=function($){return $===void 0&&($={}),{name:"hide",options:$,async fn(j){const{rects:_e}=j,{strategy:et="referenceHidden",...tt}=evaluate($,j);switch(et){case"referenceHidden":{const nt=await detectOverflow(j,{...tt,elementContext:"reference"}),rt=getSideOffsets(nt,_e.reference);return{data:{referenceHiddenOffsets:rt,referenceHidden:isAnySideFullyClipped(rt)}}}case"escaped":{const nt=await detectOverflow(j,{...tt,altBoundary:!0}),rt=getSideOffsets(nt,_e.floating);return{data:{escapedOffsets:rt,escaped:isAnySideFullyClipped(rt)}}}default:return{}}}}};async function convertValueToCoords($,j){const{placement:_e,platform:et,elements:tt}=$,nt=await(et.isRTL==null?void 0:et.isRTL(tt.floating)),rt=getSide(_e),st=getAlignment(_e),at=getSideAxis(_e)==="y",ut=["left","top"].includes(rt)?-1:1,dt=nt&&at?-1:1,ot=evaluate(j,$);let{mainAxis:lt,crossAxis:ft,alignmentAxis:ht}=typeof ot=="number"?{mainAxis:ot,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ot};return st&&typeof ht=="number"&&(ft=st==="end"?ht*-1:ht),at?{x:ft*dt,y:lt*ut}:{x:lt*ut,y:ft*dt}}const offset=function($){return $===void 0&&($=0),{name:"offset",options:$,async fn(j){var _e,et;const{x:tt,y:nt,placement:rt,middlewareData:st}=j,at=await convertValueToCoords(j,$);return rt===((_e=st.offset)==null?void 0:_e.placement)&&(et=st.arrow)!=null&&et.alignmentOffset?{}:{x:tt+at.x,y:nt+at.y,data:{...at,placement:rt}}}}},shift=function($){return $===void 0&&($={}),{name:"shift",options:$,async fn(j){const{x:_e,y:et,placement:tt}=j,{mainAxis:nt=!0,crossAxis:rt=!1,limiter:st={fn:bt=>{let{x:mt,y:xt}=bt;return{x:mt,y:xt}}},...at}=evaluate($,j),ut={x:_e,y:et},dt=await detectOverflow(j,at),ot=getSideAxis(getSide(tt)),lt=getOppositeAxis(ot);let ft=ut[lt],ht=ut[ot];if(nt){const bt=lt==="y"?"top":"left",mt=lt==="y"?"bottom":"right",xt=ft+dt[bt],Et=ft-dt[mt];ft=clamp(xt,ft,Et)}if(rt){const bt=ot==="y"?"top":"left",mt=ot==="y"?"bottom":"right",xt=ht+dt[bt],Et=ht-dt[mt];ht=clamp(xt,ht,Et)}const vt=st.fn({...j,[lt]:ft,[ot]:ht});return{...vt,data:{x:vt.x-_e,y:vt.y-et}}}}},limitShift=function($){return $===void 0&&($={}),{options:$,fn(j){const{x:_e,y:et,placement:tt,rects:nt,middlewareData:rt}=j,{offset:st=0,mainAxis:at=!0,crossAxis:ut=!0}=evaluate($,j),dt={x:_e,y:et},ot=getSideAxis(tt),lt=getOppositeAxis(ot);let ft=dt[lt],ht=dt[ot];const vt=evaluate(st,j),bt=typeof vt=="number"?{mainAxis:vt,crossAxis:0}:{mainAxis:0,crossAxis:0,...vt};if(at){const Et=lt==="y"?"height":"width",At=nt.reference[lt]-nt.floating[Et]+bt.mainAxis,kt=nt.reference[lt]+nt.reference[Et]-bt.mainAxis;ft<At?ft=At:ft>kt&&(ft=kt)}if(ut){var mt,xt;const Et=lt==="y"?"width":"height",At=["top","left"].includes(getSide(tt)),kt=nt.reference[ot]-nt.floating[Et]+(At&&((mt=rt.offset)==null?void 0:mt[ot])||0)+(At?0:bt.crossAxis),Lt=nt.reference[ot]+nt.reference[Et]+(At?0:((xt=rt.offset)==null?void 0:xt[ot])||0)-(At?bt.crossAxis:0);ht<kt?ht=kt:ht>Lt&&(ht=Lt)}return{[lt]:ft,[ot]:ht}}}},size=function($){return $===void 0&&($={}),{name:"size",options:$,async fn(j){const{placement:_e,rects:et,platform:tt,elements:nt}=j,{apply:rt=()=>{},...st}=evaluate($,j),at=await detectOverflow(j,st),ut=getSide(_e),dt=getAlignment(_e),ot=getSideAxis(_e)==="y",{width:lt,height:ft}=et.floating;let ht,vt;ut==="top"||ut==="bottom"?(ht=ut,vt=dt===(await(tt.isRTL==null?void 0:tt.isRTL(nt.floating))?"start":"end")?"left":"right"):(vt=ut,ht=dt==="end"?"top":"bottom");const bt=ft-at[ht],mt=lt-at[vt],xt=!j.middlewareData.shift;let Et=bt,At=mt;if(ot){const Lt=lt-at.left-at.right;At=dt||xt?min(mt,Lt):Lt}else{const Lt=ft-at.top-at.bottom;Et=dt||xt?min(bt,Lt):Lt}if(xt&&!dt){const Lt=max(at.left,0),wt=max(at.right,0),Pt=max(at.top,0),Bt=max(at.bottom,0);ot?At=lt-2*(Lt!==0||wt!==0?Lt+wt:max(at.left,at.right)):Et=ft-2*(Pt!==0||Bt!==0?Pt+Bt:max(at.top,at.bottom))}await rt({...j,availableWidth:At,availableHeight:Et});const kt=await tt.getDimensions(nt.floating);return lt!==kt.width||ft!==kt.height?{reset:{rects:!0}}:{}}}};function getNodeName($){return isNode($)?($.nodeName||"").toLowerCase():"#document"}function getWindow($){var j;return($==null||(j=$.ownerDocument)==null?void 0:j.defaultView)||window}function getDocumentElement($){var j;return(j=(isNode($)?$.ownerDocument:$.document)||window.document)==null?void 0:j.documentElement}function isNode($){return $ instanceof Node||$ instanceof getWindow($).Node}function isElement($){return $ instanceof Element||$ instanceof getWindow($).Element}function isHTMLElement($){return $ instanceof HTMLElement||$ instanceof getWindow($).HTMLElement}function isShadowRoot($){return typeof ShadowRoot>"u"?!1:$ instanceof ShadowRoot||$ instanceof getWindow($).ShadowRoot}function isOverflowElement($){const{overflow:j,overflowX:_e,overflowY:et,display:tt}=getComputedStyle$1($);return/auto|scroll|overlay|hidden|clip/.test(j+et+_e)&&!["inline","contents"].includes(tt)}function isTableElement($){return["table","td","th"].includes(getNodeName($))}function isContainingBlock($){const j=isWebKit(),_e=getComputedStyle$1($);return _e.transform!=="none"||_e.perspective!=="none"||(_e.containerType?_e.containerType!=="normal":!1)||!j&&(_e.backdropFilter?_e.backdropFilter!=="none":!1)||!j&&(_e.filter?_e.filter!=="none":!1)||["transform","perspective","filter"].some(et=>(_e.willChange||"").includes(et))||["paint","layout","strict","content"].some(et=>(_e.contain||"").includes(et))}function getContainingBlock($){let j=getParentNode($);for(;isHTMLElement(j)&&!isLastTraversableNode(j);){if(isContainingBlock(j))return j;j=getParentNode(j)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode($){return["html","body","#document"].includes(getNodeName($))}function getComputedStyle$1($){return getWindow($).getComputedStyle($)}function getNodeScroll($){return isElement($)?{scrollLeft:$.scrollLeft,scrollTop:$.scrollTop}:{scrollLeft:$.pageXOffset,scrollTop:$.pageYOffset}}function getParentNode($){if(getNodeName($)==="html")return $;const j=$.assignedSlot||$.parentNode||isShadowRoot($)&&$.host||getDocumentElement($);return isShadowRoot(j)?j.host:j}function getNearestOverflowAncestor($){const j=getParentNode($);return isLastTraversableNode(j)?$.ownerDocument?$.ownerDocument.body:$.body:isHTMLElement(j)&&isOverflowElement(j)?j:getNearestOverflowAncestor(j)}function getOverflowAncestors($,j,_e){var et;j===void 0&&(j=[]),_e===void 0&&(_e=!0);const tt=getNearestOverflowAncestor($),nt=tt===((et=$.ownerDocument)==null?void 0:et.body),rt=getWindow(tt);return nt?j.concat(rt,rt.visualViewport||[],isOverflowElement(tt)?tt:[],rt.frameElement&&_e?getOverflowAncestors(rt.frameElement):[]):j.concat(tt,getOverflowAncestors(tt,[],_e))}function getCssDimensions($){const j=getComputedStyle$1($);let _e=parseFloat(j.width)||0,et=parseFloat(j.height)||0;const tt=isHTMLElement($),nt=tt?$.offsetWidth:_e,rt=tt?$.offsetHeight:et,st=round(_e)!==nt||round(et)!==rt;return st&&(_e=nt,et=rt),{width:_e,height:et,$:st}}function unwrapElement($){return isElement($)?$:$.contextElement}function getScale($){const j=unwrapElement($);if(!isHTMLElement(j))return createCoords(1);const _e=j.getBoundingClientRect(),{width:et,height:tt,$:nt}=getCssDimensions(j);let rt=(nt?round(_e.width):_e.width)/et,st=(nt?round(_e.height):_e.height)/tt;return(!rt||!Number.isFinite(rt))&&(rt=1),(!st||!Number.isFinite(st))&&(st=1),{x:rt,y:st}}const noOffsets=createCoords(0);function getVisualOffsets($){const j=getWindow($);return!isWebKit()||!j.visualViewport?noOffsets:{x:j.visualViewport.offsetLeft,y:j.visualViewport.offsetTop}}function shouldAddVisualOffsets($,j,_e){return j===void 0&&(j=!1),!_e||j&&_e!==getWindow($)?!1:j}function getBoundingClientRect($,j,_e,et){j===void 0&&(j=!1),_e===void 0&&(_e=!1);const tt=$.getBoundingClientRect(),nt=unwrapElement($);let rt=createCoords(1);j&&(et?isElement(et)&&(rt=getScale(et)):rt=getScale($));const st=shouldAddVisualOffsets(nt,_e,et)?getVisualOffsets(nt):createCoords(0);let at=(tt.left+st.x)/rt.x,ut=(tt.top+st.y)/rt.y,dt=tt.width/rt.x,ot=tt.height/rt.y;if(nt){const lt=getWindow(nt),ft=et&&isElement(et)?getWindow(et):et;let ht=lt.frameElement;for(;ht&&et&&ft!==lt;){const vt=getScale(ht),bt=ht.getBoundingClientRect(),mt=getComputedStyle$1(ht),xt=bt.left+(ht.clientLeft+parseFloat(mt.paddingLeft))*vt.x,Et=bt.top+(ht.clientTop+parseFloat(mt.paddingTop))*vt.y;at*=vt.x,ut*=vt.y,dt*=vt.x,ot*=vt.y,at+=xt,ut+=Et,ht=getWindow(ht).frameElement}}return rectToClientRect({width:dt,height:ot,x:at,y:ut})}function convertOffsetParentRelativeRectToViewportRelativeRect($){let{rect:j,offsetParent:_e,strategy:et}=$;const tt=isHTMLElement(_e),nt=getDocumentElement(_e);if(_e===nt)return j;let rt={scrollLeft:0,scrollTop:0},st=createCoords(1);const at=createCoords(0);if((tt||!tt&&et!=="fixed")&&((getNodeName(_e)!=="body"||isOverflowElement(nt))&&(rt=getNodeScroll(_e)),isHTMLElement(_e))){const ut=getBoundingClientRect(_e);st=getScale(_e),at.x=ut.x+_e.clientLeft,at.y=ut.y+_e.clientTop}return{width:j.width*st.x,height:j.height*st.y,x:j.x*st.x-rt.scrollLeft*st.x+at.x,y:j.y*st.y-rt.scrollTop*st.y+at.y}}function getClientRects($){return Array.from($.getClientRects())}function getWindowScrollBarX($){return getBoundingClientRect(getDocumentElement($)).left+getNodeScroll($).scrollLeft}function getDocumentRect($){const j=getDocumentElement($),_e=getNodeScroll($),et=$.ownerDocument.body,tt=max(j.scrollWidth,j.clientWidth,et.scrollWidth,et.clientWidth),nt=max(j.scrollHeight,j.clientHeight,et.scrollHeight,et.clientHeight);let rt=-_e.scrollLeft+getWindowScrollBarX($);const st=-_e.scrollTop;return getComputedStyle$1(et).direction==="rtl"&&(rt+=max(j.clientWidth,et.clientWidth)-tt),{width:tt,height:nt,x:rt,y:st}}function getViewportRect($,j){const _e=getWindow($),et=getDocumentElement($),tt=_e.visualViewport;let nt=et.clientWidth,rt=et.clientHeight,st=0,at=0;if(tt){nt=tt.width,rt=tt.height;const ut=isWebKit();(!ut||ut&&j==="fixed")&&(st=tt.offsetLeft,at=tt.offsetTop)}return{width:nt,height:rt,x:st,y:at}}function getInnerBoundingClientRect($,j){const _e=getBoundingClientRect($,!0,j==="fixed"),et=_e.top+$.clientTop,tt=_e.left+$.clientLeft,nt=isHTMLElement($)?getScale($):createCoords(1),rt=$.clientWidth*nt.x,st=$.clientHeight*nt.y,at=tt*nt.x,ut=et*nt.y;return{width:rt,height:st,x:at,y:ut}}function getClientRectFromClippingAncestor($,j,_e){let et;if(j==="viewport")et=getViewportRect($,_e);else if(j==="document")et=getDocumentRect(getDocumentElement($));else if(isElement(j))et=getInnerBoundingClientRect(j,_e);else{const tt=getVisualOffsets($);et={...j,x:j.x-tt.x,y:j.y-tt.y}}return rectToClientRect(et)}function hasFixedPositionAncestor($,j){const _e=getParentNode($);return _e===j||!isElement(_e)||isLastTraversableNode(_e)?!1:getComputedStyle$1(_e).position==="fixed"||hasFixedPositionAncestor(_e,j)}function getClippingElementAncestors($,j){const _e=j.get($);if(_e)return _e;let et=getOverflowAncestors($,[],!1).filter(st=>isElement(st)&&getNodeName(st)!=="body"),tt=null;const nt=getComputedStyle$1($).position==="fixed";let rt=nt?getParentNode($):$;for(;isElement(rt)&&!isLastTraversableNode(rt);){const st=getComputedStyle$1(rt),at=isContainingBlock(rt);!at&&st.position==="fixed"&&(tt=null),(nt?!at&&!tt:!at&&st.position==="static"&&!!tt&&["absolute","fixed"].includes(tt.position)||isOverflowElement(rt)&&!at&&hasFixedPositionAncestor($,rt))?et=et.filter(dt=>dt!==rt):tt=st,rt=getParentNode(rt)}return j.set($,et),et}function getClippingRect($){let{element:j,boundary:_e,rootBoundary:et,strategy:tt}=$;const rt=[..._e==="clippingAncestors"?getClippingElementAncestors(j,this._c):[].concat(_e),et],st=rt[0],at=rt.reduce((ut,dt)=>{const ot=getClientRectFromClippingAncestor(j,dt,tt);return ut.top=max(ot.top,ut.top),ut.right=min(ot.right,ut.right),ut.bottom=min(ot.bottom,ut.bottom),ut.left=max(ot.left,ut.left),ut},getClientRectFromClippingAncestor(j,st,tt));return{width:at.right-at.left,height:at.bottom-at.top,x:at.left,y:at.top}}function getDimensions($){return getCssDimensions($)}function getRectRelativeToOffsetParent($,j,_e){const et=isHTMLElement(j),tt=getDocumentElement(j),nt=_e==="fixed",rt=getBoundingClientRect($,!0,nt,j);let st={scrollLeft:0,scrollTop:0};const at=createCoords(0);if(et||!et&&!nt)if((getNodeName(j)!=="body"||isOverflowElement(tt))&&(st=getNodeScroll(j)),et){const ut=getBoundingClientRect(j,!0,nt,j);at.x=ut.x+j.clientLeft,at.y=ut.y+j.clientTop}else tt&&(at.x=getWindowScrollBarX(tt));return{x:rt.left+st.scrollLeft-at.x,y:rt.top+st.scrollTop-at.y,width:rt.width,height:rt.height}}function getTrueOffsetParent($,j){return!isHTMLElement($)||getComputedStyle$1($).position==="fixed"?null:j?j($):$.offsetParent}function getOffsetParent($,j){const _e=getWindow($);if(!isHTMLElement($))return _e;let et=getTrueOffsetParent($,j);for(;et&&isTableElement(et)&&getComputedStyle$1(et).position==="static";)et=getTrueOffsetParent(et,j);return et&&(getNodeName(et)==="html"||getNodeName(et)==="body"&&getComputedStyle$1(et).position==="static"&&!isContainingBlock(et))?_e:et||getContainingBlock($)||_e}const getElementRects=async function($){let{reference:j,floating:_e,strategy:et}=$;const tt=this.getOffsetParent||getOffsetParent,nt=this.getDimensions;return{reference:getRectRelativeToOffsetParent(j,await tt(_e),et),floating:{x:0,y:0,...await nt(_e)}}};function isRTL($){return getComputedStyle$1($).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove($,j){let _e=null,et;const tt=getDocumentElement($);function nt(){clearTimeout(et),_e&&_e.disconnect(),_e=null}function rt(st,at){st===void 0&&(st=!1),at===void 0&&(at=1),nt();const{left:ut,top:dt,width:ot,height:lt}=$.getBoundingClientRect();if(st||j(),!ot||!lt)return;const ft=floor(dt),ht=floor(tt.clientWidth-(ut+ot)),vt=floor(tt.clientHeight-(dt+lt)),bt=floor(ut),xt={rootMargin:-ft+"px "+-ht+"px "+-vt+"px "+-bt+"px",threshold:max(0,min(1,at))||1};let Et=!0;function At(kt){const Lt=kt[0].intersectionRatio;if(Lt!==at){if(!Et)return rt();Lt?rt(!1,Lt):et=setTimeout(()=>{rt(!1,1e-7)},100)}Et=!1}try{_e=new IntersectionObserver(At,{...xt,root:tt.ownerDocument})}catch{_e=new IntersectionObserver(At,xt)}_e.observe($)}return rt(!0),nt}function autoUpdate($,j,_e,et){et===void 0&&(et={});const{ancestorScroll:tt=!0,ancestorResize:nt=!0,elementResize:rt=typeof ResizeObserver=="function",layoutShift:st=typeof IntersectionObserver=="function",animationFrame:at=!1}=et,ut=unwrapElement($),dt=tt||nt?[...ut?getOverflowAncestors(ut):[],...getOverflowAncestors(j)]:[];dt.forEach(mt=>{tt&&mt.addEventListener("scroll",_e,{passive:!0}),nt&&mt.addEventListener("resize",_e)});const ot=ut&&st?observeMove(ut,_e):null;let lt=-1,ft=null;rt&&(ft=new ResizeObserver(mt=>{let[xt]=mt;xt&&xt.target===ut&&ft&&(ft.unobserve(j),cancelAnimationFrame(lt),lt=requestAnimationFrame(()=>{ft&&ft.observe(j)})),_e()}),ut&&!at&&ft.observe(ut),ft.observe(j));let ht,vt=at?getBoundingClientRect($):null;at&&bt();function bt(){const mt=getBoundingClientRect($);vt&&(mt.x!==vt.x||mt.y!==vt.y||mt.width!==vt.width||mt.height!==vt.height)&&_e(),vt=mt,ht=requestAnimationFrame(bt)}return _e(),()=>{dt.forEach(mt=>{tt&&mt.removeEventListener("scroll",_e),nt&&mt.removeEventListener("resize",_e)}),ot&&ot(),ft&&ft.disconnect(),ft=null,at&&cancelAnimationFrame(ht)}}const computePosition=($,j,_e)=>{const et=new Map,tt={platform,..._e},nt={...tt.platform,_c:et};return computePosition$1($,j,{...tt,platform:nt})},arrow=$=>{function j(_e){return{}.hasOwnProperty.call(_e,"current")}return{name:"arrow",options:$,fn(_e){const{element:et,padding:tt}=typeof $=="function"?$(_e):$;return et&&j(et)?et.current!=null?arrow$1({element:et.current,padding:tt}).fn(_e):{}:et?arrow$1({element:et,padding:tt}).fn(_e):{}}}};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual($,j){if($===j)return!0;if(typeof $!=typeof j)return!1;if(typeof $=="function"&&$.toString()===j.toString())return!0;let _e,et,tt;if($&&j&&typeof $=="object"){if(Array.isArray($)){if(_e=$.length,_e!=j.length)return!1;for(et=_e;et--!==0;)if(!deepEqual($[et],j[et]))return!1;return!0}if(tt=Object.keys($),_e=tt.length,_e!==Object.keys(j).length)return!1;for(et=_e;et--!==0;)if(!{}.hasOwnProperty.call(j,tt[et]))return!1;for(et=_e;et--!==0;){const nt=tt[et];if(!(nt==="_owner"&&$.$$typeof)&&!deepEqual($[nt],j[nt]))return!1}return!0}return $!==$&&j!==j}function getDPR($){return typeof window>"u"?1:($.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR($,j){const _e=getDPR($);return Math.round(j*_e)/_e}function useLatestRef($){const j=reactExports.useRef($);return index(()=>{j.current=$}),j}function useFloating($){$===void 0&&($={});const{placement:j="bottom",strategy:_e="absolute",middleware:et=[],platform:tt,elements:{reference:nt,floating:rt}={},transform:st=!0,whileElementsMounted:at,open:ut}=$,[dt,ot]=reactExports.useState({x:0,y:0,strategy:_e,placement:j,middlewareData:{},isPositioned:!1}),[lt,ft]=reactExports.useState(et);deepEqual(lt,et)||ft(et);const[ht,vt]=reactExports.useState(null),[bt,mt]=reactExports.useState(null),xt=reactExports.useCallback(on=>{on!=Lt.current&&(Lt.current=on,vt(on))},[vt]),Et=reactExports.useCallback(on=>{on!==wt.current&&(wt.current=on,mt(on))},[mt]),At=nt||ht,kt=rt||bt,Lt=reactExports.useRef(null),wt=reactExports.useRef(null),Pt=reactExports.useRef(dt),Bt=useLatestRef(at),Vt=useLatestRef(tt),Xt=reactExports.useCallback(()=>{if(!Lt.current||!wt.current)return;const on={placement:j,strategy:_e,middleware:lt};Vt.current&&(on.platform=Vt.current),computePosition(Lt.current,wt.current,on).then(hn=>{const Kt={...hn,isPositioned:!0};pn.current&&!deepEqual(Pt.current,Kt)&&(Pt.current=Kt,reactDomExports.flushSync(()=>{ot(Kt)}))})},[lt,j,_e,Vt]);index(()=>{ut===!1&&Pt.current.isPositioned&&(Pt.current.isPositioned=!1,ot(on=>({...on,isPositioned:!1})))},[ut]);const pn=reactExports.useRef(!1);index(()=>(pn.current=!0,()=>{pn.current=!1}),[]),index(()=>{if(At&&(Lt.current=At),kt&&(wt.current=kt),At&&kt){if(Bt.current)return Bt.current(At,kt,Xt);Xt()}},[At,kt,Xt,Bt]);const En=reactExports.useMemo(()=>({reference:Lt,floating:wt,setReference:xt,setFloating:Et}),[xt,Et]),Yt=reactExports.useMemo(()=>({reference:At,floating:kt}),[At,kt]),rn=reactExports.useMemo(()=>{const on={position:_e,left:0,top:0};if(!Yt.floating)return on;const hn=roundByDPR(Yt.floating,dt.x),Kt=roundByDPR(Yt.floating,dt.y);return st?{...on,transform:"translate("+hn+"px, "+Kt+"px)",...getDPR(Yt.floating)>=1.5&&{willChange:"transform"}}:{position:_e,left:hn,top:Kt}},[_e,st,Yt.floating,dt.x,dt.y]);return reactExports.useMemo(()=>({...dt,update:Xt,refs:En,elements:Yt,floatingStyles:rn}),[dt,Xt,En,Yt,rn])}var NAME="Arrow",Arrow$1=reactExports.forwardRef(($,j)=>{const{children:_e,width:et=10,height:tt=5,...nt}=$;return jsxRuntimeExports.jsx(Primitive.svg,{...nt,ref:j,width:et,height:tt,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:$.asChild?_e:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME;var Root$2=Arrow$1;function useSize($){const[j,_e]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if($){_e({width:$.offsetWidth,height:$.offsetHeight});const et=new ResizeObserver(tt=>{if(!Array.isArray(tt)||!tt.length)return;const nt=tt[0];let rt,st;if("borderBoxSize"in nt){const at=nt.borderBoxSize,ut=Array.isArray(at)?at[0]:at;rt=ut.inlineSize,st=ut.blockSize}else rt=$.offsetWidth,st=$.offsetHeight;_e({width:rt,height:st})});return et.observe($,{box:"border-box"}),()=>et.unobserve($)}else _e(void 0)},[$]),j}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=$=>{const{__scopePopper:j,children:_e}=$,[et,tt]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:j,anchor:et,onAnchorChange:tt,children:_e})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$1="PopperAnchor",PopperAnchor=reactExports.forwardRef(($,j)=>{const{__scopePopper:_e,virtualRef:et,...tt}=$,nt=usePopperContext(ANCHOR_NAME$1,_e),rt=reactExports.useRef(null),st=useComposedRefs(j,rt);return reactExports.useEffect(()=>{nt.onAnchorChange((et==null?void 0:et.current)||rt.current)}),et?null:jsxRuntimeExports.jsx(Primitive.div,{...tt,ref:st})});PopperAnchor.displayName=ANCHOR_NAME$1;var CONTENT_NAME$3="PopperContent",[PopperContentProvider,useContentContext]=createPopperContext(CONTENT_NAME$3),PopperContent=reactExports.forwardRef(($,j)=>{var yn,Mn,nn,Bn,tr,kn;const{__scopePopper:_e,side:et="bottom",sideOffset:tt=0,align:nt="center",alignOffset:rt=0,arrowPadding:st=0,avoidCollisions:at=!0,collisionBoundary:ut=[],collisionPadding:dt=0,sticky:ot="partial",hideWhenDetached:lt=!1,updatePositionStrategy:ft="optimized",onPlaced:ht,...vt}=$,bt=usePopperContext(CONTENT_NAME$3,_e),[mt,xt]=reactExports.useState(null),Et=useComposedRefs(j,Kn=>xt(Kn)),[At,kt]=reactExports.useState(null),Lt=useSize(At),wt=(Lt==null?void 0:Lt.width)??0,Pt=(Lt==null?void 0:Lt.height)??0,Bt=et+(nt!=="center"?"-"+nt:""),Vt=typeof dt=="number"?dt:{top:0,right:0,bottom:0,left:0,...dt},Xt=Array.isArray(ut)?ut:[ut],pn=Xt.length>0,En={padding:Vt,boundary:Xt.filter(isNotNull),altBoundary:pn},{refs:Yt,floatingStyles:rn,placement:on,isPositioned:hn,middlewareData:Kt}=useFloating({strategy:"fixed",placement:Bt,whileElementsMounted:(...Kn)=>autoUpdate(...Kn,{animationFrame:ft==="always"}),elements:{reference:bt.anchor},middleware:[offset({mainAxis:tt+Pt,alignmentAxis:rt}),at&&shift({mainAxis:!0,crossAxis:!1,limiter:ot==="partial"?limitShift():void 0,...En}),at&&flip({...En}),size({...En,apply:({elements:Kn,rects:lr,availableWidth:Zn,availableHeight:Nr})=>{const{width:Vr,height:qr}=lr.reference,xn=Kn.floating.style;xn.setProperty("--radix-popper-available-width",`${Zn}px`),xn.setProperty("--radix-popper-available-height",`${Nr}px`),xn.setProperty("--radix-popper-anchor-width",`${Vr}px`),xn.setProperty("--radix-popper-anchor-height",`${qr}px`)}}),At&&arrow({element:At,padding:st}),transformOrigin({arrowWidth:wt,arrowHeight:Pt}),lt&&hide({strategy:"referenceHidden",...En})]}),[Qt,sn]=getSideAndAlignFromPlacement(on),tn=useCallbackRef$1(ht);useLayoutEffect2(()=>{hn&&(tn==null||tn())},[hn,tn]);const dn=(yn=Kt.arrow)==null?void 0:yn.x,wn=(Mn=Kt.arrow)==null?void 0:Mn.y,bn=((nn=Kt.arrow)==null?void 0:nn.centerOffset)!==0,[_n,Sn]=reactExports.useState();return useLayoutEffect2(()=>{mt&&Sn(window.getComputedStyle(mt).zIndex)},[mt]),jsxRuntimeExports.jsx("div",{ref:Yt.setFloating,"data-radix-popper-content-wrapper":"",style:{...rn,transform:hn?rn.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_n,"--radix-popper-transform-origin":[(Bn=Kt.transformOrigin)==null?void 0:Bn.x,(tr=Kt.transformOrigin)==null?void 0:tr.y].join(" "),...((kn=Kt.hide)==null?void 0:kn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:$.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:_e,placedSide:Qt,onArrowChange:kt,arrowX:dn,arrowY:wn,shouldHideArrow:bn,children:jsxRuntimeExports.jsx(Primitive.div,{"data-side":Qt,"data-align":sn,...vt,ref:Et,style:{...vt.style,animation:hn?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$3;var ARROW_NAME$2="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function $(j,_e){const{__scopePopper:et,...tt}=j,nt=useContentContext(ARROW_NAME$2,et),rt=OPPOSITE_SIDE[nt.placedSide];return jsxRuntimeExports.jsx("span",{ref:nt.onArrowChange,style:{position:"absolute",left:nt.arrowX,top:nt.arrowY,[rt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[nt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[nt.placedSide],visibility:nt.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$2,{...tt,ref:_e,style:{...tt.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$2;function isNotNull($){return $!==null}var transformOrigin=$=>({name:"transformOrigin",options:$,fn(j){var bt,mt,xt;const{placement:_e,rects:et,middlewareData:tt}=j,rt=((bt=tt.arrow)==null?void 0:bt.centerOffset)!==0,st=rt?0:$.arrowWidth,at=rt?0:$.arrowHeight,[ut,dt]=getSideAndAlignFromPlacement(_e),ot={start:"0%",center:"50%",end:"100%"}[dt],lt=(((mt=tt.arrow)==null?void 0:mt.x)??0)+st/2,ft=(((xt=tt.arrow)==null?void 0:xt.y)??0)+at/2;let ht="",vt="";return ut==="bottom"?(ht=rt?ot:`${lt}px`,vt=`${-at}px`):ut==="top"?(ht=rt?ot:`${lt}px`,vt=`${et.floating.height+at}px`):ut==="right"?(ht=`${-at}px`,vt=rt?ot:`${ft}px`):ut==="left"&&(ht=`${et.floating.width+at}px`,vt=rt?ot:`${ft}px`),{data:{x:ht,y:vt}}}});function getSideAndAlignFromPlacement($){const[j,_e="center"]=$.split("-");return[j,_e]}var Root2$2=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow,ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$2,useCollection$2,createCollectionScope$2]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$2]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef(($,j)=>jsxRuntimeExports.jsx(Collection$2.Provider,{scope:$.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$2.Slot,{scope:$.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...$,ref:j})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef(($,j)=>{const{__scopeRovingFocusGroup:_e,orientation:et,loop:tt=!1,dir:nt,currentTabStopId:rt,defaultCurrentTabStopId:st,onCurrentTabStopIdChange:at,onEntryFocus:ut,preventScrollOnEntryFocus:dt=!1,...ot}=$,lt=reactExports.useRef(null),ft=useComposedRefs(j,lt),ht=useDirection(nt),[vt=null,bt]=useControllableState({prop:rt,defaultProp:st,onChange:at}),[mt,xt]=reactExports.useState(!1),Et=useCallbackRef$1(ut),At=useCollection$2(_e),kt=reactExports.useRef(!1),[Lt,wt]=reactExports.useState(0);return reactExports.useEffect(()=>{const Pt=lt.current;if(Pt)return Pt.addEventListener(ENTRY_FOCUS,Et),()=>Pt.removeEventListener(ENTRY_FOCUS,Et)},[Et]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:_e,orientation:et,dir:ht,loop:tt,currentTabStopId:vt,onItemFocus:reactExports.useCallback(Pt=>bt(Pt),[bt]),onItemShiftTab:reactExports.useCallback(()=>xt(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>wt(Pt=>Pt+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>wt(Pt=>Pt-1),[]),children:jsxRuntimeExports.jsx(Primitive.div,{tabIndex:mt||Lt===0?-1:0,"data-orientation":et,...ot,ref:ft,style:{outline:"none",...$.style},onMouseDown:composeEventHandlers($.onMouseDown,()=>{kt.current=!0}),onFocus:composeEventHandlers($.onFocus,Pt=>{const Bt=!kt.current;if(Pt.target===Pt.currentTarget&&Bt&&!mt){const Vt=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(Pt.currentTarget.dispatchEvent(Vt),!Vt.defaultPrevented){const Xt=At().filter(on=>on.focusable),pn=Xt.find(on=>on.active),En=Xt.find(on=>on.id===vt),rn=[pn,En,...Xt].filter(Boolean).map(on=>on.ref.current);focusFirst$1(rn,dt)}}kt.current=!1}),onBlur:composeEventHandlers($.onBlur,()=>xt(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef(($,j)=>{const{__scopeRovingFocusGroup:_e,focusable:et=!0,active:tt=!1,tabStopId:nt,...rt}=$,st=useId(),at=nt||st,ut=useRovingFocusContext(ITEM_NAME$2,_e),dt=ut.currentTabStopId===at,ot=useCollection$2(_e),{onFocusableItemAdd:lt,onFocusableItemRemove:ft}=ut;return reactExports.useEffect(()=>{if(et)return lt(),()=>ft()},[et,lt,ft]),jsxRuntimeExports.jsx(Collection$2.ItemSlot,{scope:_e,id:at,focusable:et,active:tt,children:jsxRuntimeExports.jsx(Primitive.span,{tabIndex:dt?0:-1,"data-orientation":ut.orientation,...rt,ref:j,onMouseDown:composeEventHandlers($.onMouseDown,ht=>{et?ut.onItemFocus(at):ht.preventDefault()}),onFocus:composeEventHandlers($.onFocus,()=>ut.onItemFocus(at)),onKeyDown:composeEventHandlers($.onKeyDown,ht=>{if(ht.key==="Tab"&&ht.shiftKey){ut.onItemShiftTab();return}if(ht.target!==ht.currentTarget)return;const vt=getFocusIntent(ht,ut.orientation,ut.dir);if(vt!==void 0){if(ht.metaKey||ht.ctrlKey||ht.altKey||ht.shiftKey)return;ht.preventDefault();let mt=ot().filter(xt=>xt.focusable).map(xt=>xt.ref.current);if(vt==="last")mt.reverse();else if(vt==="prev"||vt==="next"){vt==="prev"&&mt.reverse();const xt=mt.indexOf(ht.currentTarget);mt=ut.loop?wrapArray$1(mt,xt+1):mt.slice(xt+1)}setTimeout(()=>focusFirst$1(mt))}})})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey($,j){return j!=="rtl"?$:$==="ArrowLeft"?"ArrowRight":$==="ArrowRight"?"ArrowLeft":$}function getFocusIntent($,j,_e){const et=getDirectionAwareKey($.key,_e);if(!(j==="vertical"&&["ArrowLeft","ArrowRight"].includes(et))&&!(j==="horizontal"&&["ArrowUp","ArrowDown"].includes(et)))return MAP_KEY_TO_FOCUS_INTENT[et]}function focusFirst$1($,j=!1){const _e=document.activeElement;for(const et of $)if(et===_e||(et.focus({preventScroll:j}),document.activeElement!==_e))return}function wrapArray$1($,j){return $.map((_e,et)=>$[(j+et)%$.length])}var Root$1=RovingFocusGroup,Item=RovingFocusGroupItem,SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope$1,createPopperScope,createRovingFocusGroupScope]),usePopperScope=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu=$=>{const{__scopeMenu:j,open:_e=!1,children:et,dir:tt,onOpenChange:nt,modal:rt=!0}=$,st=usePopperScope(j),[at,ut]=reactExports.useState(null),dt=reactExports.useRef(!1),ot=useCallbackRef$1(nt),lt=useDirection(tt);return reactExports.useEffect(()=>{const ft=()=>{dt.current=!0,document.addEventListener("pointerdown",ht,{capture:!0,once:!0}),document.addEventListener("pointermove",ht,{capture:!0,once:!0})},ht=()=>dt.current=!1;return document.addEventListener("keydown",ft,{capture:!0}),()=>{document.removeEventListener("keydown",ft,{capture:!0}),document.removeEventListener("pointerdown",ht,{capture:!0}),document.removeEventListener("pointermove",ht,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$2,{...st,children:jsxRuntimeExports.jsx(MenuProvider,{scope:j,open:_e,onOpenChange:ot,content:at,onContentChange:ut,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:j,onClose:reactExports.useCallback(()=>ot(!1),[ot]),isUsingKeyboardRef:dt,dir:lt,modal:rt,children:et})})})};Menu.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,...et}=$,tt=usePopperScope(_e);return jsxRuntimeExports.jsx(Anchor,{...tt,...et,ref:j})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$2="MenuPortal",[PortalProvider,usePortalContext]=createMenuContext(PORTAL_NAME$2,{forceMount:void 0}),MenuPortal=$=>{const{__scopeMenu:j,forceMount:_e,children:et,container:tt}=$,nt=useMenuContext(PORTAL_NAME$2,j);return jsxRuntimeExports.jsx(PortalProvider,{scope:j,forceMount:_e,children:jsxRuntimeExports.jsx(Presence,{present:_e||nt.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:tt,children:et})})})};MenuPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$2="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$2),MenuContent=reactExports.forwardRef(($,j)=>{const _e=usePortalContext(CONTENT_NAME$2,$.__scopeMenu),{forceMount:et=_e.forceMount,...tt}=$,nt=useMenuContext(CONTENT_NAME$2,$.__scopeMenu),rt=useMenuRootContext(CONTENT_NAME$2,$.__scopeMenu);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:$.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:$.__scopeMenu,children:rt.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...tt,ref:j}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...tt,ref:j})})})})}),MenuRootContentModal=reactExports.forwardRef(($,j)=>{const _e=useMenuContext(CONTENT_NAME$2,$.__scopeMenu),et=reactExports.useRef(null),tt=useComposedRefs(j,et);return reactExports.useEffect(()=>{const nt=et.current;if(nt)return hideOthers(nt)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...$,ref:tt,trapFocus:_e.open,disableOutsidePointerEvents:_e.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers($.onFocusOutside,nt=>nt.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>_e.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef(($,j)=>{const _e=useMenuContext(CONTENT_NAME$2,$.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...$,ref:j,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>_e.onOpenChange(!1)})}),MenuContentImpl=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,loop:et=!1,trapFocus:tt,onOpenAutoFocus:nt,onCloseAutoFocus:rt,disableOutsidePointerEvents:st,onEntryFocus:at,onEscapeKeyDown:ut,onPointerDownOutside:dt,onFocusOutside:ot,onInteractOutside:lt,onDismiss:ft,disableOutsideScroll:ht,...vt}=$,bt=useMenuContext(CONTENT_NAME$2,_e),mt=useMenuRootContext(CONTENT_NAME$2,_e),xt=usePopperScope(_e),Et=useRovingFocusGroupScope(_e),At=useCollection$1(_e),[kt,Lt]=reactExports.useState(null),wt=reactExports.useRef(null),Pt=useComposedRefs(j,wt,bt.onContentChange),Bt=reactExports.useRef(0),Vt=reactExports.useRef(""),Xt=reactExports.useRef(0),pn=reactExports.useRef(null),En=reactExports.useRef("right"),Yt=reactExports.useRef(0),rn=ht?ReactRemoveScroll:reactExports.Fragment,on=ht?{as:Slot,allowPinchZoom:!0}:void 0,hn=Qt=>{var yn,Mn;const sn=Vt.current+Qt,tn=At().filter(nn=>!nn.disabled),dn=document.activeElement,wn=(yn=tn.find(nn=>nn.ref.current===dn))==null?void 0:yn.textValue,bn=tn.map(nn=>nn.textValue),_n=getNextMatch(bn,sn,wn),Sn=(Mn=tn.find(nn=>nn.textValue===_n))==null?void 0:Mn.ref.current;(function nn(Bn){Vt.current=Bn,window.clearTimeout(Bt.current),Bn!==""&&(Bt.current=window.setTimeout(()=>nn(""),1e3))})(sn),Sn&&setTimeout(()=>Sn.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(Bt.current),[]),useFocusGuards();const Kt=reactExports.useCallback(Qt=>{var tn,dn;return En.current===((tn=pn.current)==null?void 0:tn.side)&&isPointerInGraceArea(Qt,(dn=pn.current)==null?void 0:dn.area)},[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:_e,searchRef:Vt,onItemEnter:reactExports.useCallback(Qt=>{Kt(Qt)&&Qt.preventDefault()},[Kt]),onItemLeave:reactExports.useCallback(Qt=>{var sn;Kt(Qt)||((sn=wt.current)==null||sn.focus(),Lt(null))},[Kt]),onTriggerLeave:reactExports.useCallback(Qt=>{Kt(Qt)&&Qt.preventDefault()},[Kt]),pointerGraceTimerRef:Xt,onPointerGraceIntentChange:reactExports.useCallback(Qt=>{pn.current=Qt},[]),children:jsxRuntimeExports.jsx(rn,{...on,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:tt,onMountAutoFocus:composeEventHandlers(nt,Qt=>{var sn;Qt.preventDefault(),(sn=wt.current)==null||sn.focus({preventScroll:!0})}),onUnmountAutoFocus:rt,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:st,onEscapeKeyDown:ut,onPointerDownOutside:dt,onFocusOutside:ot,onInteractOutside:lt,onDismiss:ft,children:jsxRuntimeExports.jsx(Root$1,{asChild:!0,...Et,dir:mt.dir,orientation:"vertical",loop:et,currentTabStopId:kt,onCurrentTabStopIdChange:Lt,onEntryFocus:composeEventHandlers(at,Qt=>{mt.isUsingKeyboardRef.current||Qt.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(bt.open),"data-radix-menu-content":"",dir:mt.dir,...xt,...vt,ref:Pt,style:{outline:"none",...vt.style},onKeyDown:composeEventHandlers(vt.onKeyDown,Qt=>{const tn=Qt.target.closest("[data-radix-menu-content]")===Qt.currentTarget,dn=Qt.ctrlKey||Qt.altKey||Qt.metaKey,wn=Qt.key.length===1;tn&&(Qt.key==="Tab"&&Qt.preventDefault(),!dn&&wn&&hn(Qt.key));const bn=wt.current;if(Qt.target!==bn||!FIRST_LAST_KEYS.includes(Qt.key))return;Qt.preventDefault();const Sn=At().filter(yn=>!yn.disabled).map(yn=>yn.ref.current);LAST_KEYS.includes(Qt.key)&&Sn.reverse(),focusFirst(Sn)}),onBlur:composeEventHandlers($.onBlur,Qt=>{Qt.currentTarget.contains(Qt.target)||(window.clearTimeout(Bt.current),Vt.current="")}),onPointerMove:composeEventHandlers($.onPointerMove,whenMouse(Qt=>{const sn=Qt.target,tn=Yt.current!==Qt.clientX;if(Qt.currentTarget.contains(sn)&&tn){const dn=Qt.clientX>Yt.current?"right":"left";En.current=dn,Yt.current=Qt.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$2;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,...et}=$;return jsxRuntimeExports.jsx(Primitive.div,{role:"group",...et,ref:j})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,...et}=$;return jsxRuntimeExports.jsx(Primitive.div,{...et,ref:j})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef(($,j)=>{const{disabled:_e=!1,onSelect:et,...tt}=$,nt=reactExports.useRef(null),rt=useMenuRootContext(ITEM_NAME$1,$.__scopeMenu),st=useMenuContentContext(ITEM_NAME$1,$.__scopeMenu),at=useComposedRefs(j,nt),ut=reactExports.useRef(!1),dt=()=>{const ot=nt.current;if(!_e&&ot){const lt=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});ot.addEventListener(ITEM_SELECT,ft=>et==null?void 0:et(ft),{once:!0}),dispatchDiscreteCustomEvent(ot,lt),lt.defaultPrevented?ut.current=!1:rt.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...tt,ref:at,disabled:_e,onClick:composeEventHandlers($.onClick,dt),onPointerDown:ot=>{var lt;(lt=$.onPointerDown)==null||lt.call($,ot),ut.current=!0},onPointerUp:composeEventHandlers($.onPointerUp,ot=>{var lt;ut.current||(lt=ot.currentTarget)==null||lt.click()}),onKeyDown:composeEventHandlers($.onKeyDown,ot=>{const lt=st.searchRef.current!=="";_e||lt&&ot.key===" "||SELECTION_KEYS.includes(ot.key)&&(ot.currentTarget.click(),ot.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,disabled:et=!1,textValue:tt,...nt}=$,rt=useMenuContentContext(ITEM_NAME$1,_e),st=useRovingFocusGroupScope(_e),at=reactExports.useRef(null),ut=useComposedRefs(j,at),[dt,ot]=reactExports.useState(!1),[lt,ft]=reactExports.useState("");return reactExports.useEffect(()=>{const ht=at.current;ht&&ft((ht.textContent??"").trim())},[nt.children]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:_e,disabled:et,textValue:tt??lt,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...st,focusable:!et,children:jsxRuntimeExports.jsx(Primitive.div,{role:"menuitem","data-highlighted":dt?"":void 0,"aria-disabled":et||void 0,"data-disabled":et?"":void 0,...nt,ref:ut,onPointerMove:composeEventHandlers($.onPointerMove,whenMouse(ht=>{et?rt.onItemLeave(ht):(rt.onItemEnter(ht),ht.defaultPrevented||ht.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers($.onPointerLeave,whenMouse(ht=>rt.onItemLeave(ht))),onFocus:composeEventHandlers($.onFocus,()=>ot(!0)),onBlur:composeEventHandlers($.onBlur,()=>ot(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef(($,j)=>{const{checked:_e=!1,onCheckedChange:et,...tt}=$;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:$.__scopeMenu,checked:_e,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(_e)?"mixed":_e,...tt,ref:j,"data-state":getCheckedState(_e),onSelect:composeEventHandlers(tt.onSelect,()=>et==null?void 0:et(isIndeterminate(_e)?!0:!_e),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef(($,j)=>{const{value:_e,onValueChange:et,...tt}=$,nt=useCallbackRef$1(et);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:$.__scopeMenu,value:_e,onValueChange:nt,children:jsxRuntimeExports.jsx(MenuGroup,{...tt,ref:j})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef(($,j)=>{const{value:_e,...et}=$,tt=useRadioGroupContext(RADIO_ITEM_NAME$1,$.__scopeMenu),nt=_e===tt.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:$.__scopeMenu,checked:nt,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":nt,...et,ref:j,"data-state":getCheckedState(nt),onSelect:composeEventHandlers(et.onSelect,()=>{var rt;return(rt=tt.onValueChange)==null?void 0:rt.call(tt,_e)},{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,forceMount:et,...tt}=$,nt=useItemIndicatorContext(ITEM_INDICATOR_NAME,_e);return jsxRuntimeExports.jsx(Presence,{present:et||isIndeterminate(nt.checked)||nt.checked===!0,children:jsxRuntimeExports.jsx(Primitive.span,{...tt,ref:j,"data-state":getCheckedState(nt.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,...et}=$;return jsxRuntimeExports.jsx(Primitive.div,{role:"separator","aria-orientation":"horizontal",...et,ref:j})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$1="MenuArrow",MenuArrow=reactExports.forwardRef(($,j)=>{const{__scopeMenu:_e,...et}=$,tt=usePopperScope(_e);return jsxRuntimeExports.jsx(Arrow,{...tt,...et,ref:j})});MenuArrow.displayName=ARROW_NAME$1;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef(($,j)=>{const _e=useMenuContext(SUB_TRIGGER_NAME$1,$.__scopeMenu),et=useMenuRootContext(SUB_TRIGGER_NAME$1,$.__scopeMenu),tt=useMenuSubContext(SUB_TRIGGER_NAME$1,$.__scopeMenu),nt=useMenuContentContext(SUB_TRIGGER_NAME$1,$.__scopeMenu),rt=reactExports.useRef(null),{pointerGraceTimerRef:st,onPointerGraceIntentChange:at}=nt,ut={__scopeMenu:$.__scopeMenu},dt=reactExports.useCallback(()=>{rt.current&&window.clearTimeout(rt.current),rt.current=null},[]);return reactExports.useEffect(()=>dt,[dt]),reactExports.useEffect(()=>{const ot=st.current;return()=>{window.clearTimeout(ot),at(null)}},[st,at]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...ut,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:tt.triggerId,"aria-haspopup":"menu","aria-expanded":_e.open,"aria-controls":tt.contentId,"data-state":getOpenState(_e.open),...$,ref:composeRefs(j,tt.onTriggerChange),onClick:ot=>{var lt;(lt=$.onClick)==null||lt.call($,ot),!($.disabled||ot.defaultPrevented)&&(ot.currentTarget.focus(),_e.open||_e.onOpenChange(!0))},onPointerMove:composeEventHandlers($.onPointerMove,whenMouse(ot=>{nt.onItemEnter(ot),!ot.defaultPrevented&&!$.disabled&&!_e.open&&!rt.current&&(nt.onPointerGraceIntentChange(null),rt.current=window.setTimeout(()=>{_e.onOpenChange(!0),dt()},100))})),onPointerLeave:composeEventHandlers($.onPointerLeave,whenMouse(ot=>{var ft,ht;dt();const lt=(ft=_e.content)==null?void 0:ft.getBoundingClientRect();if(lt){const vt=(ht=_e.content)==null?void 0:ht.dataset.side,bt=vt==="right",mt=bt?-5:5,xt=lt[bt?"left":"right"],Et=lt[bt?"right":"left"];nt.onPointerGraceIntentChange({area:[{x:ot.clientX+mt,y:ot.clientY},{x:xt,y:lt.top},{x:Et,y:lt.top},{x:Et,y:lt.bottom},{x:xt,y:lt.bottom}],side:vt}),window.clearTimeout(st.current),st.current=window.setTimeout(()=>nt.onPointerGraceIntentChange(null),300)}else{if(nt.onTriggerLeave(ot),ot.defaultPrevented)return;nt.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers($.onKeyDown,ot=>{var ft;const lt=nt.searchRef.current!=="";$.disabled||lt&&ot.key===" "||SUB_OPEN_KEYS[et.dir].includes(ot.key)&&(_e.onOpenChange(!0),(ft=_e.content)==null||ft.focus(),ot.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef(($,j)=>{const _e=usePortalContext(CONTENT_NAME$2,$.__scopeMenu),{forceMount:et=_e.forceMount,...tt}=$,nt=useMenuContext(CONTENT_NAME$2,$.__scopeMenu),rt=useMenuRootContext(CONTENT_NAME$2,$.__scopeMenu),st=useMenuSubContext(SUB_CONTENT_NAME$1,$.__scopeMenu),at=reactExports.useRef(null),ut=useComposedRefs(j,at);return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:$.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:et||nt.open,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:$.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:st.contentId,"aria-labelledby":st.triggerId,...tt,ref:ut,align:"start",side:rt.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:dt=>{var ot;rt.isUsingKeyboardRef.current&&((ot=at.current)==null||ot.focus()),dt.preventDefault()},onCloseAutoFocus:dt=>dt.preventDefault(),onFocusOutside:composeEventHandlers($.onFocusOutside,dt=>{dt.target!==st.trigger&&nt.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers($.onEscapeKeyDown,dt=>{rt.onClose(),dt.preventDefault()}),onKeyDown:composeEventHandlers($.onKeyDown,dt=>{var ft;const ot=dt.currentTarget.contains(dt.target),lt=SUB_CLOSE_KEYS[rt.dir].includes(dt.key);ot&&lt&&(nt.onOpenChange(!1),(ft=st.trigger)==null||ft.focus(),dt.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState($){return $?"open":"closed"}function isIndeterminate($){return $==="indeterminate"}function getCheckedState($){return isIndeterminate($)?"indeterminate":$?"checked":"unchecked"}function focusFirst($){const j=document.activeElement;for(const _e of $)if(_e===j||(_e.focus(),document.activeElement!==j))return}function wrapArray($,j){return $.map((_e,et)=>$[(j+et)%$.length])}function getNextMatch($,j,_e){const tt=j.length>1&&Array.from(j).every(ut=>ut===j[0])?j[0]:j,nt=_e?$.indexOf(_e):-1;let rt=wrapArray($,Math.max(nt,0));tt.length===1&&(rt=rt.filter(ut=>ut!==_e));const at=rt.find(ut=>ut.toLowerCase().startsWith(tt.toLowerCase()));return at!==_e?at:void 0}function isPointInPolygon($,j){const{x:_e,y:et}=$;let tt=!1;for(let nt=0,rt=j.length-1;nt<j.length;rt=nt++){const st=j[nt].x,at=j[nt].y,ut=j[rt].x,dt=j[rt].y;at>et!=dt>et&&_e<(ut-st)*(et-at)/(dt-at)+st&&(tt=!tt)}return tt}function isPointerInGraceArea($,j){if(!j)return!1;const _e={x:$.clientX,y:$.clientY};return isPointInPolygon(_e,j)}function whenMouse($){return j=>j.pointerType==="mouse"?$(j):void 0}var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext,createDropdownMenuScope]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu=$=>{const{__scopeDropdownMenu:j,children:_e,dir:et,open:tt,defaultOpen:nt,onOpenChange:rt,modal:st=!0}=$,at=useMenuScope(j),ut=reactExports.useRef(null),[dt=!1,ot]=useControllableState({prop:tt,defaultProp:nt,onChange:rt});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:j,triggerId:useId(),triggerRef:ut,contentId:useId(),open:dt,onOpenChange:ot,onOpenToggle:reactExports.useCallback(()=>ot(lt=>!lt),[ot]),modal:st,children:jsxRuntimeExports.jsx(Root3,{...at,open:dt,onOpenChange:ot,dir:et,modal:st,children:_e})})};DropdownMenu.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$1="DropdownMenuTrigger",DropdownMenuTrigger=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,disabled:et=!1,...tt}=$,nt=useDropdownMenuContext(TRIGGER_NAME$1,_e),rt=useMenuScope(_e);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...rt,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",id:nt.triggerId,"aria-haspopup":"menu","aria-expanded":nt.open,"aria-controls":nt.open?nt.contentId:void 0,"data-state":nt.open?"open":"closed","data-disabled":et?"":void 0,disabled:et,...tt,ref:composeRefs(j,nt.triggerRef),onPointerDown:composeEventHandlers($.onPointerDown,st=>{!et&&st.button===0&&st.ctrlKey===!1&&(nt.onOpenToggle(),nt.open||st.preventDefault())}),onKeyDown:composeEventHandlers($.onKeyDown,st=>{et||(["Enter"," "].includes(st.key)&&nt.onOpenToggle(),st.key==="ArrowDown"&&nt.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(st.key)&&st.preventDefault())})})})});DropdownMenuTrigger.displayName=TRIGGER_NAME$1;var PORTAL_NAME$1="DropdownMenuPortal",DropdownMenuPortal=$=>{const{__scopeDropdownMenu:j,..._e}=$,et=useMenuScope(j);return jsxRuntimeExports.jsx(Portal,{...et,..._e})};DropdownMenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$1="DropdownMenuContent",DropdownMenuContent=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useDropdownMenuContext(CONTENT_NAME$1,_e),nt=useMenuScope(_e),rt=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:tt.contentId,"aria-labelledby":tt.triggerId,...nt,...et,ref:j,onCloseAutoFocus:composeEventHandlers($.onCloseAutoFocus,st=>{var at;rt.current||(at=tt.triggerRef.current)==null||at.focus(),rt.current=!1,st.preventDefault()}),onInteractOutside:composeEventHandlers($.onInteractOutside,st=>{const at=st.detail.originalEvent,ut=at.button===0&&at.ctrlKey===!0,dt=at.button===2||ut;(!tt.modal||dt)&&(rt.current=!0)}),style:{...$.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent.displayName=CONTENT_NAME$1;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Group,{...tt,...et,ref:j})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Label,{...tt,...et,ref:j})});DropdownMenuLabel.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Item2$1,{...tt,...et,ref:j})});DropdownMenuItem.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(CheckboxItem,{...tt,...et,ref:j})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(RadioGroup,{...tt,...et,ref:j})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(RadioItem,{...tt,...et,ref:j})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(ItemIndicator,{...tt,...et,ref:j})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Separator,{...tt,...et,ref:j})});DropdownMenuSeparator.displayName=SEPARATOR_NAME;var ARROW_NAME="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(Arrow2,{...tt,...et,ref:j})});DropdownMenuArrow.displayName=ARROW_NAME;var SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(SubTrigger,{...tt,...et,ref:j})});DropdownMenuSubTrigger.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent=reactExports.forwardRef(($,j)=>{const{__scopeDropdownMenu:_e,...et}=$,tt=useMenuScope(_e);return jsxRuntimeExports.jsx(SubContent,{...tt,...et,ref:j,style:{...$.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName=SUB_CONTENT_NAME;var Root2$1=DropdownMenu,Trigger=DropdownMenuTrigger,Portal2$1=DropdownMenuPortal,Content2$1=DropdownMenuContent,Item2=DropdownMenuItem;function useEventListener($,j,_e=window,et){const tt=reactExports.useRef(),{capture:nt,passive:rt,once:st}=et||{};reactExports.useEffect(()=>{tt.current=j},[j]),reactExports.useEffect(()=>{if(!(_e&&_e.addEventListener))return;const ut=ot=>{tt.current&&tt.current(ot)},dt={capture:nt,passive:rt,once:st};return _e.addEventListener($,ut,dt),()=>{_e.removeEventListener($,ut)}},[$,_e,nt,rt,st])}function useClickCoordinates(){const[$,j]=reactExports.useState({x:0,y:0}),_e=reactExports.useCallback(({clientX:et,clientY:tt})=>{j({x:et,y:tt})},[j]);return useEventListener("mouseup",_e),useEventListener("touchend",_e),$}const menuContext=reactExports.createContext({item:{name:[],image:""},index:-1,displayIndex:-1}),QspMenu=({attrs:$,showAs:j,showAt:_e,offsetX:et,offsetY:tt,children:nt})=>{const[rt,st,at]=useAttributes($,"qsp-menu"),ut=useAtom_2(menu$),dt=useClickCoordinates(),ot={position:"fixed"},lt=useFadeTransition(ut.isOpen);let ft="start",ht="bottom";if(j==="fixed"){const[vt,bt]=(_e??"left top").split(" ");switch(vt){case"left":ot.left=et;break;case"center":ot.left=`calc(50% - ${et}px)`,ft="center";break;case"right":ot.right=et,ft="end";break}switch(bt){case"top":ot.top=tt;break;case"center":ot.top=`calc(50% - ${tt}px)`,ht="left";break;case"bottom":ot.bottom=tt,ht="top";break}}else ot.left=dt.x??0,ot.top=dt.y??0;return jsxRuntimeExports.jsxs(Root2$1,{open:ut.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:ot})}),lt((vt,bt)=>bt?jsxRuntimeExports.jsx(Portal2$1,{container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$1,{forceMount:!0,asChild:!0,align:ft,side:ht,loop:!0,children:jsxRuntimeExports.jsx(animated.div,{style:vt,children:jsxRuntimeExports.jsx(rt,{style:st,...at,children:nt})})})}):null)]})},QspMenuList=({attrs:$,children:j})=>{const _e=useAtom_2(menuWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-menu-list");let rt=1;return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((st,at)=>st.name[0]==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},st.key):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:st,index:at,displayIndex:rt++},children:React$1.Children.map(j,ut=>React$1.cloneElement(ut))},st.key))})},QspMenuItem=({attrs:$,children:j})=>{const[_e,et]=reactExports.useState(!1),[tt,nt,{useFormat:rt,...st}]=useAttributes($,"qsp-menu-item"),{item:at,index:ut}=reactExports.useContext(menuContext),dt={...nt,"--menu-item-image":at.image?`url("${at.image}")`:""},ot=()=>{et(!0)},lt=()=>{et(!1)},ft=ht=>{ht.preventDefault(),menu$.actions.select(ut)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(tt,{...st,style:dt,"data-qsp-selected":_e?"":null,onClick:ft,onMouseOver:ot,onMouseLeave:lt,children:j})})},QspMenuItemName=({attrs:$})=>{const{item:j}=reactExports.useContext(menuContext),[_e,et,tt]=useAttributes($,"qsp-menu-name");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx(Markup,{content:j.name})})},QspMenuItemImage=({attrs:$})=>{const{item:j}=reactExports.useContext(menuContext),[,_e,et]=useAttributes($,"img","qsp-menu-image");return j.image?jsxRuntimeExports.jsx("img",{alt:"",...et,style:_e,src:j.image}):null},QspMenuItemIndex=({attrs:$})=>{const{displayIndex:j}=reactExports.useContext(menuContext),[_e,et,tt]=useAttributes($,"qsp-menu-index");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})},QspMsg=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-msg"),nt=useAtom_2(msg$),rt=useFadeTransition(nt.isOpen);function st(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:st,cancelAction:st},children:jsxRuntimeExports.jsx(Root$4,{open:nt.isOpen,onOpenChange:st,children:rt((at,ut)=>ut?jsxRuntimeExports.jsxs(Portal$1,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:at,className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})})})]}):null)})})},QspMsgContent=({attrs:$})=>{const{content:j,key:_e}=useAtom_2(parsedMsgContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes($,"qsp-msg-content");return jsxRuntimeExports.jsx(Description,{asChild:!0,children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:j})}))})},objectContext=reactExports.createContext({object:{name:[],image:""},index:-1}),QspObjects=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-objects");return useAtom_2(isObjsVisible$)?jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j}):null},QspObjectsList=({attrs:$,children:j})=>{const _e=useAtom_2(objectsWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-objects-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,st)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:rt,index:st},children:React$1.Children.map(j,at=>React$1.cloneElement(at))},rt.key))})},QspObjectItem=({attrs:$,children:j})=>{const[_e,et]=reactExports.useState(!1),[tt,nt,{useFormat:rt,...st}]=useAttributes($,"qsp-object"),{object:at,index:ut}=reactExports.useContext(objectContext),dt={...nt,"--object-image":at.image?`url("${at.image}")`:""},ot=()=>{et(!0)},lt=()=>{et(!1)},ft=()=>{selectObject(ut)};return jsxRuntimeExports.jsx(tt,{...st,style:dt,"data-qsp-selected":_e?"":null,onClick:ft,onMouseOver:ot,onMouseLeave:lt,children:j})},QspObjectName=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-object-name"),{object:tt}=reactExports.useContext(objectContext);return jsxRuntimeExports.jsx(j,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt.name})})},QspObjectImage=({attrs:$})=>{const{object:j}=reactExports.useContext(objectContext),[_e,et,tt]=useAttributes($,"img","qsp-object-image");return j.image?jsxRuntimeExports.jsx(_e,{...tt,style:et,src:j.image}):null},QspObjectIndex=({attrs:$})=>{const{index:j}=reactExports.useContext(objectContext),[_e,et,tt]=useAttributes($,"qsp-object-index");return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:j+1})},QspPauseScreen=({attrs:$,children:j})=>{const _e=useAtom_2(isPauseScreenVisible$),et=useAtom_2(currentGameEntry$),[tt,nt,rt]=useAttributes($,"qsp-pause-screen"),st=useFadeTransition(_e);return jsxRuntimeExports.jsx(Root$4,{modal:!0,open:_e,onOpenChange:at=>at?openPauseScreen():closePauseScreen(),children:st((at,ut)=>ut?jsxRuntimeExports.jsxs(Portal$1,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{className:"qsp-dialog-container",style:at,children:jsxRuntimeExports.jsxs("div",{className:"qsp-pause-dialog",children:[jsxRuntimeExports.jsx(Title,{children:(et==null?void 0:et.title)||"Pause"}),jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:j})]})})})]}):null)})},QspPauseScreenContent=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-pause-screen-content"),nt=useAtom_2(requestedAction$);return jsxRuntimeExports.jsx(_e,{style:et,...tt,"data-requested-save-command":nt,children:j})},slotContentContext=reactExports.createContext({index:-1}),baseSlots$=atom($=>Array.from({length:$(saveSlotsCount$)},(j,_e)=>_e+1)),QspSlotsList=({attrs:$,children:j})=>{const _e=useAtom_2(baseSlots$),et=useAtom_2(saveSlots$),[tt,nt,rt]=useAttributes($,"qsp-slots-list");return jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:_e.map(st=>{const at=et.find(ut=>ut.slot===st);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:st,date:at==null?void 0:at.timestamp},children:React$1.Children.map(j,ut=>React$1.cloneElement(ut))},st)})})},QspSlot=({attrs:$,children:j})=>{const{index:_e,date:et}=reactExports.useContext(slotContentContext),[tt,nt,rt]=useAttributes($,"qsp-save-slot"),st={...nt,"--slot-index":`${_e}`};return jsxRuntimeExports.jsx(tt,{...rt,style:st,"data-qsp-save":!0,"data-qsp-save-index":_e,"data-save-empty":et?null:"",children:j})},QspSlotIndex=({attrs:$})=>{const{index:j}=reactExports.useContext(slotContentContext),[_e,et,tt]=useAttributes($,"qsp-slot-index");return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:j})},QspSlotDate=({children:$,attrs:j})=>{const{date:_e}=reactExports.useContext(slotContentContext),[et,tt,nt]=useAttributes(j,"qsp-slot-date");return _e?jsxRuntimeExports.jsx(et,{...nt,style:tt,children:formatDate(new Date(_e))}):jsxRuntimeExports.jsx(et,{...nt,style:tt,children:$})},QspPauseScreenPanel=({name:$,attrs:j,children:_e})=>{const[et,tt,nt]=useAttributes(j,"qsp-pause-screen-panel");return useAtom_2(pauseScreenCurrentPanel$)===$?jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e}):null},QspStats=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-stats"),nt=useAtom_2(isStatsVisible$),rt=useAtom_2(statsContent$),st=usePrevious$1(rt),at=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{at||(st&&rt!==st&&rt.startsWith(st)?statsScroll$.update(ut=>Math.max(ut,0)+1):statsScroll$.set(-1))},[st,rt]),nt?jsxRuntimeExports.jsx(scrollContext.Provider,{value:statsScroll$,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})}):null},QspStatsContent=({attrs:$})=>{const[j,_e,{useFormat:et,...tt}]=useAttributes($,"qsp-stats-content"),{content:nt,key:rt}=useAtom_2(parsedStatsContent$);return reactExports.createElement(j,{style:_e,...tt,key:rt},jsxRuntimeExports.jsx(Markup,{content:nt}))},QspView=({attrs:$,modal:j,children:_e})=>{const[et,tt,nt]=useAttributes($,"qsp-view"),rt=useAtom_2(view$),st={...tt,"--view-image":`url("${rt.path}")`};return j?jsxRuntimeExports.jsx(Root$4,{open:rt.isOpen,onOpenChange:()=>view$.actions.close(),children:jsxRuntimeExports.jsxs(Portal$1,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content$1,{className:"qsp-dialog-container",children:jsxRuntimeExports.jsx(et,{...nt,style:st,children:_e})})]})}):jsxRuntimeExports.jsx(et,{...nt,style:st,children:_e})},QspViewImage=({attrs:$})=>{const[,j,_e]=useAttributes($,"img","qsp-view-image"),et=useAtom_2(view$);return et.path?jsxRuntimeExports.jsx("img",{src:et.path,alt:"",style:j,..._e}):null},Link=({exec:$,act:j,children:_e,attrs:et})=>{const tt=reactExports.useCallback(st=>{st.preventDefault(),st.stopPropagation(),$?execCode($):j&&(selectAction(j-1),execSelectedAction())},[$,j]),[,nt,rt]=useAttributes(et,"a");return jsxRuntimeExports.jsx("a",{...rt,style:nt,href:"#",onClick:tt,children:_e})},HtmlLink=({children:$,attrs:j})=>{const[,_e,{href:et,...tt}]=useAttributes(j,"a"),nt=rt=>{if(tt.onClick)return tt.onClick(rt);et.startsWith("#")&&(rt.preventDefault(),et!=="#"&&(window.location.hash=et))};return jsxRuntimeExports.jsx("a",{target:"_blank",rel:"noreferrer",...tt,style:_e,href:et,onClick:nt,children:$})},voidTags=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],TAGS_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},Element$1=({attrs:$={},children:j=null,tagName:_e})=>{const et=_e in TAGS_MAP?TAGS_MAP[_e]:_e,[tt,nt,rt]=useAttributes($,et);return voidTags.includes(_e)?jsxRuntimeExports.jsx(tt,{style:nt,...rt}):jsxRuntimeExports.jsx(tt,{style:nt,...rt,children:j})},QspT=({children:$})=>{const[j]=useTranslation();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:j($)})},QspMain=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-main"),nt=useAtom_2(mainContent$),rt=useAtom_2(isNewLoc$),st=useQspVariable("DISABLESCROLL","",0,0);return reactExports.useEffect(()=>{st||mainScroll$.update(at=>rt?-1:Math.max(at,0)+1)},[rt,nt]),jsxRuntimeExports.jsx(scrollContext.Provider,{value:mainScroll$,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})})},QspMainContent=({attrs:$})=>{const{key:j,content:_e}=useAtom_2(parsedMainContent$),et=useAtom_2(newLocHash$),[tt,nt,{useFormat:rt,...st}]=useAttributes($,"qsp-main-content");return reactExports.useEffect(()=>{mainContent$.set(nextMainContent$.value)},[et]),reactExports.createElement(tt,{style:nt,...st,key:j},jsxRuntimeExports.jsx(Markup,{content:_e}))};function useQspBind($,j,_e){return[useQspVariable($,j,_e,""),nt=>{var ot;const st=nt.target.type==="checkbox"?nt.target.checked?nt.target.value:"":nt.target.value,at=[$];(j||_e)&&(at.push("["),j?at.push(`"${j}"`):at.push(String(_e)),at.push("]"));const ut=at.join(""),dt=ut.startsWith("$")?`"${st}"`:st||0;(ot=qspApi$.value)==null||ot.execCode(`${ut} = ${dt}`)}]}const QspBoundSelect=({attributes:$,style:j,bind:_e,bindKey:et,bindIndex:tt,children:nt})=>{const[rt,st]=useQspBind(_e,et,tt);return jsxRuntimeExports.jsx("select",{...$,style:j,value:rt,onChange:st,children:nt})},HtmlSelect=({attrs:$,children:j})=>{const[,_e,{value:et,qspBind:tt,qspBindKey:nt,qspBindIndex:rt,...st}]=useAttributes($,"select");if(tt){const at=parseInt(rt||"0",10);return jsxRuntimeExports.jsx(QspBoundSelect,{attributes:st,style:_e,bind:tt,bindKey:nt,bindIndex:at,children:j})}return jsxRuntimeExports.jsx("select",{...st,style:_e,defaultValue:et,children:j})},QspBoundTextarea=({attributes:$,style:j,bind:_e,bindKey:et,bindIndex:tt})=>{const[nt,rt]=useQspBind(_e,et,tt);return jsxRuntimeExports.jsx("textarea",{...$,style:j,value:nt,onChange:rt})},HtmlTextarea=({attrs:$})=>{const[,j,{value:_e,qspBind:et,qspBindKey:tt,qspBindIndex:nt,...rt}]=useAttributes($,"textarea");if(et){const st=parseInt(nt||"0",10);return jsxRuntimeExports.jsx(QspBoundTextarea,{attributes:rt,style:j,bind:et,bindKey:tt,bindIndex:st})}return jsxRuntimeExports.jsx("textarea",{...rt,style:j,defaultValue:_e})},QspBoundInput=({attributes:$,style:j,bind:_e,bindKey:et,bindIndex:tt,value:nt})=>{const[rt,st]=useQspBind(_e,et,tt),at=$.type||"text";return at==="radio"?jsxRuntimeExports.jsx("input",{...$,style:j,type:"radio",value:nt,checked:rt===nt,onChange:st}):at==="checkbox"?jsxRuntimeExports.jsx("input",{...$,style:j,type:"checkbox",value:nt,checked:!!rt,onChange:st}):jsxRuntimeExports.jsx("input",{...$,style:j,value:rt,onChange:st})},HtmlInput=({attrs:$})=>{const[,j,{value:_e,qspBind:et,qspBindKey:tt,qspBindIndex:nt,...rt}]=useAttributes($,"input");if(et){const st=parseInt(nt||"0",10);return jsxRuntimeExports.jsx(QspBoundInput,{attributes:rt,style:j,bind:et,bindKey:tt,bindIndex:st,value:_e})}return jsxRuntimeExports.jsx("input",{...rt,style:j,defaultValue:_e})},HtmlForm=({attrs:$,children:j})=>{const[,_e,et]=useAttributes($,"form"),tt=et["qspOn:submit"];delete et["qspOn:submit"];function nt(rt){var st;rt.preventDefault(),tt!=null&&tt.toLowerCase().startsWith("exec:")&&((st=qspApi$.value)==null||st.execCode(tt.substring(5)))}return jsxRuntimeExports.jsx("form",{...et,style:_e,onSubmit:nt,children:j})},HtmlImg=({attrs:$,src:j})=>{const[,_e,et]=useAttributes($,"img");return jsxRuntimeExports.jsx("img",{src:j.replace("\\","/"),alt:"",style:_e,...et})},QspLayer=$=>{const j=useSetup(rt=>{const st=atom(at=>at(rt).name);return atom(at=>at(layers$)[at(st)])},$),_e=useAtom_2(j),[et,tt,nt]=useAttributes($.attrs,"qsp-layer");return reactExports.useEffect(()=>registerLayer($.name),[]),_e?(tt.zIndex=$.index,jsxRuntimeExports.jsx(et,{...nt,style:tt,"data-layer-name":$.name,children:$.children})):null},QspRegion=$=>{const j=useSetup(st=>{const at=atom(ut=>ut(st).name);return atom(ut=>templateParser.parse(ut(regions$)[ut(at)]))},$),_e=useSetup(st=>{const at=atom(ut=>ut(st).name);return atom(ut=>ut(regionsScroll$)[ut(at)]??0)},$),et=useAtom_2(j),[tt,nt,rt]=useAttributes($.attrs,"qsp-region");return $.scrollable?jsxRuntimeExports.jsx(scrollContext.Provider,{value:_e,children:jsxRuntimeExports.jsx(tt,{"data-region-name":$.name,style:nt,...rt,children:jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:et})})})}):jsxRuntimeExports.jsx(tt,{"data-region-name":$.name,style:nt,...rt,children:jsxRuntimeExports.jsx(Markup,{content:et})})},QspShow=({variable:$,condition:j,children:_e})=>useQspExpression($,j)?_e:null,QspStyle=({from:$})=>{const j=useQspVariable($,"",0,"");return j?jsxRuntimeExports.jsx("style",{"data-qsp-from":$,children:j}):null},QspVariable=({name:$,vkey:j="",index:_e=0})=>{const et=$.startsWith("$")?"":0,tt=useQspVariable($,j,_e,et);return jsxRuntimeExports.jsx("qsp-variable",{"data-name":$,"data-key":j||_e,children:tt})},namedSlotContentContext=reactExports.createContext({path:""}),QspNamedSlot=$=>{const{attrs:j,children:_e,path:et}=$,[tt,nt,rt]=useAttributes(j,"qsp-save-slot"),st=useSetup(ut=>{const dt=ut.focus(ot=>ot.path);return atom(ot=>{const lt=ot(dt);return ot(namedSlots$).find(ht=>ht.key===lt)})},$),at=useAtom_2(st);return jsxRuntimeExports.jsx(slotContentContext.Provider,{value:{index:-1,date:at==null?void 0:at.timestamp},children:jsxRuntimeExports.jsx(namedSlotContentContext.Provider,{value:{path:$.path},children:jsxRuntimeExports.jsx(tt,{...rt,style:nt,"data-qsp-save":!0,"data-qsp-save-path":et,"data-save-empty":at?null:"",children:_e})})})};function usePrevious($){const j=reactExports.useRef({value:$,previous:$});return reactExports.useMemo(()=>(j.current.value!==$&&(j.current.previous=j.current.value,j.current.value=$),j.current.previous),[$])}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider=reactExports.forwardRef(($,j)=>{const{name:_e,min:et=0,max:tt=100,step:nt=1,orientation:rt="horizontal",disabled:st=!1,minStepsBetweenThumbs:at=0,defaultValue:ut=[et],value:dt,onValueChange:ot=()=>{},onValueCommit:lt=()=>{},inverted:ft=!1,...ht}=$,vt=reactExports.useRef(new Set),bt=reactExports.useRef(0),xt=rt==="horizontal"?SliderHorizontal:SliderVertical,[Et=[],At]=useControllableState({prop:dt,defaultProp:ut,onChange:Vt=>{var pn;(pn=[...vt.current][bt.current])==null||pn.focus(),ot(Vt)}}),kt=reactExports.useRef(Et);function Lt(Vt){const Xt=getClosestValueIndex(Et,Vt);Bt(Vt,Xt)}function wt(Vt){Bt(Vt,bt.current)}function Pt(){const Vt=kt.current[bt.current];Et[bt.current]!==Vt&&lt(Et)}function Bt(Vt,Xt,{commit:pn}={commit:!1}){const En=getDecimalCount(nt),Yt=roundValue(Math.round((Vt-et)/nt)*nt+et,En),rn=clamp$2(Yt,[et,tt]);At((on=[])=>{const hn=getNextSortedValues(on,rn,Xt);if(hasMinStepsBetweenValues(hn,at*nt)){bt.current=hn.indexOf(rn);const Kt=String(hn)!==String(on);return Kt&&pn&&lt(hn),Kt?hn:on}else return on})}return jsxRuntimeExports.jsx(SliderProvider,{scope:$.__scopeSlider,name:_e,disabled:st,min:et,max:tt,valueIndexToChangeRef:bt,thumbs:vt.current,values:Et,orientation:rt,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:$.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:$.__scopeSlider,children:jsxRuntimeExports.jsx(xt,{"aria-disabled":st,"data-disabled":st?"":void 0,...ht,ref:j,onPointerDown:composeEventHandlers(ht.onPointerDown,()=>{st||(kt.current=Et)}),min:et,max:tt,inverted:ft,onSlideStart:st?void 0:Lt,onSlideMove:st?void 0:wt,onSlideEnd:st?void 0:Pt,onHomeKeyDown:()=>!st&&Bt(et,0,{commit:!0}),onEndKeyDown:()=>!st&&Bt(tt,Et.length-1,{commit:!0}),onStepKeyDown:({event:Vt,direction:Xt})=>{if(!st){const Yt=PAGE_KEYS.includes(Vt.key)||Vt.shiftKey&&ARROW_KEYS.includes(Vt.key)?10:1,rn=bt.current,on=Et[rn],hn=nt*Yt*Xt;Bt(on+hn,rn,{commit:!0})}}})})})})});Slider.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef(($,j)=>{const{min:_e,max:et,dir:tt,inverted:nt,onSlideStart:rt,onSlideMove:st,onSlideEnd:at,onStepKeyDown:ut,...dt}=$,[ot,lt]=reactExports.useState(null),ft=useComposedRefs(j,Et=>lt(Et)),ht=reactExports.useRef(),vt=useDirection(tt),bt=vt==="ltr",mt=bt&&!nt||!bt&&nt;function xt(Et){const At=ht.current||ot.getBoundingClientRect(),kt=[0,At.width],wt=linearScale(kt,mt?[_e,et]:[et,_e]);return ht.current=At,wt(Et-At.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:$.__scopeSlider,startEdge:mt?"left":"right",endEdge:mt?"right":"left",direction:mt?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:vt,"data-orientation":"horizontal",...dt,ref:ft,style:{...dt.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:Et=>{const At=xt(Et.clientX);rt==null||rt(At)},onSlideMove:Et=>{const At=xt(Et.clientX);st==null||st(At)},onSlideEnd:()=>{ht.current=void 0,at==null||at()},onStepKeyDown:Et=>{const kt=BACK_KEYS[mt?"from-left":"from-right"].includes(Et.key);ut==null||ut({event:Et,direction:kt?-1:1})}})})}),SliderVertical=reactExports.forwardRef(($,j)=>{const{min:_e,max:et,inverted:tt,onSlideStart:nt,onSlideMove:rt,onSlideEnd:st,onStepKeyDown:at,...ut}=$,dt=reactExports.useRef(null),ot=useComposedRefs(j,dt),lt=reactExports.useRef(),ft=!tt;function ht(vt){const bt=lt.current||dt.current.getBoundingClientRect(),mt=[0,bt.height],Et=linearScale(mt,ft?[et,_e]:[_e,et]);return lt.current=bt,Et(vt-bt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:$.__scopeSlider,startEdge:ft?"bottom":"top",endEdge:ft?"top":"bottom",size:"height",direction:ft?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...ut,ref:ot,style:{...ut.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:vt=>{const bt=ht(vt.clientY);nt==null||nt(bt)},onSlideMove:vt=>{const bt=ht(vt.clientY);rt==null||rt(bt)},onSlideEnd:()=>{lt.current=void 0,st==null||st()},onStepKeyDown:vt=>{const mt=BACK_KEYS[ft?"from-bottom":"from-top"].includes(vt.key);at==null||at({event:vt,direction:mt?-1:1})}})})}),SliderImpl=reactExports.forwardRef(($,j)=>{const{__scopeSlider:_e,onSlideStart:et,onSlideMove:tt,onSlideEnd:nt,onHomeKeyDown:rt,onEndKeyDown:st,onStepKeyDown:at,...ut}=$,dt=useSliderContext(SLIDER_NAME,_e);return jsxRuntimeExports.jsx(Primitive.span,{...ut,ref:j,onKeyDown:composeEventHandlers($.onKeyDown,ot=>{ot.key==="Home"?(rt(ot),ot.preventDefault()):ot.key==="End"?(st(ot),ot.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(ot.key)&&(at(ot),ot.preventDefault())}),onPointerDown:composeEventHandlers($.onPointerDown,ot=>{const lt=ot.target;lt.setPointerCapture(ot.pointerId),ot.preventDefault(),dt.thumbs.has(lt)?lt.focus():et(ot)}),onPointerMove:composeEventHandlers($.onPointerMove,ot=>{ot.target.hasPointerCapture(ot.pointerId)&&tt(ot)}),onPointerUp:composeEventHandlers($.onPointerUp,ot=>{const lt=ot.target;lt.hasPointerCapture(ot.pointerId)&&(lt.releasePointerCapture(ot.pointerId),nt(ot))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef(($,j)=>{const{__scopeSlider:_e,...et}=$,tt=useSliderContext(TRACK_NAME,_e);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":tt.disabled?"":void 0,"data-orientation":tt.orientation,...et,ref:j})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef(($,j)=>{const{__scopeSlider:_e,...et}=$,tt=useSliderContext(RANGE_NAME,_e),nt=useSliderOrientationContext(RANGE_NAME,_e),rt=reactExports.useRef(null),st=useComposedRefs(j,rt),at=tt.values.length,ut=tt.values.map(lt=>convertValueToPercentage(lt,tt.min,tt.max)),dt=at>1?Math.min(...ut):0,ot=100-Math.max(...ut);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":tt.orientation,"data-disabled":tt.disabled?"":void 0,...et,ref:st,style:{...$.style,[nt.startEdge]:dt+"%",[nt.endEdge]:ot+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef(($,j)=>{const _e=useCollection($.__scopeSlider),[et,tt]=reactExports.useState(null),nt=useComposedRefs(j,st=>tt(st)),rt=reactExports.useMemo(()=>et?_e().findIndex(st=>st.ref.current===et):-1,[_e,et]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...$,ref:nt,index:rt})}),SliderThumbImpl=reactExports.forwardRef(($,j)=>{const{__scopeSlider:_e,index:et,name:tt,...nt}=$,rt=useSliderContext(THUMB_NAME,_e),st=useSliderOrientationContext(THUMB_NAME,_e),[at,ut]=reactExports.useState(null),dt=useComposedRefs(j,xt=>ut(xt)),ot=at?!!at.closest("form"):!0,lt=useSize(at),ft=rt.values[et],ht=ft===void 0?0:convertValueToPercentage(ft,rt.min,rt.max),vt=getLabel(et,rt.values.length),bt=lt==null?void 0:lt[st.size],mt=bt?getThumbInBoundsOffset(bt,ht,st.direction):0;return reactExports.useEffect(()=>{if(at)return rt.thumbs.add(at),()=>{rt.thumbs.delete(at)}},[at,rt.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[st.startEdge]:`calc(${ht}% + ${mt}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:$.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":$["aria-label"]||vt,"aria-valuemin":rt.min,"aria-valuenow":ft,"aria-valuemax":rt.max,"aria-orientation":rt.orientation,"data-orientation":rt.orientation,"data-disabled":rt.disabled?"":void 0,tabIndex:rt.disabled?void 0:0,...nt,ref:dt,style:ft===void 0?{display:"none"}:$.style,onFocus:composeEventHandlers($.onFocus,()=>{rt.valueIndexToChangeRef.current=et})})}),ot&&jsxRuntimeExports.jsx(BubbleInput,{name:tt??(rt.name?rt.name+(rt.values.length>1?"[]":""):void 0),value:ft},et)]})});SliderThumb.displayName=THUMB_NAME;var BubbleInput=$=>{const{value:j,..._e}=$,et=reactExports.useRef(null),tt=usePrevious(j);return reactExports.useEffect(()=>{const nt=et.current,rt=window.HTMLInputElement.prototype,at=Object.getOwnPropertyDescriptor(rt,"value").set;if(tt!==j&&at){const ut=new Event("input",{bubbles:!0});at.call(nt,j),nt.dispatchEvent(ut)}},[tt,j]),jsxRuntimeExports.jsx("input",{style:{display:"none"},..._e,ref:et,defaultValue:j})};function getNextSortedValues($=[],j,_e){const et=[...$];return et[_e]=j,et.sort((tt,nt)=>tt-nt)}function convertValueToPercentage($,j,_e){const nt=100/(_e-j)*($-j);return clamp$2(nt,[0,100])}function getLabel($,j){return j>2?`Value ${$+1} of ${j}`:j===2?["Minimum","Maximum"][$]:void 0}function getClosestValueIndex($,j){if($.length===1)return 0;const _e=$.map(tt=>Math.abs(tt-j)),et=Math.min(..._e);return _e.indexOf(et)}function getThumbInBoundsOffset($,j,_e){const et=$/2,nt=linearScale([0,50],[0,et]);return(et-nt(j)*_e)*_e}function getStepsBetweenValues($){return $.slice(0,-1).map((j,_e)=>$[_e+1]-j)}function hasMinStepsBetweenValues($,j){if(j>0){const _e=getStepsBetweenValues($);return Math.min(..._e)>=j}return!0}function linearScale($,j){return _e=>{if($[0]===$[1]||j[0]===j[1])return j[0];const et=(j[1]-j[0])/($[1]-$[0]);return j[0]+et*(_e-$[0])}}function getDecimalCount($){return(String($).split(".")[1]||"").length}function roundValue($,j){const _e=Math.pow(10,j);return Math.round($*_e)/_e}var Root=Slider,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const QspVolumeSlider=({attrs:$})=>{const j=useAtom_2(volume$),[_e]=useTranslation(),[,et,tt]=useAttributes($,"span");return jsxRuntimeExports.jsxs(Root,{className:"qsp-volume-root",defaultValue:[j],max:100,step:1,style:et,...tt,onValueChange:([nt])=>volume$.set(nt),children:[jsxRuntimeExports.jsx(Track,{className:"qsp-volume-slider-track",children:jsxRuntimeExports.jsx(Range,{className:"qsp-volume-slider-range"})}),jsxRuntimeExports.jsx(Thumb,{className:"qsp-volume-slider-thumb","aria-label":_e("Volume")||void 0})]})},QspMuteToggle=({attrs:$})=>{const[j]=useTranslation(),[_e,et,tt]=useAttributes($,"qsp-mute-toggle"),nt=useAtom_2(muted$);return jsxRuntimeExports.jsx(_e,{role:"button",style:et,...tt,onClick:()=>muted$.update(rt=>!rt),children:j(nt?"Unmute":"Mute")})},QspGlobalHotkeys=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-global-hotkeys"),{t:tt}=useTranslation(),nt=useAtom_2(globalHotKeys$);return jsxRuntimeExports.jsx(j,{style:_e,...et,children:nt.map((rt,st)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:tt(rt.description)}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(rt.keys).map((at,ut)=>at.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:at.symbol},ut):at.symbol)})]},st))})},QspGameHotkeys=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-game-hotkeys"),tt=useAtom_2(currentGame$);if(!tt)return null;const{hotkeys:nt}=tt;return nt?jsxRuntimeExports.jsx(j,{style:_e,...et,children:Object.entries(nt).map(([rt,st],at)=>jsxRuntimeExports.jsxs("qsp-hotkey",{children:[jsxRuntimeExports.jsx("qsp-hotkey-description",{children:st}),jsxRuntimeExports.jsx("qsp-hotkey-keys",{children:prettifyHotkeys(rt).map((ut,dt)=>ut.type==="key"?jsxRuntimeExports.jsx("qsp-hotkey-key",{children:ut.symbol},dt):ut.symbol)})]},at))}):null},locales=[{label:"English",value:"en-US"},{label:"Русский",value:"ru-RU"},{label:"Українська",value:"uk-UA"},{label:"简体中文",value:"zh"}],QspLocaleSelect=({attrs:$})=>{const{i18n:j}=useTranslation(),[,_e,et]=useAttributes($,"qsp-locale-select"),tt=nt=>{j.changeLanguage(nt.target.value)};return jsxRuntimeExports.jsx("select",{value:j.language,...et,style:_e,onChange:tt,children:locales.map(nt=>jsxRuntimeExports.jsx("option",{value:nt.value,children:nt.label},nt.value))})},QspGameTitle=({attrs:$})=>{const[j]=useTranslation(),[_e,et,tt]=useAttributes($,"qsp-game-title"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.author)||j("n/a")})},QspGameAuthor=({attrs:$})=>{const[j]=useTranslation(),[_e,et,tt]=useAttributes($,"qsp-game-author"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.author)||j("n/a")})},QspGameVersion=({attrs:$})=>{const[j]=useTranslation(),[_e,et,tt]=useAttributes($,"qsp-game-version"),nt=useAtom_2(currentGameEntry$);return jsxRuntimeExports.jsx(_e,{...tt,style:et,children:(nt==null?void 0:nt.version)||j("n/a")})},QspGameDescription=({attrs:$})=>{const[j,_e,et]=useAttributes($,"qsp-game-description"),tt=useAtom_2(currentGameDescription$);return jsxRuntimeExports.jsx(j,{...et,style:_e,children:jsxRuntimeExports.jsx(Markup,{content:tt})})},defaultTransform=($,j)=>{const _e=$.tagName.toLowerCase(),et=extractAttributes($);return jsxRuntimeExports.jsx(Element$1,{tagName:_e,attrs:et,children:j})},defaultTransformers={"qsp-scrollable"($,j){const{scroll:_e,...et}=extractAttributes($),tt=isScrollType(_e)?_e:void 0;return jsxRuntimeExports.jsx(QspScrollable,{scroll:tt,attrs:et,children:j})},"qsp-main"($,j){return jsxRuntimeExports.jsx(QspMain,{attrs:extractAttributes($),children:j})},"qsp-main-content"($){return jsxRuntimeExports.jsx(QspMainContent,{attrs:extractAttributes($)})},"qsp-stats"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspStats,{attrs:_e,children:j})},"qsp-stats-content"($){return jsxRuntimeExports.jsx(QspStatsContent,{attrs:extractAttributes($)})},"qsp-actions"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspActions,{attrs:_e,children:j})},"qsp-actions-list"($,j){return jsxRuntimeExports.jsx(QspActionsList,{attrs:extractAttributes($),children:j})},"qsp-action"($,j){return jsxRuntimeExports.jsx(QspActionItem,{attrs:extractAttributes($),children:j})},"qsp-action-name"($){return jsxRuntimeExports.jsx(QspActionName,{attrs:extractAttributes($)})},"qsp-action-image"($){return jsxRuntimeExports.jsx(QspActionImage,{attrs:extractAttributes($)})},"qsp-action-index"($){return jsxRuntimeExports.jsx(QspActionIndex,{attrs:extractAttributes($)})},"qsp-objects"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspObjects,{attrs:_e,children:j})},"qsp-objects-list"($,j){return jsxRuntimeExports.jsx(QspObjectsList,{attrs:extractAttributes($),children:j})},"qsp-object"($,j){return jsxRuntimeExports.jsx(QspObjectItem,{attrs:extractAttributes($),children:j})},"qsp-object-name"($){return jsxRuntimeExports.jsx(QspObjectName,{attrs:extractAttributes($)})},"qsp-object-image"($){return jsxRuntimeExports.jsx(QspObjectImage,{attrs:extractAttributes($)})},"qsp-object-index"($){return jsxRuntimeExports.jsx(QspObjectIndex,{attrs:extractAttributes($)})},"qsp-cmd"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspCmd,{attrs:_e,children:j})},"qsp-cmd-input"($){const j=extractAttributes($);return jsxRuntimeExports.jsx(QspCmdInput,{attrs:j})},"qsp-view"($,j){const _e=extractAttributes($),et="modal"in _e;return view$.actions.setIsModal(et),jsxRuntimeExports.jsx(QspView,{attrs:_e,modal:et,children:j})},"qsp-view-image"($){const j=extractAttributes($);return jsxRuntimeExports.jsx(QspViewImage,{attrs:j})},"qsp-menu"($,j){const{"show-as":_e,"show-at":et,"offset-x":tt,"offset-y":nt,...rt}=extractAttributes($);return jsxRuntimeExports.jsx(QspMenu,{showAs:_e,showAt:et,offsetX:tt?parseInt(tt,10):0,offsetY:nt?parseInt(nt,10):0,attrs:rt,children:j})},"qsp-menu-list"($,j){return jsxRuntimeExports.jsx(QspMenuList,{attrs:extractAttributes($),children:j})},"qsp-menu-item"($,j){return jsxRuntimeExports.jsx(QspMenuItem,{attrs:extractAttributes($),children:j})},"qsp-menu-name"($){return jsxRuntimeExports.jsx(QspMenuItemName,{attrs:extractAttributes($)})},"qsp-menu-image"($){return jsxRuntimeExports.jsx(QspMenuItemImage,{attrs:extractAttributes($)})},"qsp-menu-index"($){return jsxRuntimeExports.jsx(QspMenuItemIndex,{attrs:extractAttributes($)})},"qsp-msg"($,j){return jsxRuntimeExports.jsx(QspMsg,{attrs:extractAttributes($),children:j})},"qsp-msg-content"($){return jsxRuntimeExports.jsx(QspMsgContent,{attrs:extractAttributes($)})},"qsp-input"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspInput,{attrs:_e,children:j})},"qsp-input-content"($){return jsxRuntimeExports.jsx(QspInputContent,{attrs:extractAttributes($)})},"qsp-input-tag"($){const j=extractAttributes($);return jsxRuntimeExports.jsx(QspInputTag,{attrs:j})},"qsp-close-button"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspCloseButton,{attrs:_e,children:j})},"qsp-ok-button"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspOkButton,{attrs:_e,children:j})},"qsp-cancel-button"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspCancelButton,{attrs:_e,children:j})},"qsp-pause-screen"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspPauseScreen,{attrs:_e,children:j})},"qsp-pause-screen-content"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(QspPauseScreenContent,{attrs:_e,children:j})},"qsp-pause-screen-panel"($,j){const{name:_e,...et}=extractAttributes($);return _e?jsxRuntimeExports.jsx(QspPauseScreenPanel,{name:_e,attrs:et,children:j}):null},"qsp-slots-list"($,j){return jsxRuntimeExports.jsx(QspSlotsList,{attrs:extractAttributes($),children:j})},"qsp-save-slot"($,j){return jsxRuntimeExports.jsx(QspSlot,{attrs:extractAttributes($),index:-1,children:j})},"qsp-save-file"($,j){const{path:_e,...et}=extractAttributes($);return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:et,path:_e,children:j})},"qsp-quick-save"($,j){return jsxRuntimeExports.jsx(QspNamedSlot,{attrs:extractAttributes($),path:QUICK_SAVE_KEY,children:j})},"qsp-slot-index"($){return jsxRuntimeExports.jsx(QspSlotIndex,{attrs:extractAttributes($)})},"qsp-slot-date"($,j){return jsxRuntimeExports.jsx(QspSlotDate,{attrs:extractAttributes($),children:j})},"qsp-variable"($){const{name:j,key:_e,index:et}=extractAttributes($);return jsxRuntimeExports.jsx(QspVariable,{name:j,vkey:_e,index:et?parseInt(et,10):void 0})},"qsp-region"($){const{name:j,..._e}=extractAttributes($),et="scrollable"in _e;return jsxRuntimeExports.jsx(QspRegion,{name:j,scrollable:et,attrs:_e})},"qsp-layer"($,j){const{name:_e,index:et,...tt}=extractAttributes($);return jsxRuntimeExports.jsx(QspLayer,{name:_e,index:parseInt(et),attrs:tt,children:j})},"qsp-show"($,j){const _e=$.getAttribute("when")||"";let et=["is-not",_e.startsWith("$")?"":"0"];for(const tt of conditionAttributes)$.hasAttribute(tt)&&(et=[tt,$.getAttribute(tt)||""]);return jsxRuntimeExports.jsx(QspShow,{variable:_e,condition:et,children:j})},"qsp-style"($){const j=$.getAttribute("from")||"";return jsxRuntimeExports.jsx(QspStyle,{from:j})},"qsp-t"($){const j=$.innerText;return jsxRuntimeExports.jsx(QspT,{children:j})},a:($,j)=>{const{href:_e,...et}=extractAttributes($);if(_e){if(_e.toLowerCase().startsWith("exec:"))return jsxRuntimeExports.jsx(Link,{attrs:et,exec:_e.substring(5),children:j});if(parseInt(_e)>0)return jsxRuntimeExports.jsx(Link,{attrs:et,act:parseInt(_e),children:j})}const tt={href:_e,...et};return jsxRuntimeExports.jsx(HtmlLink,{attrs:tt,children:j})},select($,j){return jsxRuntimeExports.jsx(HtmlSelect,{attrs:extractAttributes($),children:j})},textarea($){const j=extractAttributes($);return j.value=$.innerText,jsxRuntimeExports.jsx(HtmlTextarea,{attrs:j})},input($){return jsxRuntimeExports.jsx(HtmlInput,{attrs:extractAttributes($)})},img($){const{src:j,..._e}=extractAttributes($);return jsxRuntimeExports.jsx(HtmlImg,{src:j,attrs:_e})},form($,j){return jsxRuntimeExports.jsx(HtmlForm,{attrs:extractAttributes($),children:j})},"qsp-volume-slider"($){return jsxRuntimeExports.jsx(QspVolumeSlider,{attrs:extractAttributes($)})},"qsp-mute-toggle"($){return jsxRuntimeExports.jsx(QspMuteToggle,{attrs:extractAttributes($)})},"qsp-global-hotkeys"($){return jsxRuntimeExports.jsx(QspGlobalHotkeys,{attrs:extractAttributes($)})},"qsp-game-hotkeys"($){return jsxRuntimeExports.jsx(QspGameHotkeys,{attrs:extractAttributes($)})},"qsp-locale-select"($){return jsxRuntimeExports.jsx(QspLocaleSelect,{attrs:extractAttributes($)})},"qsp-game-title"($){return jsxRuntimeExports.jsx(QspGameTitle,{attrs:extractAttributes($)})},"qsp-game-author"($){return jsxRuntimeExports.jsx(QspGameAuthor,{attrs:extractAttributes($)})},"qsp-game-version"($){return jsxRuntimeExports.jsx(QspGameVersion,{attrs:extractAttributes($)})},"qsp-game-description"($){return jsxRuntimeExports.jsx(QspGameDescription,{attrs:extractAttributes($)})}},Strike=({children:$,attrs:j})=>{const[,_e,et]=useAttributes(j,"span"),tt={..._e,textDecoration:"line-through"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:$})},Big=({children:$,attrs:j})=>{const[,_e,et]=useAttributes(j,"span"),tt={..._e,fontSize:"larger"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:$})},Tt=({children:$,attrs:j})=>{const[,_e,et]=useAttributes(j,"span"),tt={..._e,fontFamily:"monospace"};return jsxRuntimeExports.jsx("span",{...et,style:tt,children:$})},Hr=({attrs:$,width:j,size:_e,noshade:et})=>{const[,tt,nt]=useAttributes($,"hr"),rt={...tt,borderWidth:Number(_e)>0?"1px":"1px 0 0 0",borderStyle:et?"solid":"inset",borderColor:"rgb(128, 128, 128)",borderRadius:"1px",height:`${_e||"0"}px`,margin:"0.5em auto",width:j||"100%",backgroundColor:et?"rgb(128, 128, 128)":"transparent"};return jsxRuntimeExports.jsx("div",{...nt,style:rt})},Table=({border:$,cellspacing:j,cellpadding:_e,align:et,valign:tt,attrs:nt,children:rt})=>{const[,st,{className:at,...ut}]=useAttributes(nt,"table"),dt={...st,textAlign:et??"left",verticalAlign:tt??"top","--table-border-width":`${$||0}px`,"--table-cellspacing":`${j||0}px`,"--table-cellpadding":`${_e||0}px`},ot=at?`${at} classic-table`:"classic-table";return jsxRuntimeExports.jsx("table",{...ut,style:dt,className:ot,children:rt})},Area=({href:$,attrs:j})=>{const _e=reactExports.useCallback(nt=>{nt.preventDefault(),nt.stopPropagation(),onLinkClicked($)},[$]),[,et,tt]=useAttributes(j,"area");return jsxRuntimeExports.jsx("area",{...tt,style:et,href:"#",onClick:_e,alt:""})},Video=({children:$,attrs:j})=>{const[,_e,et]=useAttributes(j,"video");return jsxRuntimeExports.jsx("video",{style:_e,...et,preload:"auto",loop:!0,autoPlay:!0,children:$})},QspCL=({children:$})=>{const j=useAtom_2(qspGuiLayout$);return j?jsxRuntimeExports.jsx("qsp-cl",{children:jsxRuntimeExports.jsx(Markup,{content:j})}):jsxRuntimeExports.jsx("qsp-cl",{children:$})},QspCLLayer=$=>{const j=useSetup(et=>{const tt=et==null?void 0:et.focus(st=>st.children),nt=atom(st=>{const at={};return React$1.Children.forEach(st(tt),ut=>{reactExports.isValidElement(ut)&&ut.type===QspCLDock&&(at[ut.props.place]={visibility:ut.props.visibility,size:ut.props.size})}),at}),rt=atom(st=>{var dt;const at=st(nt),ut={};for(const[ot,lt]of Object.entries(at))(((dt=lt.visibility)==null?void 0:dt.split("|").some(ht=>{const vt=penelAtoms[ht];return vt?st(vt):!1}))??!0)&&(ut[ot]=lt);return ut});return atom(st=>{const at=st(rt),ut=["center"];let dt="1fr",ot=1,lt="1fr";return at.left&&(ut[0]="left "+ut[0],ot++,dt=`${at.left.size}px `+dt),at.right&&(ut[0]+=" right",ot++,dt+=` ${at.right.size}px`),at.top&&(lt=`${at.top.size}px `+lt,ut.unshift("top ".repeat(ot).trim())),at.bottom&&(lt+=` ${at.bottom.size}px`,ut.push("bottom ".repeat(ot).trim())),{gridTemplateColumns:dt,gridTemplateRows:lt,gridTemplateAreas:'"'+ut.join('" "')+'"'}})},$),_e=useAtom_2(j);return jsxRuntimeExports.jsx("qsp-cl-layer",{style:_e,children:$.children})},penelAtoms={input:isCmdVisible$,imgview:view$.focus($=>$.isOpen),objs:isObjsVisible$,acts:isActsVisible$,vars:isStatsVisible$},QspCLDock=$=>{const j=useSetup(et=>atom(tt=>{const nt=et.focus(st=>st.visibility),rt=tt(nt);return rt?rt.split("|").some(st=>{const at=penelAtoms[st];return at?tt(at):!1}):!0}),$);return useAtom_2(j)?jsxRuntimeExports.jsx("qsp-cl-dock",{"data-place":$.place,children:$.children}):null},QspCLPane=$=>{const j=useSetup(et=>atom(tt=>{const nt=et.focus(at=>at.visibility),rt=tt(nt);if(!rt)return!0;const st=penelAtoms[rt];return st?tt(st):!1}),$);return useAtom_2(j)?jsxRuntimeExports.jsx("qsp-cl-pane",{style:{flexGrow:$.proportion},children:$.children}):null},QspCLDefaults=()=>{const $=useAtom_2(qspGuiCfg$);if(!$)return null;const j=[];if($.BackColor){const et=convertColor($.BackColor,!1);if(et){const tt=invertColor(et);j.push(`--cl-background-color: ${et}`),j.push(`--cl-background-color-contrast: ${getContrastColor(et)}`),j.push(`--cl-background-color-inverted: ${tt}`),j.push(`--cl-background-color-inverted-contrast: ${getContrastColor(tt)}`)}}if($.FontColor){const et=convertColor($.FontColor,!1);et&&j.push(`--cl-color: ${et}`)}if($.LinkColor){const et=convertColor($.LinkColor,!1);et&&j.push(`--cl-link-color: ${et}`)}$.FontSize&&j.push(`--cl-font-size: ${$.FontSize}pt`),$.FontName&&j.push(`--cl-font-name: ${$.FontName}`);const _e=`qsp-game-root, #portal-container {${j.join(";")}}`;return jsxRuntimeExports.jsx("style",{children:_e})},classicTransformers={font:($,j)=>jsxRuntimeExports.jsx(Font,{size:$.getAttribute("size"),attrs:extractAttributes($),children:j}),big:($,j)=>jsxRuntimeExports.jsx(Big,{attrs:extractAttributes($),children:j}),hr:$=>{const{width:j,size:_e,noshade:et,...tt}=extractAttributes($);return jsxRuntimeExports.jsx(Hr,{attrs:tt,width:j,size:_e,noshade:!!et})},tt:($,j)=>jsxRuntimeExports.jsx(Tt,{attrs:extractAttributes($),children:j}),strike:($,j)=>jsxRuntimeExports.jsx(Strike,{attrs:extractAttributes($),children:j}),tbody:($,j)=>jsxRuntimeExports.jsx("tbody",{children:j.filter(_e=>typeof _e!="string")}),table:($,j)=>{const{border:_e="0",cellspacing:et="0",cellpadding:tt="1",align:nt,valign:rt,...st}=extractAttributes($);return jsxRuntimeExports.jsx(Table,{align:nt,valign:rt,border:Number(_e),cellspacing:Number(et),cellpadding:Number(tt),attrs:st,children:j.filter(at=>typeof at!="string")})},area:$=>{const{href:j,..._e}=extractAttributes($);return jsxRuntimeExports.jsx(Area,{href:j||"",attrs:_e})},video:($,j)=>jsxRuntimeExports.jsx(Video,{attrs:extractAttributes($),children:j}),"qsp-cl":($,j)=>jsxRuntimeExports.jsx(QspCL,{children:j}),"qsp-cl-layer":($,j)=>jsxRuntimeExports.jsx(QspCLLayer,{children:j}),"qsp-cl-dock":($,j)=>{const _e=$.getAttribute("place")||"center",et=$.getAttribute("visibility"),tt=$.getAttribute("size")??0;return jsxRuntimeExports.jsx(QspCLDock,{place:_e,visibility:et,size:Number(tt),children:j})},"qsp-cl-pane":($,j)=>{const _e=$.getAttribute("proportion")??1,et=$.getAttribute("visibility");return jsxRuntimeExports.jsx(QspCLPane,{visibility:et,proportion:Number(_e),children:j})},"qsp-cl-defaults"(){return jsxRuntimeExports.jsx(QspCLDefaults,{})}},AERO_EFFECTS={fade:{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}},blur:{from:{opacity:0,filter:"blur(15px)"},enter:{opacity:1,filter:"blur(0px)"},leave:{opacity:0,filter:"blur(15px)"}},l_slide:{from:{transform:"translate3d(-100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(-100%, 0, 0)"}},r_slide:{from:{transform:"translate3d(100%, 0, 0)"},enter:{transform:"translate3d(0%, 0, 0)"},leave:{transform:"translate3d(100%, 0, 0)"}},u_slide:{from:{transform:"translate3d(0, 100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, 100%, 0)"}},d_slide:{from:{transform:"translate3d(0, -100%, 0)"},enter:{transform:"translate3d(0, 0%, 0)"},leave:{transform:"translate3d(0, -100%, 0)"}},iris:{from:{clipPath:"circle(0% at center)"},enter:{clipPath:"circle(120% at center)"},leave:{clipPath:"circle(0% at center)"}},photo:{from:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"},enter:{opacity:1,boxShadow:"inset 0 0 0 0px #fff"},leave:{opacity:0,boxShadow:"inset 0 0 0 1000px #fff"}},rotate:{from:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0},enter:{transform:"rotate3d(0, 0, 1, 0deg)",opacity:1},leave:{transform:"rotate3d(0, 0, 1, -90deg)",opacity:0}},v_squeeze:{from:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 1.5)",opacity:0,transformOrigin:"center"}},h_squeeze:{from:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(1.5, 0)",opacity:0,transformOrigin:"center"}},zoom:{from:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"},enter:{transform:"scale(1, 1)",opacity:1,transformOrigin:"center"},leave:{transform:"scale(0, 0)",opacity:0,transformOrigin:"center"}},wipe1:{from:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"},enter:{clipPath:"polygon(0 0, 0 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(0 0, 0 0%, 0% 0%, 0% 0)"}},wipe2:{from:{clipPath:"polygon(100% 0, 100% 0%, 100% 0%, 100% 0)"},enter:{clipPath:"polygon(0% 0, 0% 100%, 100% 100%, 100% 0)"},leave:{clipPath:"polygon(100% 0, 100% 0, 100% 0%, 100% 0)"}},wipe3:{from:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(100% 100%, 100% 100%, 100% 100%, 100% 100%)"}},wipe4:{from:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"},enter:{clipPath:"polygon(0% 0%, 0% 100%, 100% 100%, 100% 0%)"},leave:{clipPath:"polygon(0% 100%, 0% 100%, 0% 100%, 0% 100%)"}},quake:{from:{transform:"translate3d(0px, 0px, 0)",opacity:0},enter:[{transform:"translate3d(-2px, 3px, 0)",opacity:.1},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-2px, 3px, 0)",opacity:.9}],leave:[{transform:"translate3d(-2px, 3px, 0)",opacity:.9},{transform:"translate3d(4px, -5px, 0)",opacity:.8},{transform:"translate3d(-8px, 6px, 0)",opacity:.7},{transform:"translate3d(8px, -3px, 0)",opacity:.6},{transform:"translate3d(-8px, 6px, 0)",opacity:.5},{transform:"translate3d(8px, -3px, 0)",opacity:.4},{transform:"translate3d(-8px, 6px, 0)",opacity:.3},{transform:"translate3d(4px, -5px, 0)",opacity:.2},{transform:"translate3d(-2px, 3px, 0)",opacity:.1}]}};function useAeroEffect($,j,_e){const et=useQspVariable(j,"",0,"");let tt=useQspVariable(_e,"",0,500);const nt=AERO_EFFECTS[et]??{};return nt.enter&&Array.isArray(nt.enter)&&(tt/=nt.enter.length),useTransition($,{...nt,config:{duration:tt}})}const AeroQspMenu=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-menu"),nt=useAtom_2(menu$),rt=useClickCoordinates(),st=useQspVariable("FIXED_SIZE_MENU","",0,0),at=useQspVariable("MENU_X","",0,-1),ut=useQspVariable("MENU_Y","",0,-1),dt=useAeroEffect(nt.isOpen,"$MENU_EFFECT","MENU_EFFECT_TIME"),ot=at<0||ut<0,lt=ot?rt.x:at,ft=ot?rt.y:ut;let ht=tt.className||"";return st&&(ht+=" aero-fixed-menu"),jsxRuntimeExports.jsxs(Root2$1,{open:nt.isOpen,onOpenChange:()=>menu$.actions.close(),children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:jsxRuntimeExports.jsx("div",{style:{position:"fixed",left:lt,top:ft}})}),dt((vt,bt)=>bt?jsxRuntimeExports.jsx(Portal2$1,{forceMount:!0,container:document.getElementById("portal-container"),children:jsxRuntimeExports.jsx(Content2$1,{align:"start",forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:vt,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,className:ht.trim(),children:j})})})}):null)]})},AeroQspMenuList=({attrs:$,children:j})=>{const _e=useAtom_2(aeroMenuWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-menu-list");let rt=1;return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((st,at)=>st.name[0]==="-"?jsxRuntimeExports.jsx("qsp-menu-separator",{},st.key):jsxRuntimeExports.jsx(menuContext.Provider,{value:{item:st,index:at,displayIndex:rt++},children:React$1.Children.map(j,ut=>React$1.cloneElement(ut))},st.key))})},AeroQspMenuItem=({attrs:$})=>{const{item:j,index:_e}=reactExports.useContext(menuContext),[et,tt,{useFormat:nt,useSelectedFormat:rt,...st}]=useAttributes($,"qsp-menu-item"),at={...tt,"--menu-item-image":j.image?`url("${j.image}")`:""},ut=()=>{selectedMenuItem$.set(_e)},dt=()=>{selectedMenuItem$.set(-1)},ot=lt=>{lt.preventDefault(),menu$.actions.select(_e)};return jsxRuntimeExports.jsx(Item2,{asChild:!0,children:jsxRuntimeExports.jsx(et,{...st,style:at,onClick:ot,onMouseOver:ut,onMouseLeave:dt,children:jsxRuntimeExports.jsx(Markup,{content:j.name})})})},AeroStyles=()=>{const $=useAtom_2(currentAeroWidth$),j=useAtom_2(currentAeroHeight$),_e=`
  qsp-game-root, #portal-container {
    --aero-player-width: ${$}px;
    --aero-player-height: ${j}px;
  }`;return jsxRuntimeExports.jsx("style",{children:_e})},AeroQspView=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-view"),nt=useAtom_2(view$),rt=useQspVariable("ALWAYS_SHOW_VIEW","",0,0),st=useAeroEffect(nt.isOpen,"$VIEW_EFFECT","VIEW_EFFECT_TIME"),at={...et,"--view-image":`url("${nt.path}")`},ut=()=>{rt||view$.actions.close()};return st((dt,ot)=>ot?jsxRuntimeExports.jsx(animated.div,{style:dt,children:jsxRuntimeExports.jsx(_e,{...tt,style:at,onClick:ut,children:j})}):null)},AeroQspActionsList=({attrs:$,children:j})=>{const _e=useAtom_2(aeroActionsWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-actions-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,st)=>jsxRuntimeExports.jsx(actionContext.Provider,{value:{action:rt,index:st},children:React$1.Children.map(j,at=>React$1.cloneElement(at))},rt.key))})},AeroQspActionItem=({attrs:$})=>{const{action:j,index:_e}=reactExports.useContext(actionContext),[et,tt,{useFormat:nt,useSelectedFormat:rt,...st}]=useAttributes($,"qsp-action"),at=j.image?j.image:"",ut={...tt,"--action-image":j.image?`url("${at}")`:""},dt=()=>{selectAction(_e)},ot=()=>{selectAction(-1)},lt=ft=>{ft.preventDefault(),selectedAction$.value<0&&selectAction(_e),execSelectedAction()};return jsxRuntimeExports.jsx(et,{...st,style:ut,onMouseOver:dt,onMouseLeave:ot,onClick:lt,children:jsxRuntimeExports.jsx(Markup,{content:j.name})})},AeroQspStatsContent=({attrs:$})=>{const[j,_e,{useFormat:et,...tt}]=useAttributes($,"qsp-stats-content"),{content:nt,key:rt}=useAtom_2(aeroParsedStatsContent$);return reactExports.createElement(j,{style:_e,...tt,key:rt},jsxRuntimeExports.jsx(Markup,{content:nt}))},AeroQspMainContent=({attrs:$})=>{const{content:j,key:_e}=useAtom_2(aeroParsedMainContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes($,"qsp-main-content");return reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(Markup,{content:j}))},AeroOverlay=reactExports.forwardRef(()=>{const $=useQspVariable("DISABLESHADE","",0,0),j=useSpring({from:{opacity:0},to:{opacity:.8}});return $?null:jsxRuntimeExports.jsx(Overlay,{forceMount:!0,asChild:!0,children:jsxRuntimeExports.jsx(animated.div,{style:j,className:"qsp-overlay"})})}),AeroQspMsg=({attrs:$,children:j})=>{const[_e,et,tt]=useAttributes($,"qsp-msg"),nt=useAtom_2(msg$),rt=useClickCoordinates(),st=useQspVariable("MSG_X","",0,200),at=useQspVariable("MSG_Y","",0,165),ut=useAeroEffect(nt.isOpen,"$MSG_EFFECT","MSG_EFFECT_TIME"),dt=st<0||at<0,ot={"--aero-msg-x":`${dt?rt.x:st}px`,"--aero-msg-y":`${dt?rt.y:at}px`},lt=`qsp-dialog-container${dt?" at-mouse":""}`;function ft(){msg$.actions.close()}return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ft,cancelAction:ft},children:jsxRuntimeExports.jsx(Root$4,{open:nt.isOpen,onOpenChange:ft,children:ut((ht,vt)=>vt?jsxRuntimeExports.jsxs(Portal$1,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:ot,children:jsxRuntimeExports.jsx(animated.div,{style:ht,className:lt,children:jsxRuntimeExports.jsx(_e,{style:et,...tt,children:j})})})]}):null)})})},AeroQspMsgContent=({attrs:$})=>{const{content:j,key:_e}=useAtom_2(aeroParsedMsgContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes($,"qsp-msg-content");return reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:j})}))},AeroQspInput=({attrs:$,children:j})=>{const _e=useAtom_2(input$),[et,tt,nt]=useAttributes($,"qsp-input"),rt=useClickCoordinates(),st=useQspVariable("INPUT_X","",0,200),at=useQspVariable("INPUT_Y","",0,165),ut=useAeroEffect(_e.isOpen,"$INPUT_EFFECT","INPUT_EFFECT_TIME"),dt=st<0||at<0,ot={"--aero-input-x":`${dt?rt.x:st}px`,"--aero-input-y":`${dt?rt.y:at}px`},lt=`qsp-dialog-container${dt?" at-mouse":""}`;return jsxRuntimeExports.jsx(buttonContext.Provider,{value:{okAction:ft=>{ft.preventDefault(),input$.actions.finish()},cancelAction:ft=>{ft.preventDefault(),input$.actions.close()}},children:jsxRuntimeExports.jsx(Root$4,{open:_e.isOpen,onOpenChange:()=>input$.actions.close(),children:ut((ft,ht)=>ht?jsxRuntimeExports.jsxs(Portal$1,{forceMount:!0,container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(AeroOverlay,{}),jsxRuntimeExports.jsx(Content$1,{forceMount:!0,asChild:!0,style:ot,children:jsxRuntimeExports.jsx(animated.div,{style:ft,className:lt,children:jsxRuntimeExports.jsx("form",{onSubmit:vt=>{vt.preventDefault(),input$.actions.finish()},children:jsxRuntimeExports.jsx(et,{style:tt,...nt,children:j})})})})]}):null)})})},AeroQspInputContent=({attrs:$})=>{const{content:j,key:_e}=useAtom_2(aeroParsedInputContent$),[et,tt,{useFormat:nt,...rt}]=useAttributes($,"qsp-input-content");return jsxRuntimeExports.jsx(Description,{asChild:!0,children:reactExports.createElement(et,{style:tt,...rt,key:_e},jsxRuntimeExports.jsx(QspScrollable,{attrs:{},children:jsxRuntimeExports.jsx(Markup,{content:j})}))})},AeroQspObjectsList=({attrs:$,children:j})=>{const _e=useAtom_2(aeroObjectsWithParsedName$),[et,tt,nt]=useAttributes($,"qsp-objects-list");return jsxRuntimeExports.jsx(et,{style:tt,...nt,children:_e.map((rt,st)=>jsxRuntimeExports.jsx(objectContext.Provider,{value:{object:rt,index:st},children:React$1.Children.map(j,at=>React$1.cloneElement(at))},rt.key))})},AeroQspObjectItem=({attrs:$})=>{const[j,_e,{useFormat:et,useSelectedFormat:tt,...nt}]=useAttributes($,"qsp-object"),{object:rt,index:st}=reactExports.useContext(objectContext),at={..._e,"--object-image":rt.image?`url("${rt.image}")`:""},ut=()=>{selectedObject$.set(st)},dt=()=>{selectedObject$.set(-1)},ot=()=>{selectObject(st)};return jsxRuntimeExports.jsx(j,{...nt,style:at,onClick:ot,onMouseOver:ut,onMouseLeave:dt,children:jsxRuntimeExports.jsx(Markup,{content:rt.name})})},AeroNewlocEffect=({children:$})=>{const j=useQspVariable("$NEWLOC_EFFECT","",0,"");let _e=useQspVariable("NEWLOC_EFFECT_TIME","",0,500);const et=!!useQspVariable("NEWLOC_EFFECT_SEQ","",0,0),tt=AERO_EFFECTS[j]??{};tt.enter&&Array.isArray(tt.enter)&&(_e/=tt.enter.length);const nt=useAtom_2(newLocHash$),rt=useTransition(nt,{...tt,key:nt,exitBeforeEnter:et,...et?{}:{leave:{...tt.leave,config:{duration:0}}},config:{duration:_e},onRest(){mainContent$.set(nextMainContent$.value)}});return reactExports.useEffect(()=>{(!j||!et)&&mainContent$.set(nextMainContent$.value)},[j,nt]),j?rt((st,at)=>jsxRuntimeExports.jsx(animated.div,{style:st,children:$},at)):$},aeroTransformers={"aero-newloc-effect"($,j){return jsxRuntimeExports.jsx(AeroNewlocEffect,{children:j})},"aero-styles"(){return jsxRuntimeExports.jsx(AeroStyles,{})},"qsp-main-content"($){return jsxRuntimeExports.jsx(AeroQspMainContent,{attrs:extractAttributes($)})},"qsp-stats-content"($){return jsxRuntimeExports.jsx(AeroQspStatsContent,{attrs:extractAttributes($)})},"qsp-actions-list"($,j){return jsxRuntimeExports.jsx(AeroQspActionsList,{attrs:extractAttributes($),children:j})},"qsp-action"($){return jsxRuntimeExports.jsx(AeroQspActionItem,{attrs:extractAttributes($)})},"qsp-objects-list"($,j){return jsxRuntimeExports.jsx(AeroQspObjectsList,{attrs:extractAttributes($),children:j})},"qsp-object"($,j){return jsxRuntimeExports.jsx(AeroQspObjectItem,{attrs:extractAttributes($),children:j})},"qsp-menu"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(AeroQspMenu,{attrs:_e,children:j})},"qsp-menu-list"($,j){return jsxRuntimeExports.jsx(AeroQspMenuList,{attrs:extractAttributes($),children:j})},"qsp-menu-item"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(AeroQspMenuItem,{attrs:_e,children:j})},"qsp-msg"($,j){return jsxRuntimeExports.jsx(AeroQspMsg,{attrs:extractAttributes($),children:j})},"qsp-msg-content"($){return jsxRuntimeExports.jsx(AeroQspMsgContent,{attrs:extractAttributes($)})},"qsp-input"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(AeroQspInput,{attrs:_e,children:j})},"qsp-input-content"($){return jsxRuntimeExports.jsx(AeroQspInputContent,{attrs:extractAttributes($)})},"qsp-view"($,j){const _e=extractAttributes($);return jsxRuntimeExports.jsx(AeroQspView,{attrs:_e,modal:"modal"in _e,children:j})}},currentTransformers$=atom($=>{switch($(currentGameMode$)){case"classic":return{...defaultTransformers,...classicTransformers};case"aero":return{...defaultTransformers,...classicTransformers,...aeroTransformers};case"qspider":default:return defaultTransformers}}),transform=($,j,_e)=>{const et=currentTransformers$.value[$.tagName.toLowerCase()];return et?et($,j,_e):defaultTransform($,j)},templateParser=new HtmlParser({transform}),currentGameDescription$=atom($=>{const j=$(currentGameEntry$);return j!=null&&j.description?templateParser.parse(j.description):[]}),playerTemplate$=atom($=>{const _e=$(currentThemeData$).qsp_player??{template:"",attrs:{}},{attrs:et,template:tt}=_e;return{attrs:et,template:templateParser.parse(tt,!1)}}),qspGuiLayout$=atom($=>{var nt;const j=$(qspGuiCfg$);if(!j)return null;const _e=((nt=$(defaultClassicTheme$).qsp_player)==null?void 0:nt.template)??"",et=buildLayoutTree(j.Panels);let tt="";et.layer&&(tt+=convertLayer(et.layer,j.Docks,_e));for(const rt of et.floating)tt+=convertPane(rt,_e,!0);return templateParser.parse(tt,!1)});let mainContentKey=0;const parsedMainContent$=atom($=>{const j=$(mainContent$);return $(hasBrowserTranslation$)||(mainContentKey=0),{content:templateParser.parse(j),key:mainContentKey++}});let statsContentKey=0;const parsedStatsContent$=atom($=>{const j=$(statsContent$);return $(hasBrowserTranslation$)||(statsContentKey=0),{content:templateParser.parse(j),key:statsContentKey++}});let msgKey=0;const parsedMsgContent$=atom($=>{const j=$(msg$);return $(hasBrowserTranslation$)||(msgKey=0),{content:templateParser.parse(j.content),key:msgKey++}});let inputKey=0;const parsedInputContent$=atom($=>{const j=$(input$);return $(hasBrowserTranslation$)||(inputKey=0),{content:templateParser.parse(j.content),key:inputKey++}});let actionsKey=0;const actionsWithParsedName$=atom($=>{const j=$(actions$);return $(hasBrowserTranslation$)||(actionsKey=0),j.map(_e=>({..._e,name:templateParser.parse(_e.name),key:actionsKey++}))});let objectsKey=0;const objectsWithParsedName$=atom($=>{const j=$(objects$);return $(hasBrowserTranslation$)||(objectsKey=0),j.map(_e=>({..._e,name:templateParser.parse(_e.name),key:objectsKey++}))});let menuKey=0;const menuWithParsedName$=atom($=>{const j=$(menu$);return $(hasBrowserTranslation$)||(menuKey=0),j.items.map(_e=>({..._e,name:templateParser.parse(_e.name),key:menuKey++}))});function createVariableAtom($,j){const _e=atom(j??"");return qspApi$.watch(et=>{et==null||et.watchVariable($,tt=>{_e.set(tt||j||"")})}),_e}const mainFormat$=createVariableAtom("$MAIN_FORMAT"),aeroParsedMainContent$=atom($=>{let j=$(mainContent$);const _e=$(mainFormat$);return _e&&(j=_e.replace(TEXT_PLACEHOLDER,j)),$(hasBrowserTranslation$)||(mainContentKey=0),{content:templateParser.parse(j),key:mainContentKey++}}),statsFormat$=createVariableAtom("$STATS_FORMAT"),aeroParsedStatsContent$=atom($=>{let j=$(statsContent$);const _e=$(statsFormat$);return _e&&(j=_e.replace(TEXT_PLACEHOLDER,j)),$(hasBrowserTranslation$)||(statsContentKey=0),{content:templateParser.parse(j),key:statsContentKey++}}),inputFormat$=createVariableAtom("$INPUT_FORMAT"),aeroParsedInputContent$=atom($=>{let j=$(input$).content;const _e=$(inputFormat$);return _e&&(j=_e.replace(TEXT_PLACEHOLDER,j)),$(hasBrowserTranslation$)||(inputKey=0),{content:templateParser.parse(j),key:inputKey++}}),msgFormat$=createVariableAtom("$MSG_FORMAT"),aeroParsedMsgContent$=atom($=>{let j=$(msg$).content;const _e=$(msgFormat$);return _e&&(j=_e.replace(TEXT_PLACEHOLDER,j)),$(hasBrowserTranslation$)||(msgKey=0),{content:templateParser.parse(j),key:msgKey++}}),actionFormat$=createVariableAtom("$ACTION_FORMAT",DEFAULT_LIST_FORMAT),selectedActionFormat$=createVariableAtom("$SEL_ACTION_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroActionsWithParsedName$=atom($=>{const j=$(actions$),_e=$(actionFormat$),et=$(selectedActionFormat$),tt=$(selectedAction$);return $(hasBrowserTranslation$)||(actionsKey=0),j.map((nt,rt)=>{const st=rt===tt?et:_e;return{...nt,name:templateParser.parse(st.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:actionsKey++}})}),objectsFormat$=createVariableAtom("$OBJECT_FORMAT",DEFAULT_LIST_FORMAT),selectedObjectFormat$=createVariableAtom("$SEL_OBJECT_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroObjectsWithParsedName$=atom($=>{const j=$(objects$),_e=$(objectsFormat$),et=$(selectedObjectFormat$),tt=$(selectedObject$);return $(hasBrowserTranslation$)||(objectsKey=0),j.map((nt,rt)=>{const st=rt===tt?et:_e;return{...nt,name:templateParser.parse(st.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:objectsKey++}})}),menuFormat$=createVariableAtom("$MENU_FORMAT",DEFAULT_LIST_FORMAT),selectedMenuFormat$=createVariableAtom("$SEL_MENU_FORMAT",DEFAULT_SELECTED_LIST_FORMAT),aeroMenuWithParsedName$=atom($=>{const j=$(menu$),_e=$(menuFormat$),et=$(selectedMenuFormat$),tt=$(selectedMenuItem$);return $(hasBrowserTranslation$)||(menuKey=0),j.items.map((nt,rt)=>{const st=rt===tt?et:_e;return{...nt,name:templateParser.parse(st.replace(TEXT_PLACEHOLDER,nt.name).replace(IMAGE_PLACEHOLDER,nt.image||"")),key:menuKey++}})}),QspPlayer=()=>{const{attrs:$,template:j}=useAtom_2(playerTemplate$),[_e,et,tt]=useAttributes($,"qsp-player");return jsxRuntimeExports.jsx(_e,{style:et,...tt,children:jsxRuntimeExports.jsx(Markup,{content:j})})},loadingMessage$=atom(""),QspiderLoader=()=>{const $=useAtom_2(loadingMessage$);return jsxRuntimeExports.jsxs("div",{className:"q-loader",children:[jsxRuntimeExports.jsxs("div",{className:"q-book",children:[jsxRuntimeExports.jsxs("div",{className:"q-inner",children:[jsxRuntimeExports.jsx("div",{className:"q-left"})," ",jsxRuntimeExports.jsx("div",{className:"q-middle"})," ",jsxRuntimeExports.jsx("div",{className:"q-right"})]}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{}),jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})," ",jsxRuntimeExports.jsx("li",{})]})]}),$&&jsxRuntimeExports.jsx("div",{className:"q-loader__message",children:$})]})},ClickCoordinates=()=>{const{x:$,y:j}=useClickCoordinates(),_e=`qsp-game-root {--mouse-x: ${$}px;--mouse-y:${j}px;}`;return jsxRuntimeExports.jsx("style",{children:_e})};var ROOT_NAME="AlertDialog",[createAlertDialogContext,createAlertDialogScope]=createContextScope(ROOT_NAME,[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog=$=>{const{__scopeAlertDialog:j,..._e}=$,et=useDialogScope(j);return jsxRuntimeExports.jsx(Root$4,{...et,..._e,modal:!0})};AlertDialog.displayName=ROOT_NAME;var TRIGGER_NAME="AlertDialogTrigger",AlertDialogTrigger=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Trigger$1,{...tt,...et,ref:j})});AlertDialogTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="AlertDialogPortal",AlertDialogPortal=$=>{const{__scopeAlertDialog:j,..._e}=$,et=useDialogScope(j);return jsxRuntimeExports.jsx(Portal$1,{...et,..._e})};AlertDialogPortal.displayName=PORTAL_NAME;var OVERLAY_NAME="AlertDialogOverlay",AlertDialogOverlay=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Overlay,{...tt,...et,ref:j})});AlertDialogOverlay.displayName=OVERLAY_NAME;var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),AlertDialogContent=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,children:et,...tt}=$,nt=useDialogScope(_e),rt=reactExports.useRef(null),st=useComposedRefs(j,rt),at=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:_e,cancelRef:at,children:jsxRuntimeExports.jsxs(Content$1,{role:"alertdialog",...nt,...tt,ref:st,onOpenAutoFocus:composeEventHandlers(tt.onOpenAutoFocus,ut=>{var dt;ut.preventDefault(),(dt=at.current)==null||dt.focus({preventScroll:!0})}),onPointerDownOutside:ut=>ut.preventDefault(),onInteractOutside:ut=>ut.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:et}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:rt})]})})})});AlertDialogContent.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Title,{...tt,...et,ref:j})});AlertDialogTitle.displayName=TITLE_NAME;var DESCRIPTION_NAME="AlertDialogDescription",AlertDialogDescription=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Description,{...tt,...et,ref:j})});AlertDialogDescription.displayName=DESCRIPTION_NAME;var ACTION_NAME="AlertDialogAction",AlertDialogAction=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,tt=useDialogScope(_e);return jsxRuntimeExports.jsx(Close,{...tt,...et,ref:j})});AlertDialogAction.displayName=ACTION_NAME;var CANCEL_NAME="AlertDialogCancel",AlertDialogCancel=reactExports.forwardRef(($,j)=>{const{__scopeAlertDialog:_e,...et}=$,{cancelRef:tt}=useAlertDialogContentContext(CANCEL_NAME,_e),nt=useDialogScope(_e),rt=useComposedRefs(j,tt);return jsxRuntimeExports.jsx(Close,{...nt,...et,ref:rt})});AlertDialogCancel.displayName=CANCEL_NAME;var DescriptionWarning=({contentRef:$})=>{const j=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CONTENT_NAME}\` by passing a \`${DESCRIPTION_NAME}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var et;document.getElementById((et=$.current)==null?void 0:et.getAttribute("aria-describedby"))||console.warn(j)},[j,$]),null},Root2=AlertDialog,Portal2=AlertDialogPortal,Overlay2=AlertDialogOverlay,Content2=AlertDialogContent,Cancel=AlertDialogCancel,Title2=AlertDialogTitle,Description2=AlertDialogDescription;const QspErrorAlert=()=>{const $=useAtom_2(qspError$),{t:j}=useTranslation();return $?jsxRuntimeExports.jsx(Root2,{open:!0,onOpenChange:()=>qspError$.set(null),children:jsxRuntimeExports.jsxs(Portal2,{container:document.getElementById("portal-container"),children:[jsxRuntimeExports.jsx(Overlay2,{className:"qsp-overlay"}),jsxRuntimeExports.jsx(Content2,{className:"qsp-dialog-container qsp-error-container",children:jsxRuntimeExports.jsxs("div",{className:"qsp-error",children:[jsxRuntimeExports.jsx(Title2,{children:j("Error")}),jsxRuntimeExports.jsxs(Description2,{children:[j("Error"),": ",j($.description),jsxRuntimeExports.jsx("br",{}),$.errorCode>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Error code"),": ",$.errorCode,jsxRuntimeExports.jsx("br",{})]}):"",$.location&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Location"),": ",$.location,jsxRuntimeExports.jsx("br",{})]}),$.actionIndex>=0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[j("Action index"),": ",$.actionIndex," ",jsxRuntimeExports.jsx("br",{})]}):"",$.line>=0?j("Line")+": "+$.line:"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("code",{children:$.lineSrc})]}),jsxRuntimeExports.jsx("div",{className:"qsp-dialog-buttons",children:jsxRuntimeExports.jsx(Cancel,{className:"qsp-button",children:j("Close")})})]})})]})}):null},QspCSSVariables=()=>{const $=useAtom_2(currentCssVariables$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$.map(j=>jsxRuntimeExports.jsx(QspCssVariable,{definition:j},j.name))})},imageSizes$=atom({}),QspCssVariableResource=$=>{const j=useSetup(st=>{const at=st.focus(ut=>ut.url);return at.watch(ut=>{if(ut=prepareUrl(ut),!!ut&&!imageSizes$.value[ut]){const dt=document.createElement("img");dt.onload=()=>{const ot={width:dt.naturalWidth,height:dt.naturalHeight};imageSizes$.update(lt=>({...lt,[ut]:ot}))},dt.src=ut}}),atom(ut=>{const dt=prepareUrl(ut(at));return ut(imageSizes$)[dt]??{width:0,height:0}})},$),_e=useAtom_2(j);let{url:et}=$;et=prepareUrl(et);const{name:tt}=$,nt=$.withSize?`${tt}-w: ${_e.width}px; ${tt}-h: ${_e.height}px`:"",rt=`qsp-game-root, #portal-container {${tt}: ${et?`url("${et}")`:"none"};${nt}}`;return jsxRuntimeExports.jsx("style",{children:rt})};function prepareUrl($){return $.startsWith("qspider:")?$=$.replace("qspider:",initialBaseUrl$.value):$=baseUrl$.value+$,$.replace("\\","/")}const QspCssVariable=({definition:$})=>{const j=useQspVariable($.from,"",0,""),_e=[];if($.type==="color"){const tt=j?convertColor(Number(j)):$.defaultValue;if(tt&&(_e.push(`${$.name}: ${tt}`),$.withContrast&&_e.push(`${$.name}-contrast: ${getContrastColor(tt)}`),$.withInverted)){const nt=invertColor(tt);_e.push(`${$.name}-inverted: ${nt}`),$.withContrast&&_e.push(`${$.name}-inverted-contrast: ${getContrastColor(nt)}`)}}else if($.type==="unit"){const tt=`${j||$.defaultValue}${$.unit||""}`;_e.push(`${$.name}: ${tt}`)}else{if($.type==="resource")return!j&&!$.defaultValue?null:jsxRuntimeExports.jsx(QspCssVariableResource,{name:$.name,url:j||$.defaultValue,withSize:$.withSize});j&&_e.push(`${$.name}: ${j}`)}if(!_e.length)return null;const et=`qsp-game-root, #portal-container {${_e.join("; ")}}`;return jsxRuntimeExports.jsx("style",{children:et})},WaitLock=()=>{const $=useAtom_2(wait$);return useEventListener("keypress",j=>{wait$.value&&(j.preventDefault(),j.stopPropagation(),finishWait())},document),$?jsxRuntimeExports.jsx("div",{className:"wait-lock",onClick:finishWait}):null},QspCSSLinks=()=>{const $=useAtom_2(currentCssLinks$),j=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$.map(_e=>jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:_e.startsWith("qspider:")?_e.replace("qspider:",j):_e},_e))})},QspScriptLinks=()=>{const $=useAtom_2(currentScriptLinks$),j=useAtom_2(initialBaseUrl$);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:$.map(_e=>jsxRuntimeExports.jsx("script",{src:_e.startsWith("qspider:")?_e.replace("qspider:",j):_e},_e))})},handler=throttle($=>{var j;if($.key==="Escape"){if(!currentGameEntry$.value||wait$.value||msg$.value.isOpen||input$.value.isOpen||menu$.value.isOpen||isPauseScreenVisible$.value||view$.value.isOpen&&view$.value.isModal)return;$.preventDefault(),$.stopPropagation(),((j=qspApi$.value)==null?void 0:j.readVariable("NOSAVE"))&&requestedAction$.set("load"),openPauseScreen()}},10),GameRunner=()=>{const $=useAtom_2(currentGameEntry$);return useEventListener("keydown",handler,document,{capture:!0}),$?jsxRuntimeExports.jsxs("qsp-game-root",{children:[jsxRuntimeExports.jsx(ClickCoordinates,{}),jsxRuntimeExports.jsx(QspCSSVariables,{}),jsxRuntimeExports.jsx(QspCSSLinks,{}),jsxRuntimeExports.jsx(QspPlayer,{}),jsxRuntimeExports.jsx(WaitLock,{}),jsxRuntimeExports.jsx(QspErrorAlert,{}),jsxRuntimeExports.jsx(QspScriptLinks,{})]}):jsxRuntimeExports.jsx(QspiderLoader,{})};async function runConfig($){const j=new URL($);j.hash="",j.search="";const _e=j.toString();if(!_e.endsWith(".cfg"))throw new Error("Only .cfg files are supported");const et=await fetchProxyFallback($).then(st=>{if(!st.ok)throw new Error(`Failed to load url ${$}`);return st.text()}),tt=parseToml(et),[nt]=tt.game;if(!nt)throw new Error("Game not found");const rt=_e.slice(0,_e.lastIndexOf("/")+1);return{id:nt.id,mode:nt.mode,title:nt.title,author:nt.author,ported_by:nt.ported_by,version:nt.version,loadConfig:{url:rt,entrypoint:nt.file,descriptor:nt}}}async function init(){document.body.classList.add("mode-web"),initialBaseUrl$.set(prepareBaseUrl(window.location.href)),onGameEnd$.set(()=>{windowManager.closeWindow()});const $=new URL("game/game.cfg",initialBaseUrl$.value),j=await runConfig($.toString());initDeferred$.value.resolve(),await initQspApi(),await registerDefaultThemes(initialBaseUrl$.value),await runGame(j),baseInit$.set(!0)}init();const App=()=>useAtom_2(baseInit$)?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(QspiderLoader,{}),children:jsxRuntimeExports.jsx(QspiderRoot,{children:jsxRuntimeExports.jsx(GameRunner,{})})}):jsxRuntimeExports.jsx(QspiderLoader,{}),root=createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
